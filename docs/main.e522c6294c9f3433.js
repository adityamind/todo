"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[179],{6217:(Wt,He,G)=>{G.d(He,{nm:()=>Gi});var b=G(4976);G(4650),G(259);var Me=G(5861),Ae=G(6881),Qe=G(4859),At=G(2090),Dt=G(1877);const Ee=new Map,Ht={activated:!1,tokenObservers:[]},Pt={initialized:!1,enabled:!1};function Mt(je){return Ee.get(je)||Object.assign({},Ht)}function tn(){return Pt}const pi="https://content-firebaseappcheck.googleapis.com/v1",ct="exchangeDebugToken",ot={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mt{constructor(Fe,nt,Tt,kt,Vn){if(this.operation=Fe,this.retryPolicy=nt,this.getWaitDuration=Tt,this.lowerBound=kt,this.upperBound=Vn,this.pending=null,this.nextErrorWaitInterval=kt,kt>Vn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Fe){var nt=this;return(0,Me.Z)(function*(){nt.stop();try{nt.pending=new At.BH,yield function bt(je){return new Promise(Fe=>{setTimeout(Fe,je)})}(nt.getNextRun(Fe)),nt.pending.resolve(),yield nt.pending.promise,nt.pending=new At.BH,yield nt.operation(),nt.pending.resolve(),yield nt.pending.promise,nt.process(!0).catch(()=>{})}catch(Tt){nt.retryPolicy(Tt)?nt.process(!1).catch(()=>{}):nt.stop()}})()}getNextRun(Fe){if(Fe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const nt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),nt}}}const En=new At.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qt(je){if(!Mt(je).activated)throw En.create("use-before-activation",{appName:je.name})}function gr(je,Fe){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,Me.Z)(function*({url:je,body:Fe},nt){const Tt={"Content-Type":"application/json"},kt=nt.getImmediate({optional:!0});if(kt){const Jr=yield kt.getHeartbeatsHeader();Jr&&(Tt["X-Firebase-Client"]=Jr)}const Vn={method:"POST",body:JSON.stringify(Fe),headers:Tt};let qn,ir;try{qn=yield fetch(je,Vn)}catch(Jr){throw En.create("fetch-network-error",{originalErrorMessage:Jr?.message})}if(200!==qn.status)throw En.create("fetch-status-error",{httpStatus:qn.status});try{ir=yield qn.json()}catch(Jr){throw En.create("fetch-parse-error",{originalErrorMessage:Jr?.message})}const Yn=ir.ttl.match(/^([\d.]+)(s)$/);if(!Yn||!Yn[2]||isNaN(Number(Yn[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${ir.ttl}`});const es=1e3*Number(Yn[1]),Xs=Date.now();return{token:ir.token,expireTimeMillis:Xs+es,issuedAtTimeMillis:Xs}})).apply(this,arguments)}function ar(je,Fe){const{projectId:nt,appId:Tt,apiKey:kt}=je.options;return{url:`${pi}/projects/${nt}/apps/${Tt}:${ct}?key=${kt}`,body:{debug_token:Fe}}}const ni="firebase-app-check-database",Ye=1,ke="firebase-app-check-store";let Ue=null;function _n(je,Fe){return On.apply(this,arguments)}function On(){return(On=(0,Me.Z)(function*(je,Fe){const Tt=(yield function Ot(){return Ue||(Ue=new Promise((je,Fe)=>{try{const nt=indexedDB.open(ni,Ye);nt.onsuccess=Tt=>{je(Tt.target.result)},nt.onerror=Tt=>{var kt;Fe(En.create("storage-open",{originalErrorMessage:null===(kt=Tt.target.error)||void 0===kt?void 0:kt.message}))},nt.onupgradeneeded=Tt=>{0===Tt.oldVersion&&Tt.target.result.createObjectStore(ke,{keyPath:"compositeKey"})}}catch(nt){Fe(En.create("storage-open",{originalErrorMessage:nt?.message}))}}),Ue)}()).transaction(ke,"readwrite"),Vn=Tt.objectStore(ke).put({compositeKey:je,value:Fe});return new Promise((qn,ir)=>{Vn.onsuccess=Yn=>{qn()},Tt.onerror=Yn=>{var es;ir(En.create("storage-set",{originalErrorMessage:null===(es=Yn.target.error)||void 0===es?void 0:es.message}))}})})).apply(this,arguments)}const cn=new Dt.Yd("@firebase/app-check");function Hn(je,Fe){return(0,At.hl)()?function Pn(je,Fe){return _n(function or(je){return`${je.options.appId}-${je.name}`}(je),Fe)}(je,Fe).catch(nt=>{cn.warn(`Failed to write token to IndexedDB. Error: ${nt}`)}):Promise.resolve()}function Si(){return tn().enabled}function nr(){return li.apply(this,arguments)}function li(){return(li=(0,Me.Z)(function*(){const je=tn();if(je.enabled&&je.token)return je.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Br={error:"UNKNOWN_ERROR"};function Sr(je){return At.US.encodeString(JSON.stringify(je),!1)}function ui(je){return yr.apply(this,arguments)}function yr(){return(yr=(0,Me.Z)(function*(je,Fe=!1){const nt=je.app;qt(nt);const Tt=Mt(nt);let Vn,kt=Tt.token;if(kt&&!ee(kt)&&(Tt.token=void 0,kt=void 0),!kt){const Yn=yield Tt.cachedTokenPromise;Yn&&(ee(Yn)?kt=Yn:yield Hn(nt,void 0))}if(!Fe&&kt&&ee(kt))return{token:kt.token};let ir,qn=!1;if(Si()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=gr(ar(nt,yield nr()),je.heartbeatServiceProvider).finally(()=>{Tt.exchangeTokenPromise=void 0}),qn=!0);const Yn=yield Tt.exchangeTokenPromise;return yield Hn(nt,Yn),Tt.token=Yn,{token:Yn.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().finally(()=>{Tt.exchangeTokenPromise=void 0}),qn=!0),kt=yield Mt(nt).exchangeTokenPromise}catch(Yn){"appCheck/throttled"===Yn.code?cn.warn(Yn.message):cn.error(Yn),Vn=Yn}return kt?Vn?ir=ee(kt)?{token:kt.token,internalError:Vn}:Re(Vn):(ir={token:kt.token},Tt.token=kt,yield Hn(nt,kt)):ir=Re(Vn),qn&&function oe(je,Fe){const nt=Mt(je).tokenObservers;for(const Tt of nt)try{"EXTERNAL"===Tt.type&&null!=Fe.error?Tt.error(Fe.error):Tt.next(Fe)}catch{}}(nt,ir),ir})).apply(this,arguments)}function ci(je){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Me.Z)(function*(je){const Fe=je.app;qt(Fe);const{provider:nt}=Mt(Fe);if(Si()){const Tt=yield nr(),{token:kt}=yield gr(ar(Fe,Tt),je.heartbeatServiceProvider);return{token:kt}}{const{token:Tt}=yield nt.getToken();return{token:Tt}}})).apply(this,arguments)}function Se(je,Fe){const nt=Mt(je),Tt=nt.tokenObservers.filter(kt=>kt.next!==Fe);0===Tt.length&&nt.tokenRefresher&&nt.tokenRefresher.isRunning()&&nt.tokenRefresher.stop(),nt.tokenObservers=Tt}function ye(je){const{app:Fe}=je,nt=Mt(Fe);let Tt=nt.tokenRefresher;Tt||(Tt=function ne(je){const{app:Fe}=je;return new mt((0,Me.Z)(function*(){let Tt;if(Tt=Mt(Fe).token?yield ui(je,!0):yield ui(je),Tt.error)throw Tt.error;if(Tt.internalError)throw Tt.internalError}),()=>!0,()=>{const nt=Mt(Fe);if(nt.token){let Tt=nt.token.issuedAtTimeMillis+.5*(nt.token.expireTimeMillis-nt.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,nt.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},ot.RETRIAL_MIN_WAIT,ot.RETRIAL_MAX_WAIT)}(je),nt.tokenRefresher=Tt),!Tt.isRunning()&&nt.isTokenAutoRefreshEnabled&&Tt.start()}function ee(je){return je.expireTimeMillis-Date.now()>0}function Re(je){return{token:Sr(Br),error:je}}class fe{constructor(Fe,nt){this.app=Fe,this.heartbeatServiceProvider=nt}_delete(){const{tokenObservers:Fe}=Mt(this.app);for(const nt of Fe)Se(this.app,nt.next);return Promise.resolve()}}const Ji="app-check-internal";!function di(){(0,Ae._registerComponent)(new Qe.wA("app-check",je=>function ve(je,Fe){return new fe(je,Fe)}(je.getProvider("app").getImmediate(),je.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((je,Fe,nt)=>{je.getProvider(Ji).initialize()})),(0,Ae._registerComponent)(new Qe.wA(Ji,je=>function ce(je){return{getToken:Fe=>ui(je,Fe),getLimitedUseToken:()=>ci(je),addTokenListener:Fe=>function Tr(je,Fe,nt,Tt){const{app:kt}=je,Vn=Mt(kt);if(Vn.tokenObservers=[...Vn.tokenObservers,{next:nt,error:Tt,type:Fe}],Vn.token&&ee(Vn.token)){const ir=Vn.token;Promise.resolve().then(()=>{nt({token:ir.token}),ye(je)}).catch(()=>{})}Vn.cachedTokenPromise.then(()=>ye(je))}(je,"INTERNAL",Fe),removeTokenListener:Fe=>Se(je.app,Fe)}}(je.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.8.0")}();class Gi{constructor(){return(0,b.vb)("app-check")}}typeof window<"u"&&window},1205:(Wt,He,G)=>{G.d(He,{zQ:()=>pi,rT:()=>Pt,f7:()=>mn,L6:()=>Ee,_Q:()=>Ht,lh:()=>Mt,Qv:()=>Dt,nw:()=>tn});var b=G(4650),z=G(7579),W=G(9646),f=G(9751),De=G(8996),Ie=G(6451),Pe=G(5363),de=G(3900),$e=G(4004),_e=G(6063);class ge extends z.x{constructor(ct=1/0,ot=1/0,It=_e.l){super(),this._bufferSize=ct,this._windowTime=ot,this._timestampProvider=It,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ot===1/0,this._bufferSize=Math.max(1,ct),this._windowTime=Math.max(1,ot)}next(ct){const{isStopped:ot,_buffer:It,_infiniteTimeWindow:mt,_timestampProvider:bt,_windowTime:zt}=this;ot||(It.push(ct),!mt&&It.push(bt.now()+zt)),this._trimBuffer(),super.next(ct)}_subscribe(ct){this._throwIfClosed(),this._trimBuffer();const ot=this._innerSubscribe(ct),{_infiniteTimeWindow:It,_buffer:mt}=this,bt=mt.slice();for(let zt=0;zt<bt.length&&!ct.closed;zt+=It?1:2)ct.next(bt[zt]);return this._checkFinalizedStatuses(ct),ot}_trimBuffer(){const{_bufferSize:ct,_timestampProvider:ot,_buffer:It,_infiniteTimeWindow:mt}=this,bt=(mt?1:2)*ct;if(ct<1/0&&bt<It.length&&It.splice(0,It.length-bt),!mt){const zt=ot.now();let En=0;for(let wt=1;wt<It.length&&It[wt]<=zt;wt+=2)En=wt;En&&It.splice(0,En+1)}}}var Ne=G(3099);function rt(Ze,ct,ot){let It,mt=!1;return Ze&&"object"==typeof Ze?({bufferSize:It=1/0,windowTime:ct=1/0,refCount:mt=!1,scheduler:ot}=Ze):It=Ze??1/0,(0,Ne.B)({connector:()=>new ge(It,ct,ot),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:mt})}var st=G(590),Je=G(576);function tt(Ze,ct){return(0,Je.m)(ct)?(0,de.w)(()=>Ze,ct):(0,de.w)(()=>Ze)}var qe=G(9468),Ve=G(9300),me=G(4976),ht=G(2011),Me=G(6895),Ae=G(6217);G(9260);const Dt=new b.OlP("angularfire2.auth.use-emulator"),Ee=new b.OlP("angularfire2.auth.settings"),Ht=new b.OlP("angularfire2.auth.tenant-id"),Pt=new b.OlP("angularfire2.auth.langugage-code"),Mt=new b.OlP("angularfire2.auth.use-device-language"),mn=new b.OlP("angularfire.auth.persistence"),tn=(Ze,ct,ot,It,mt,bt,zt,En)=>(0,ht.cc)(`${Ze.name}.auth`,"AngularFireAuth",Ze.name,()=>{const wt=ct.runOutsideAngular(()=>Ze.auth());if(ot&&wt.useEmulator(...ot),It&&(wt.tenantId=It),wt.languageCode=mt,bt&&wt.useDeviceLanguage(),zt)for(const[qt,hn]of Object.entries(zt))wt.settings[qt]=hn;return En&&wt.setPersistence(En),wt},[ot,It,mt,bt,zt,En]);let pi=(()=>{class Ze{constructor(ot,It,mt,bt,zt,En,wt,qt,hn,Jn,gr,Yr){const Xn=new z.x,er=(0,W.of)(void 0).pipe((0,Pe.Q)(zt.outsideAngular),(0,de.w)(()=>bt.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9568)))),(0,$e.U)(()=>(0,ht.on)(ot,bt,It)),(0,$e.U)(ar=>tn(ar,bt,En,qt,hn,Jn,wt,gr)),rt({bufferSize:1,refCount:!1}));if((0,Me.PM)(mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{er.pipe((0,st.P)()).subscribe();const ni=er.pipe((0,de.w)(Ge=>Ge.getRedirectResult().then(Ue=>Ue,()=>null)),me.iC,rt({bufferSize:1,refCount:!1})),Ye=er.pipe((0,de.w)(Ge=>new f.y(Ue=>({unsubscribe:bt.runOutsideAngular(()=>Ge.onAuthStateChanged(Ot=>Ue.next(Ot),Ot=>Ue.error(Ot),()=>Ue.complete()))})))),ke=er.pipe((0,de.w)(Ge=>new f.y(Ue=>({unsubscribe:bt.runOutsideAngular(()=>Ge.onIdTokenChanged(Ot=>Ue.next(Ot),Ot=>Ue.error(Ot),()=>Ue.complete()))}))));this.authState=ni.pipe(tt(Ye),(0,qe.R)(zt.outsideAngular),(0,Pe.Q)(zt.insideAngular)),this.user=ni.pipe(tt(ke),(0,qe.R)(zt.outsideAngular),(0,Pe.Q)(zt.insideAngular)),this.idToken=this.user.pipe((0,de.w)(Ge=>Ge?(0,De.D)(Ge.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(Ge=>Ge?(0,De.D)(Ge.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,Ie.T)(ni,Xn,this.authState.pipe((0,Ve.h)(Ge=>!Ge))).pipe((0,$e.U)(Ge=>Ge?.user?Ge:null),(0,qe.R)(zt.outsideAngular),(0,Pe.Q)(zt.insideAngular))}return(0,ht.pX)(this,er,bt,{spy:{apply:(ar,ni,Ye)=>{(ar.startsWith("signIn")||ar.startsWith("createUser"))&&Ye.then(ke=>Xn.next(ke))}}})}}return Ze.\u0275fac=function(ot){return new(ot||Ze)(b.LFG(ht.Dh),b.LFG(ht.xv,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(me.HU),b.LFG(Dt,8),b.LFG(Ee,8),b.LFG(Ht,8),b.LFG(Pt,8),b.LFG(Mt,8),b.LFG(mn,8),b.LFG(Ae.nm,8))},Ze.\u0275prov=b.Yz7({token:Ze,factory:Ze.\u0275fac,providedIn:"any"}),Ze})()},8445:(Wt,He,G)=>{G.d(He,{Q1:()=>ya,TE:()=>to});var b=G(9751),z=G(9646),W=G(8996),f=G(8372),De=G(4004),Ie=G(3900),Pe=G(4976),de=G(4650),$e=G(2011),_e=G(3942),ge=G(5861),Ne=G(6881),rt=G(2090),st=G(4859);const Je="firebasestorage.googleapis.com",tt="storageBucket";class ht extends rt.ZR{constructor(D,I,V=0){super(Ae(D),`Firebase Storage: ${I} (${Ae(D)})`),this.status_=V,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(D){this.status_=D}_codeEquals(D){return Ae(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Me=(()=>{return(E=Me||(Me={})).UNKNOWN="unknown",E.OBJECT_NOT_FOUND="object-not-found",E.BUCKET_NOT_FOUND="bucket-not-found",E.PROJECT_NOT_FOUND="project-not-found",E.QUOTA_EXCEEDED="quota-exceeded",E.UNAUTHENTICATED="unauthenticated",E.UNAUTHORIZED="unauthorized",E.UNAUTHORIZED_APP="unauthorized-app",E.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",E.INVALID_CHECKSUM="invalid-checksum",E.CANCELED="canceled",E.INVALID_EVENT_NAME="invalid-event-name",E.INVALID_URL="invalid-url",E.INVALID_DEFAULT_BUCKET="invalid-default-bucket",E.NO_DEFAULT_BUCKET="no-default-bucket",E.CANNOT_SLICE_BLOB="cannot-slice-blob",E.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",E.NO_DOWNLOAD_URL="no-download-url",E.INVALID_ARGUMENT="invalid-argument",E.INVALID_ARGUMENT_COUNT="invalid-argument-count",E.APP_DELETED="app-deleted",E.INVALID_ROOT_OPERATION="invalid-root-operation",E.INVALID_FORMAT="invalid-format",E.INTERNAL_ERROR="internal-error",E.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Me;var E})();function Ae(E){return"storage/"+E}function Qe(){return new ht(Me.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Mt(){return new ht(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mn(){return new ht(Me.CANCELED,"User canceled the upload/download.")}function Ze(){return new ht(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mt(E){return new ht(Me.INVALID_ARGUMENT,E)}function bt(){return new ht(Me.APP_DELETED,"The Firebase app was deleted.")}function zt(E){return new ht(Me.INVALID_ROOT_OPERATION,"The operation '"+E+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function En(E,D){return new ht(Me.INVALID_FORMAT,"String does not match format '"+E+"': "+D)}function wt(E){throw new ht(Me.INTERNAL_ERROR,"Internal error: "+E)}class qt{constructor(D,I){this.bucket=D,this.path_=I}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,I){let V;try{V=qt.makeFromUrl(D,I)}catch{return new qt(D,"")}if(""===V.path)return V;throw function pi(E){return new ht(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+E+"'.")}(D)}static makeFromUrl(D,I){let V=null;const le="([A-Za-z0-9.\\-_]+)",Be=new RegExp("^gs://"+le+"(/(.*))?$","i");function Wn(Ir){Ir.path_=decodeURIComponent(Ir.path)}const mr=I.replace(/[.]/g,"\\."),Bi=[{regex:Be,indices:{bucket:1,path:3},postModify:function Oe(Ir){"/"===Ir.path.charAt(Ir.path.length-1)&&(Ir.path_=Ir.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${mr}/v[A-Za-z0-9_]+/b/${le}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Wn},{regex:new RegExp(`^https?://${I===Je?"(?:storage.googleapis.com|storage.cloud.google.com)":I}/${le}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Wn}];for(let Ir=0;Ir<Bi.length;Ir++){const ts=Bi[Ir],bs=ts.regex.exec(D);if(bs){let ws=bs[ts.indices.path];ws||(ws=""),V=new qt(bs[ts.indices.bucket],ws),ts.postModify(V);break}}if(null==V)throw function tn(E){return new ht(Me.INVALID_URL,"Invalid URL '"+E+"'.")}(D);return V}}class hn{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function ar(E){return"string"==typeof E||E instanceof String}function ni(E){return Ye()&&E instanceof Blob}function Ye(){return typeof Blob<"u"&&!(0,rt.UG)()}function ke(E,D,I,V){if(V<D)throw mt(`Invalid value for '${E}'. Expected ${D} or greater.`);if(V>I)throw mt(`Invalid value for '${E}'. Expected ${I} or less.`)}function Ge(E,D,I){let V=D;return null==I&&(V=`https://${D}`),`${I}://${V}/v0${E}`}function Ue(E){const D=encodeURIComponent;let I="?";for(const V in E)E.hasOwnProperty(V)&&(I=I+(D(V)+"=")+D(E[V])+"&");return I=I.slice(0,-1),I}var Ot=(()=>{return(E=Ot||(Ot={}))[E.NO_ERROR=0]="NO_ERROR",E[E.NETWORK_ERROR=1]="NETWORK_ERROR",E[E.ABORT=2]="ABORT",Ot;var E})();function Qt(E,D){const I=E>=500&&E<600,le=-1!==[408,429].indexOf(E),Oe=-1!==D.indexOf(E);return I||le||Oe}class Pn{constructor(D,I,V,le,Oe,Rt,Be,Ft,Wn,cr,mr,Ni=!0){this.url_=D,this.method_=I,this.headers_=V,this.body_=le,this.successCodes_=Oe,this.additionalRetryCodes_=Rt,this.callback_=Be,this.errorCallback_=Ft,this.timeout_=Wn,this.progressCallback_=cr,this.connectionFactory_=mr,this.retry=Ni,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((si,zr)=>{this.resolve_=si,this.reject_=zr,this.start_()})}start_(){const I=(V,le)=>{const Oe=this.resolve_,Rt=this.reject_,Be=le.connection;if(le.wasSuccessCode)try{const Ft=this.callback_(Be,Be.getResponse());!function Yr(E){return void 0!==E}(Ft)?Oe():Oe(Ft)}catch(Ft){Rt(Ft)}else if(null!==Be){const Ft=Qe();Ft.serverResponse=Be.getErrorText(),Rt(this.errorCallback_?this.errorCallback_(Be,Ft):Ft)}else Rt(le.canceled?this.appDelete_?bt():mn():Mt())};this.canceled_?I(0,new Tn(!1,null,!0)):this.backoffId_=function Jn(E,D,I){let V=1,le=null,Oe=null,Rt=!1,Be=0;function Ft(){return 2===Be}let Wn=!1;function cr(...zi){Wn||(Wn=!0,D.apply(null,zi))}function mr(zi){le=setTimeout(()=>{le=null,E(si,Ft())},zi)}function Ni(){Oe&&clearTimeout(Oe)}function si(zi,...No){if(Wn)return void Ni();if(zi)return Ni(),void cr.call(null,zi,...No);if(Ft()||Rt)return Ni(),void cr.call(null,zi,...No);let Bi;V<64&&(V*=2),1===Be?(Be=2,Bi=0):Bi=1e3*(V+Math.random()),mr(Bi)}let zr=!1;function xi(zi){zr||(zr=!0,Ni(),!Wn&&(null!==le?(zi||(Be=2),clearTimeout(le),mr(0)):zi||(Be=1)))}return mr(0),Oe=setTimeout(()=>{Rt=!0,xi(!0)},I),xi}((V,le)=>{if(le)return void V(!1,new Tn(!1,null,!0));const Oe=this.connectionFactory_();this.pendingConnection_=Oe;const Rt=Be=>{null!==this.progressCallback_&&this.progressCallback_(Be.loaded,Be.lengthComputable?Be.total:-1)};null!==this.progressCallback_&&Oe.addUploadProgressListener(Rt),Oe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Oe.removeUploadProgressListener(Rt),this.pendingConnection_=null;const Be=Oe.getErrorCode()===Ot.NO_ERROR,Ft=Oe.getStatus();if(!Be||Qt(Ft,this.additionalRetryCodes_)&&this.retry){const cr=Oe.getErrorCode()===Ot.ABORT;return void V(!1,new Tn(!1,null,cr))}const Wn=-1!==this.successCodes_.indexOf(Ft);V(!0,new Tn(Wn,Oe))})},I,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function gr(E){E(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Tn{constructor(D,I,V){this.wasSuccessCode=D,this.connection=I,this.canceled=!!V}}function cn(...E){const D=function or(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==D){const I=new D;for(let V=0;V<E.length;V++)I.append(E[V]);return I.getBlob()}if(Ye())return new Blob(E);throw new ht(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Hn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ri{constructor(D,I){this.data=D,this.contentType=I||null}}function kn(E,D){switch(E){case Hn.RAW:return new ri(Si(D));case Hn.BASE64:case Hn.BASE64URL:return new ri(li(E,D));case Hn.DATA_URL:return new ri(function Br(E){const D=new Bn(E);return D.base64?li(Hn.BASE64,D.rest):function nr(E){let D;try{D=decodeURIComponent(E)}catch{throw En(Hn.DATA_URL,"Malformed data URL.")}return Si(D)}(D.rest)}(D),function Sr(E){return new Bn(E).contentType}(D))}throw Qe()}function Si(E){const D=[];for(let I=0;I<E.length;I++){let V=E.charCodeAt(I);V<=127?D.push(V):V<=2047?D.push(192|V>>6,128|63&V):55296==(64512&V)?I<E.length-1&&56320==(64512&E.charCodeAt(I+1))?(V=65536|(1023&V)<<10|1023&E.charCodeAt(++I),D.push(240|V>>18,128|V>>12&63,128|V>>6&63,128|63&V)):D.push(239,191,189):56320==(64512&V)?D.push(239,191,189):D.push(224|V>>12,128|V>>6&63,128|63&V)}return new Uint8Array(D)}function li(E,D){switch(E){case Hn.BASE64:{const le=-1!==D.indexOf("-"),Oe=-1!==D.indexOf("_");if(le||Oe)throw En(E,"Invalid character '"+(le?"-":"_")+"' found: is it base64url encoded?");break}case Hn.BASE64URL:{const le=-1!==D.indexOf("+"),Oe=-1!==D.indexOf("/");if(le||Oe)throw En(E,"Invalid character '"+(le?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let I;try{I=function lr(E){if(typeof atob>"u")throw function It(E){return new ht(Me.UNSUPPORTED_ENVIRONMENT,`${E} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(E)}(D)}catch(le){throw le.message.includes("polyfill")?le:En(E,"Invalid character found")}const V=new Uint8Array(I.length);for(let le=0;le<I.length;le++)V[le]=I.charCodeAt(le);return V}class Bn{constructor(D){this.base64=!1,this.contentType=null;const I=D.match(/^data:([^,]+)?,/);if(null===I)throw En(Hn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const V=I[1]||null;null!=V&&(this.base64=function ui(E,D){return E.length>=D.length&&E.substring(E.length-D.length)===D}(V,";base64"),this.contentType=this.base64?V.substring(0,V.length-7):V),this.rest=D.substring(D.indexOf(",")+1)}}class yr{constructor(D,I){let V=0,le="";ni(D)?(this.data_=D,V=D.size,le=D.type):D instanceof ArrayBuffer?(I?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),V=this.data_.length):D instanceof Uint8Array&&(I?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),V=D.length),this.size_=V,this.type_=le}size(){return this.size_}type(){return this.type_}slice(D,I){if(ni(this.data_)){const le=function hr(E,D,I){return E.webkitSlice?E.webkitSlice(D,I):E.mozSlice?E.mozSlice(D,I):E.slice?E.slice(D,I):null}(this.data_,D,I);return null===le?null:new yr(le)}{const V=new Uint8Array(this.data_.buffer,D,I-D);return new yr(V,!0)}}static getBlob(...D){if(Ye()){const I=D.map(V=>V instanceof yr?V.data_:V);return new yr(cn.apply(null,I))}{const I=D.map(Rt=>ar(Rt)?kn(Hn.RAW,Rt).data:Rt.data_);let V=0;I.forEach(Rt=>{V+=Rt.byteLength});const le=new Uint8Array(V);let Oe=0;return I.forEach(Rt=>{for(let Be=0;Be<Rt.length;Be++)le[Oe++]=Rt[Be]}),new yr(le,!0)}}uploadData(){return this.data_}}function ci(E){let D;try{D=JSON.parse(E)}catch{return null}return function er(E){return"object"==typeof E&&!Array.isArray(E)}(D)?D:null}function Se(E){const D=E.lastIndexOf("/",E.length-2);return-1===D?E:E.slice(D+1)}function ye(E,D){return D}class ne{constructor(D,I,V,le){this.server=D,this.local=I||D,this.writable=!!V,this.xform=le||ye}}let oe=null;function Re(){if(oe)return oe;const E=[];E.push(new ne("bucket")),E.push(new ne("generation")),E.push(new ne("metageneration")),E.push(new ne("name","fullPath",!0));const I=new ne("name");I.xform=function D(Oe,Rt){return function ee(E){return!ar(E)||E.length<2?E:Se(E)}(Rt)},E.push(I);const le=new ne("size");return le.xform=function V(Oe,Rt){return void 0!==Rt?Number(Rt):Rt},E.push(le),E.push(new ne("timeCreated")),E.push(new ne("updated")),E.push(new ne("md5Hash",null,!0)),E.push(new ne("cacheControl",null,!0)),E.push(new ne("contentDisposition",null,!0)),E.push(new ne("contentEncoding",null,!0)),E.push(new ne("contentLanguage",null,!0)),E.push(new ne("contentType",null,!0)),E.push(new ne("metadata","customMetadata",!0)),oe=E,oe}function ce(E,D,I){const V=ci(D);return null===V?null:function ve(E,D,I){const V={type:"file"},le=I.length;for(let Oe=0;Oe<le;Oe++){const Rt=I[Oe];V[Rt.local]=Rt.xform(V,D[Rt.server])}return function fe(E,D){Object.defineProperty(E,"ref",{get:function I(){const Oe=new qt(E.bucket,E.fullPath);return D._makeStorageReference(Oe)}})}(V,E),V}(E,V,I)}function Xe(E,D){const I={},V=D.length;for(let le=0;le<V;le++){const Oe=D[le];Oe.writable&&(I[Oe.server]=E[Oe.local])}return JSON.stringify(I)}const Ct="prefixes",on="items";class Dr{constructor(D,I,V,le){this.url=D,this.method=I,this.handler=V,this.timeout=le,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ut(E){if(!E)throw Qe()}function it(E,D){return function I(V,le){const Oe=ce(E,le,D);return ut(null!==Oe),Oe}}function bn(E){return function D(I,V){let le;return le=401===I.getStatus()?I.getErrorText().includes("Firebase App Check token is invalid")?function Ht(){return new ht(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ee(){return new ht(Me.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===I.getStatus()?function Dt(E){return new ht(Me.QUOTA_EXCEEDED,"Quota for bucket '"+E+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(E.bucket):403===I.getStatus()?function Pt(E){return new ht(Me.UNAUTHORIZED,"User does not have permission to access '"+E+"'.")}(E.path):V,le.status=I.getStatus(),le.serverResponse=V.serverResponse,le}}function jn(E){const D=bn(E);return function I(V,le){let Oe=D(V,le);return 404===V.getStatus()&&(Oe=function At(E){return new ht(Me.OBJECT_NOT_FOUND,"Object '"+E+"' does not exist.")}(E.path)),Oe.serverResponse=le.serverResponse,Oe}}function wn(E,D,I){const le=Ge(D.fullServerUrl(),E.host,E._protocol),Rt=E.maxOperationRetryTime,Be=new Dr(le,"GET",it(E,I),Rt);return Be.errorHandler=jn(D),Be}function vr(E,D,I,V,le){const Oe={};Oe.prefix=D.isRoot?"":D.path+"/",I&&I.length>0&&(Oe.delimiter=I),V&&(Oe.pageToken=V),le&&(Oe.maxResults=le);const Be=Ge(D.bucketOnlyServerUrl(),E.host,E._protocol),Wn=E.maxOperationRetryTime,cr=new Dr(Be,"GET",function Vt(E,D){return function I(V,le){const Oe=function Ar(E,D,I){const V=ci(I);return null===V?null:function an(E,D,I){const V={prefixes:[],items:[],nextPageToken:I.nextPageToken};if(I[Ct])for(const le of I[Ct]){const Oe=le.replace(/\/$/,""),Rt=E._makeStorageReference(new qt(D,Oe));V.prefixes.push(Rt)}if(I[on])for(const le of I[on]){const Oe=E._makeStorageReference(new qt(D,le.name));V.items.push(Oe)}return V}(E,D,V)}(E,D,le);return ut(null!==Oe),Oe}}(E,D.bucket),Wn);return cr.urlParams=Oe,cr.errorHandler=bn(D),cr}function Zs(E,D,I){const V=Object.assign({},I);return V.fullPath=E.path,V.size=D.size(),V.contentType||(V.contentType=function ta(E,D){return E&&E.contentType||D&&D.type()||"application/octet-stream"}(null,D)),V}class Jt{constructor(D,I,V,le){this.current=D,this.total=I,this.finalized=!!V,this.metadata=le||null}}function Zn(E,D){let I=null;try{I=E.getResponseHeader("X-Goog-Upload-Status")}catch{ut(!1)}return ut(!!I&&-1!==(D||["active"]).indexOf(I)),I}const Ei={STATE_CHANGED:"state_changed"},ur={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gi(E){switch(E){case"running":case"pausing":case"canceling":return ur.RUNNING;case"paused":return ur.PAUSED;case"success":return ur.SUCCESS;case"canceled":return ur.CANCELED;default:return ur.ERROR}}class us{constructor(D,I,V){if(function Xn(E){return"function"==typeof E}(D)||null!=I||null!=V)this.next=D,this.error=I??void 0,this.complete=V??void 0;else{const Oe=D;this.next=Oe.next,this.error=Oe.error,this.complete=Oe.complete}}}function Un(E){return(...D)=>{Promise.resolve().then(()=>E(...D))}}let cs=null;class Cs{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ot.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ot.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ot.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,I,V,le){if(this.sent_)throw wt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(I,D,!0),void 0!==le)for(const Oe in le)le.hasOwnProperty(Oe)&&this.xhr_.setRequestHeader(Oe,le[Oe].toString());return void 0!==V?this.xhr_.send(V):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}class Ys extends Cs{initXhr(){this.xhr_.responseType="text"}}function ji(){return cs?cs():new Ys}class Qs{constructor(D,I,V=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=I,this._metadata=V,this._mappings=Re(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=le=>{if(this._request=void 0,this._chunkMultiplier=1,le._codeEquals(Me.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Oe=this.isExponentialBackoffExpired();if(Qt(le.status,[])){if(!Oe)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();le=Mt()}this._error=le,this._transition("error")}},this._metadataErrorHandler=le=>{this._request=void 0,le._codeEquals(Me.CANCELED)?this.completeTransitions_():(this._error=le,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((le,Oe)=>{this._resolve=le,this._reject=Oe,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const D=this._transferred;return I=>this._updateProgress(D+I)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([I,V])=>{switch(this._state){case"running":D(I,V);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,I)=>{const V=function yi(E,D,I,V,le){const Oe=D.bucketOnlyServerUrl(),Rt=Zs(D,V,le),Be={name:Rt.fullPath},Ft=Ge(Oe,E.host,E._protocol),cr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${V.size()}`,"X-Goog-Upload-Header-Content-Type":Rt.contentType,"Content-Type":"application/json; charset=utf-8"},mr=Xe(Rt,I),zr=new Dr(Ft,"POST",function si(xi){let zi;Zn(xi);try{zi=xi.getResponseHeader("X-Goog-Upload-URL")}catch{ut(!1)}return ut(ar(zi)),zi},E.maxUploadRetryTime);return zr.urlParams=Be,zr.headers=cr,zr.body=mr,zr.errorHandler=bn(D),zr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),le=this._ref.storage._makeRequest(V,ji,D,I);this._request=le,le.getPromise().then(Oe=>{this._request=void 0,this._uploadUrl=Oe,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((I,V)=>{const le=function Er(E,D,I,V){const Ft=new Dr(I,"POST",function Oe(Wn){const cr=Zn(Wn,["active","final"]);let mr=null;try{mr=Wn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ut(!1)}mr||ut(!1);const Ni=Number(mr);return ut(!isNaN(Ni)),new Jt(Ni,V.size(),"final"===cr)},E.maxUploadRetryTime);return Ft.headers={"X-Goog-Upload-Command":"query"},Ft.errorHandler=bn(D),Ft}(this._ref.storage,this._ref._location,D,this._blob),Oe=this._ref.storage._makeRequest(le,ji,I,V);this._request=Oe,Oe.getPromise().then(Rt=>{this._request=void 0,this._updateProgress(Rt.current),this._needToFetchStatus=!1,Rt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,I=new Jt(this._transferred,this._blob.size()),V=this._uploadUrl;this._resolveToken((le,Oe)=>{let Rt;try{Rt=function di(E,D,I,V,le,Oe,Rt,Be){const Ft=new Jt(0,0);if(Rt?(Ft.current=Rt.current,Ft.total=Rt.total):(Ft.current=0,Ft.total=V.size()),V.size()!==Ft.total)throw function ct(){return new ht(Me.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Wn=Ft.total-Ft.current;let cr=Wn;le>0&&(cr=Math.min(cr,le));const mr=Ft.current;let si="";si=0===cr?"finalize":Wn===cr?"upload, finalize":"upload";const zr={"X-Goog-Upload-Command":si,"X-Goog-Upload-Offset":`${Ft.current}`},xi=V.slice(mr,mr+cr);if(null===xi)throw Ze();const Bi=new Dr(I,"POST",function zi(Ir,ts){const bs=Zn(Ir,["active","final"]),Fs=Ft.current+cr,ws=V.size();let Mo;return Mo="final"===bs?it(D,Oe)(Ir,ts):null,new Jt(Fs,ws,"final"===bs,Mo)},D.maxUploadRetryTime);return Bi.headers=zr,Bi.body=xi.uploadData(),Bi.progressCallback=Be||null,Bi.errorHandler=bn(E),Bi}(this._ref._location,this._ref.storage,V,this._blob,D,this._mappings,I,this._makeProgressCallback())}catch(Ft){return this._error=Ft,void this._transition("error")}const Be=this._ref.storage._makeRequest(Rt,ji,le,Oe,!1);this._request=Be,Be.getPromise().then(Ft=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ft.current),Ft.finalized?(this._metadata=Ft.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,I)=>{const V=wn(this._ref.storage,this._ref._location,this._mappings),le=this._ref.storage._makeRequest(V,ji,D,I);this._request=le,le.getPromise().then(Oe=>{this._request=void 0,this._metadata=Oe,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,I)=>{const V=function Nr(E,D,I,V,le){const Oe=D.bucketOnlyServerUrl(),Rt={"X-Goog-Upload-Protocol":"multipart"},Ft=function Be(){let Bi="";for(let Ir=0;Ir<2;Ir++)Bi+=Math.random().toString().slice(2);return Bi}();Rt["Content-Type"]="multipart/related; boundary="+Ft;const Wn=Zs(D,V,le),cr=Xe(Wn,I),si=yr.getBlob("--"+Ft+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cr+"\r\n--"+Ft+"\r\nContent-Type: "+Wn.contentType+"\r\n\r\n",V,"\r\n--"+Ft+"--");if(null===si)throw Ze();const zr={name:Wn.fullPath},xi=Ge(Oe,E.host,E._protocol),No=E.maxUploadRetryTime,vs=new Dr(xi,"POST",it(E,I),No);return vs.urlParams=zr,vs.headers=Rt,vs.body=si.uploadData(),vs.errorHandler=bn(D),vs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),le=this._ref.storage._makeRequest(V,ji,D,I);this._request=le,le.getPromise().then(Oe=>{this._request=void 0,this._metadata=Oe,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const I=this._transferred;this._transferred=D,this._transferred!==I&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const I="paused"===this._state;this._state=D,I&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=mn(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=Gi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,I,V,le){const Oe=new us(I||void 0,V||void 0,le||void 0);return this._addObserver(Oe),()=>{this._removeObserver(Oe)}}then(D,I){return this._promise.then(D,I)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const I=this._observers.indexOf(D);-1!==I&&this._observers.splice(I,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(I=>{this._notifyObserver(I)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(Gi(this._state)){case ur.SUCCESS:Un(this._resolve.bind(null,this.snapshot))();break;case ur.CANCELED:case ur.ERROR:Un(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(Gi(this._state)){case ur.RUNNING:case ur.PAUSED:D.next&&Un(D.next.bind(D,this.snapshot))();break;case ur.SUCCESS:D.complete&&Un(D.complete.bind(D))();break;default:D.error&&Un(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class ii{constructor(D,I){this._service=D,this._location=I instanceof qt?I:qt.makeFromUrl(I,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,I){return new ii(D,I)}get root(){const D=new qt(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Se(this._location.path)}get storage(){return this._service}get parent(){const D=function Ai(E){if(0===E.length)return null;const D=E.lastIndexOf("/");return-1===D?"":E.slice(0,D)}(this._location.path);if(null===D)return null;const I=new qt(this._location.bucket,D);return new ii(this._service,I)}_throwIfRoot(D){if(""===this._location.path)throw zt(D)}}function Tt(E,D,I){return kt.apply(this,arguments)}function kt(){return(kt=(0,ge.Z)(function*(E,D,I){const le=yield Vn(E,{pageToken:I});D.prefixes.push(...le.prefixes),D.items.push(...le.items),null!=le.nextPageToken&&(yield Tt(E,D,le.nextPageToken))})).apply(this,arguments)}function Vn(E,D){null!=D&&"number"==typeof D.maxResults&&ke("options.maxResults",1,1e3,D.maxResults);const I=D||{},V=vr(E.storage,E._location,"/",I.pageToken,I.maxResults);return E.storage.makeRequestWithTokens(V,ji)}function Yn(E){E._throwIfRoot("getDownloadURL");const D=function _i(E,D,I){const le=Ge(D.fullServerUrl(),E.host,E._protocol),Rt=E.maxOperationRetryTime,Be=new Dr(le,"GET",function pn(E,D){return function I(V,le){const Oe=ce(E,le,D);return ut(null!==Oe),function Te(E,D,I,V){const le=ci(D);if(null===le||!ar(le.downloadTokens))return null;const Oe=le.downloadTokens;if(0===Oe.length)return null;const Rt=encodeURIComponent;return Oe.split(",").map(Wn=>{const mr=E.fullPath;return Ge("/b/"+Rt(E.bucket)+"/o/"+Rt(mr),I,V)+Ue({alt:"media",token:Wn})})[0]}(Oe,le,E.host,E._protocol)}}(E,I),Rt);return Be.errorHandler=jn(D),Be}(E.storage,E._location,Re());return E.storage.makeRequestWithTokens(D,ji).then(I=>{if(null===I)throw function ot(){return new ht(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return I})}function Xs(E,D){const I=function Tr(E,D){const I=D.split("/").filter(V=>V.length>0).join("/");return 0===E.length?I:E+"/"+I}(E._location.path,D),V=new qt(E._location.bucket,I);return new ii(E.storage,V)}function Ps(E,D){if(E instanceof mo){const I=E;if(null==I._bucket)throw function gt(){return new ht(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tt+"' property when initializing the app?")}();const V=new ii(I,I._bucket);return null!=D?Ps(V,D):V}return void 0!==D?Xs(E,D):E}function ma(E,D){if(D&&function Jr(E){return/^[A-Za-z]+:\/\//.test(E)}(D)){if(E instanceof mo)return function go(E,D){return new ii(E,D)}(E,D);throw mt("To use ref(service, url), the first argument must be a Storage instance.")}return Ps(E,D)}function gs(E,D){const I=D?.[tt];return null==I?null:qt.makeFromBucketSpec(I,E)}class mo{constructor(D,I,V,le,Oe){this.app=D,this._authProvider=I,this._appCheckProvider=V,this._url=le,this._firebaseVersion=Oe,this._bucket=null,this._host=Je,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=le?qt.makeFromBucketSpec(le,this._host):gs(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?qt.makeFromBucketSpec(this._url,D):gs(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){ke("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){ke("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,ge.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const I=D._authProvider.getImmediate({optional:!0});if(I){const V=yield I.getToken();if(null!==V)return V.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,ge.Z)(function*(){const I=D._appCheckProvider.getImmediate({optional:!0});return I?(yield I.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new ii(this,D)}_makeRequest(D,I,V,le,Oe=!0){if(this._deleted)return new hn(bt());{const Rt=function fn(E,D,I,V,le,Oe,Rt=!0){const Be=Ue(E.urlParams),Ft=E.url+Be,Wn=Object.assign({},E.headers);return function On(E,D){D&&(E["X-Firebase-GMPID"]=D)}(Wn,D),function Mn(E,D){null!==D&&D.length>0&&(E.Authorization="Firebase "+D)}(Wn,I),function _n(E,D){E["X-Firebase-Storage-Version"]="webjs/"+(D??"AppManager")}(Wn,Oe),function rn(E,D){null!==D&&(E["X-Firebase-AppCheck"]=D)}(Wn,V),new Pn(Ft,E.method,Wn,E.body,E.successCodes,E.additionalRetryCodes,E.handler,E.errorHandler,E.timeout,E.progressCallback,le,Rt)}(D,this._appId,V,le,I,this._firebaseVersion,Oe);return this._requests.add(Rt),Rt.getPromise().then(()=>this._requests.delete(Rt),()=>this._requests.delete(Rt)),Rt}}makeRequestWithTokens(D,I){var V=this;return(0,ge.Z)(function*(){const[le,Oe]=yield Promise.all([V._getAuthToken(),V._getAppCheckToken()]);return V._makeRequest(D,I,le,Oe).getPromise()})()}}const Vs="@firebase/storage";function ks(E,D){return ma(E=(0,rt.m9)(E),D)}function Ga(E,{instanceIdentifier:D}){const I=E.getProvider("app").getImmediate(),V=E.getProvider("auth-internal"),le=E.getProvider("app-check-internal");return new mo(I,V,le,D,Ne.SDK_VERSION)}!function yo(){(0,Ne._registerComponent)(new st.wA("storage",Ga,"PUBLIC").setMultipleInstances(!0)),(0,Ne.registerVersion)(Vs,"0.11.2",""),(0,Ne.registerVersion)(Vs,"0.11.2","esm2017")}();class So{constructor(D,I,V){this._delegate=D,this.task=I,this.ref=V}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class vo{constructor(D,I){this._delegate=D,this._ref=I,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new So(this._delegate.snapshot,this,this._ref)}then(D,I){return this._delegate.then(V=>{if(D)return D(new So(V,this,this._ref))},I)}on(D,I,V,le){let Oe;return I&&(Oe="function"==typeof I?Rt=>I(new So(Rt,this,this._ref)):{next:I.next?Rt=>I.next(new So(Rt,this,this._ref)):void 0,complete:I.complete||void 0,error:I.error||void 0}),this._delegate.on(D,Oe,V||void 0,le||void 0)}}class Ao{constructor(D,I){this._delegate=D,this._service=I}get prefixes(){return this._delegate.prefixes.map(D=>new ys(D,this._service))}get items(){return this._delegate.items.map(D=>new ys(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ys{constructor(D,I){this._delegate=D,this.storage=I}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const I=function Yi(E,D){return Xs(E,D)}(this._delegate,D);return new ys(I,this.storage)}get root(){return new ys(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new ys(D,this.storage)}put(D,I){return this._throwIfRoot("put"),new vo(function sl(E,D,I){return function je(E,D,I){return E._throwIfRoot("uploadBytesResumable"),new Qs(E,new yr(D),I)}(E=(0,rt.m9)(E),D,I)}(this._delegate,D,I),this)}putString(D,I=Hn.RAW,V){this._throwIfRoot("putString");const le=kn(I,D),Oe=Object.assign({},V);return null==Oe.contentType&&null!=le.contentType&&(Oe.contentType=le.contentType),new vo(new Qs(this._delegate,new yr(le.data,!0),Oe),this)}listAll(){return function Gs(E){return function nt(E){const D={prefixes:[],items:[]};return Tt(E,D).then(()=>D)}(E=(0,rt.m9)(E))}(this._delegate).then(D=>new Ao(D,this.storage))}list(D){return function Ca(E,D){return Vn(E=(0,rt.m9)(E),D)}(this._delegate,D||void 0).then(I=>new Ao(I,this.storage))}getMetadata(){return function ms(E){return function qn(E){E._throwIfRoot("getMetadata");const D=wn(E.storage,E._location,Re());return E.storage.makeRequestWithTokens(D,ji)}(E=(0,rt.m9)(E))}(this._delegate)}updateMetadata(D){return function ds(E,D){return function ir(E,D){E._throwIfRoot("updateMetadata");const I=function Ri(E,D,I,V){const Oe=Ge(D.fullServerUrl(),E.host,E._protocol),Be=Xe(I,V),Wn=E.maxOperationRetryTime,cr=new Dr(Oe,"PATCH",it(E,V),Wn);return cr.headers={"Content-Type":"application/json; charset=utf-8"},cr.body=Be,cr.errorHandler=jn(D),cr}(E.storage,E._location,D,Re());return E.storage.makeRequestWithTokens(I,ji)}(E=(0,rt.m9)(E),D)}(this._delegate,D)}getDownloadURL(){return function Va(E){return Yn(E=(0,rt.m9)(E))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hi(E){return function es(E){E._throwIfRoot("deleteObject");const D=function Co(E,D){const V=Ge(D.fullServerUrl(),E.host,E._protocol),Be=new Dr(V,"DELETE",function Rt(Ft,Wn){},E.maxOperationRetryTime);return Be.successCodes=[200,204],Be.errorHandler=jn(D),Be}(E.storage,E._location);return E.storage.makeRequestWithTokens(D,ji)}(E=(0,rt.m9)(E))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw zt(D)}}class eo{constructor(D,I){this.app=D,this._delegate=I}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(vi(D))throw mt("ref() expected a child path but got a URL, use refFromURL instead.");return new ys(ks(this._delegate,D),this)}refFromURL(D){if(!vi(D))throw mt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{qt.makeFromUrl(D,this._delegate.host)}catch{throw mt("refFromUrl() expected a valid full URL but got an invalid one.")}return new ys(ks(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,I,V={}){!function _o(E,D,I,V={}){!function Go(E,D,I,V={}){E.host=`${D}:${I}`,E._protocol="http";const{mockUserToken:le}=V;le&&(E._overrideAuthToken="string"==typeof le?le:(0,rt.Sg)(le,E.app.options.projectId))}(E,D,I,V)}(this._delegate,D,I,V)}}function vi(E){return/^[A-Za-z]+:\/\//.test(E)}function $i(E,{instanceIdentifier:D}){const I=E.getProvider("app-compat").getImmediate(),V=E.getProvider("storage").getImmediate({identifier:D});return new eo(I,V)}!function jo(E){const D={TaskState:ur,TaskEvent:Ei,StringFormat:Hn,Storage:eo,Reference:ys};E.INTERNAL.registerComponent(new st.wA("storage-compat",$i,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),E.registerVersion("@firebase/storage-compat","0.3.2")}(_e.Z);var Li=G(6217),ol=G(9260);function Hi(E){const D=function $o(E){return new b.y(D=>{const I=Rt=>D.next(Rt);I(E.snapshot);const Oe=E.on("state_changed",I);return E.then(Rt=>{I(Rt),D.complete()},Rt=>{I(E.snapshot),(Rt=>{D.error(Rt)})(Rt)}),function(){Oe()}}).pipe((0,f.b)(0))}(E);return{task:E,then:E.then.bind(E),catch:E.catch.bind(E),pause:E.pause.bind(E),cancel:E.cancel.bind(E),resume:E.resume.bind(E),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,De.U)(I=>I.bytesTransferred/I.totalBytes*100))}}function Ii(E){return{getDownloadURL:()=>(0,z.of)(void 0).pipe(Pe.fc,(0,Ie.w)(()=>E.getDownloadURL()),Pe.iC),getMetadata:()=>(0,z.of)(void 0).pipe(Pe.fc,(0,Ie.w)(()=>E.getMetadata()),Pe.iC),delete:()=>(0,W.D)(E.delete()),child:D=>Ii(E.child(D)),updateMetadata:D=>(0,W.D)(E.updateMetadata(D)),put:(D,I)=>Hi(E.put(D,I)),putString:(D,I,V)=>Hi(E.putString(D,I,V)),list:D=>(0,W.D)(E.list(D)),listAll:()=>(0,W.D)(E.listAll())}}const _a=new de.OlP("angularfire2.storageBucket"),bo=new de.OlP("angularfire2.storage.maxUploadRetryTime"),Ho=new de.OlP("angularfire2.storage.maxOperationRetryTime"),js=new de.OlP("angularfire2.storage.use-emulator");let ya=(()=>{class E{constructor(I,V,le,Oe,Rt,Be,Ft,Wn,cr,mr){const Ni=(0,$e.on)(I,Rt,V);this.storage=(0,$e.cc)(`${Ni.name}.storage.${le}`,"AngularFireStorage",Ni.name,()=>{const si=Rt.runOutsideAngular(()=>Ni.storage(le||void 0)),zr=cr;return zr&&si.useEmulator(...zr),Ft&&si.setMaxUploadRetryTime(Ft),Wn&&si.setMaxOperationRetryTime(Wn),si},[Ft,Wn])}ref(I){return Ii(this.storage.ref(I))}refFromURL(I){return Ii(this.storage.refFromURL(I))}upload(I,V,le){return Ii(this.storage.ref(I)).put(V,le)}}return E.\u0275fac=function(I){return new(I||E)(de.LFG($e.Dh),de.LFG($e.xv,8),de.LFG(_a,8),de.LFG(de.Lbi),de.LFG(de.R0b),de.LFG(Pe.HU),de.LFG(bo,8),de.LFG(Ho,8),de.LFG(js,8),de.LFG(Li.nm,8))},E.\u0275prov=de.Yz7({token:E,factory:E.\u0275fac,providedIn:"any"}),E})(),Gn=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=de.oAB({type:E}),E.\u0275inj=de.cJS({}),E})(),to=(()=>{class E{constructor(){ol.Z.registerVersion("angularfire",Pe.q4.full,"gcs-compat")}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=de.oAB({type:E}),E.\u0275inj=de.cJS({providers:[ya],imports:[Gn]}),E})()},2011:(Wt,He,G)=>{G.d(He,{Dh:()=>de,GT:()=>Ie,cc:()=>st,hO:()=>rt,on:()=>_e,pX:()=>De,xv:()=>$e});var b=G(4650),z=G(9260),W=G(4976);Wt=G.hmd(Wt);const f=["ngOnDestroy"],De=(Ve,me,ht,Me={})=>new Proxy(Ve,{get:(Ae,Qe)=>ht.runOutsideAngular(()=>{var At;if(Ve[Qe])return!(null===(At=Me?.spy)||void 0===At)&&At.get&&Me.spy.get(Qe,Ve[Qe]),Ve[Qe];if(f.indexOf(Qe)>-1)return()=>{};const Dt=me.toPromise().then(Ee=>{const Ht=Ee&&Ee[Qe];return"function"==typeof Ht?Ht.bind(Ee):Ht&&Ht.then?Ht.then(Pt=>ht.run(()=>Pt)):ht.run(()=>Ht)});return new Proxy(()=>{},{get:(Ee,Ht)=>Dt[Ht],apply:(Ee,Ht,Pt)=>Dt.then(Mt=>{var mn;const tn=Mt&&Mt(...Pt);return!(null===(mn=Me?.spy)||void 0===mn)&&mn.apply&&Me.spy.apply(Qe,Pt,tn),tn})})})}),Ie=(Ve,me)=>{me.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Me=>{Object.defineProperty(Ve.prototype,Me,Object.getOwnPropertyDescriptor(ht.prototype||ht,Me))})})};class Pe{constructor(me){return me}}const de=new b.OlP("angularfire2.app.options"),$e=new b.OlP("angularfire2.app.name");function _e(Ve,me,ht){const Ae="object"==typeof ht&&ht||{};Ae.name=Ae.name||"string"==typeof ht&&ht||"[DEFAULT]";const At=z.Z.apps.filter(Dt=>Dt&&Dt.name===Ae.name)[0]||me.runOutsideAngular(()=>z.Z.initializeApp(Ve,Ae));try{JSON.stringify(Ve)!==JSON.stringify(At.options)&&ge("error",`${At.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(At)}const ge=(Ve,...me)=>{(0,b.X6Q)()&&typeof console<"u"&&console[Ve](...me)},Ne={provide:Pe,useFactory:_e,deps:[de,b.R0b,[new b.FiY,$e]]};let rt=(()=>{class Ve{constructor(ht){z.Z.registerVersion("angularfire",W.q4.full,"core"),z.Z.registerVersion("angularfire",W.q4.full,"app-compat"),z.Z.registerVersion("angular",b.q4F.full,ht.toString())}static initializeApp(ht,Me){return{ngModule:Ve,providers:[{provide:de,useValue:ht},{provide:$e,useValue:Me}]}}}return Ve.\u0275fac=function(ht){return new(ht||Ve)(b.LFG(b.Lbi))},Ve.\u0275mod=b.oAB({type:Ve}),Ve.\u0275inj=b.cJS({providers:[Ne]}),Ve})();function st(Ve,me,ht,Me,Ae){const[,Qe,At]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Ve)||[];if(Qe)return function Je(Ve,me){try{return Ve.toString()===me.toString()}catch{return Ve===me}}(Ae,At)||(qe("error",`${me} was already initialized on the ${ht} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:Ae,was:At})),Qe;{const Dt=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Dt,Ae]),Dt}}const tt=!!Wt.hot,qe=(Ve,...me)=>{(0,b.X6Q)()&&typeof console<"u"&&console[Ve](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Wt,He,G)=>{G.d(He,{q4:()=>uo,iC:()=>Rl,fc:()=>nl,HU:()=>Po,vb:()=>Kl,JM:()=>gl});var b=G(4650),z=G(259),W=G(5861),f=G(6881),De=G(2090),Ie=G(4859),Pe=G(1877);const de=(O,L)=>L.some(q=>O instanceof q);let $e,_e;const rt=new WeakMap,st=new WeakMap,Je=new WeakMap,tt=new WeakMap,qe=new WeakMap;let ht={get(O,L,q){if(O instanceof IDBTransaction){if("done"===L)return st.get(O);if("objectStoreNames"===L)return O.objectStoreNames||Je.get(O);if("store"===L)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return At(O[L])},set:(O,L,q)=>(O[L]=q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function Qe(O){return"function"==typeof O?function Ae(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ne(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Dt(this),L),At(rt.get(this))}:function(...L){return At(O.apply(Dt(this),L))}:function(L,...q){const pe=O.call(Dt(this),L,...q);return Je.set(pe,L.sort?L.sort():[L]),At(pe)}}(O):(O instanceof IDBTransaction&&function me(O){if(st.has(O))return;const L=new Promise((q,pe)=>{const Le=()=>{O.removeEventListener("complete",et),O.removeEventListener("error",lt),O.removeEventListener("abort",lt)},et=()=>{q(),Le()},lt=()=>{pe(O.error||new DOMException("AbortError","AbortError")),Le()};O.addEventListener("complete",et),O.addEventListener("error",lt),O.addEventListener("abort",lt)});st.set(O,L)}(O),de(O,function ge(){return $e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,ht):O)}function At(O){if(O instanceof IDBRequest)return function Ve(O){const L=new Promise((q,pe)=>{const Le=()=>{O.removeEventListener("success",et),O.removeEventListener("error",lt)},et=()=>{q(At(O.result)),Le()},lt=()=>{pe(O.error),Le()};O.addEventListener("success",et),O.addEventListener("error",lt)});return L.then(q=>{q instanceof IDBCursor&&rt.set(q,O)}).catch(()=>{}),qe.set(L,O),L}(O);if(tt.has(O))return tt.get(O);const L=Qe(O);return L!==O&&(tt.set(O,L),qe.set(L,O)),L}const Dt=O=>qe.get(O),Pt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],mn=new Map;function tn(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(mn.get(L))return mn.get(L);const q=L.replace(/FromIndex$/,""),pe=L!==q,Le=Mt.includes(q);if(!(q in(pe?IDBIndex:IDBObjectStore).prototype)||!Le&&!Pt.includes(q))return;const et=function(){var lt=(0,W.Z)(function*(jt,...sn){const Fn=this.transaction(jt,Le?"readwrite":"readonly");let _r=Fn.store;return pe&&(_r=_r.index(sn.shift())),(yield Promise.all([_r[q](...sn),Le&&Fn.done]))[0]});return function(sn){return lt.apply(this,arguments)}}();return mn.set(L,et),et}!function Me(O){ht=O(ht)}(O=>({...O,get:(L,q,pe)=>tn(L,q)||O.get(L,q,pe),has:(L,q)=>!!tn(L,q)||O.has(L,q)}));const pi="@firebase/installations",gt="0.6.4",Ze=1e4,ct=`w:${gt}`,ot="FIS_v2",It="https://firebaseinstallations.googleapis.com/v1",mt=36e5,wt=new De.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qt(O){return O instanceof De.ZR&&O.code.includes("request-failed")}function hn({projectId:O}){return`${It}/projects/${O}/installations`}function Jn(O){return{token:O.token,requestStatus:2,expiresIn:Ye(O.expiresIn),creationTime:Date.now()}}function gr(O,L){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,W.Z)(function*(O,L){const pe=(yield L.json()).error;return wt.create("request-failed",{requestName:O,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function Xn({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function ar(O){return ni.apply(this,arguments)}function ni(){return(ni=(0,W.Z)(function*(O){const L=yield O();return L.status>=500&&L.status<600?O():L})).apply(this,arguments)}function Ye(O){return Number(O.replace("s","000"))}function Ue(){return(Ue=(0,W.Z)(function*({appConfig:O,heartbeatServiceProvider:L},{fid:q}){const pe=hn(O),Le=Xn(O),et=L.getImmediate({optional:!0});if(et){const Fn=yield et.getHeartbeatsHeader();Fn&&Le.append("x-firebase-client",Fn)}const jt={method:"POST",headers:Le,body:JSON.stringify({fid:q,authVersion:ot,appId:O.appId,sdkVersion:ct})},sn=yield ar(()=>fetch(pe,jt));if(sn.ok){const Fn=yield sn.json();return{fid:Fn.fid||q,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:Jn(Fn.authToken)}}throw yield gr("Create Installation",sn)})).apply(this,arguments)}function Ot(O){return new Promise(L=>{setTimeout(L,O)})}const Pn=/^[cdef][\w-]{21}$/,Tn="";function Mn(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const q=function _n(O){return function Qt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Pn.test(q)?q:Tn}catch{return Tn}}function On(O){return`${O.appName}!${O.appId}`}const rn=new Map;function fn(O,L){const q=On(O);hr(q,L),function lr(O,L){const q=function ri(){return!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=O=>{hr(O.data.key,O.data.fid)}),Hn}();q&&q.postMessage({key:O,fid:L}),function kn(){0===rn.size&&Hn&&(Hn.close(),Hn=null)}()}(q,L)}function hr(O,L){const q=rn.get(O);if(q)for(const pe of q)pe(L)}let Hn=null;const Si="firebase-installations-database",nr=1,li="firebase-installations-store";let Bn=null;function Br(){return Bn||(Bn=function Ee(O,L,{blocked:q,upgrade:pe,blocking:Le,terminated:et}={}){const lt=indexedDB.open(O,L),jt=At(lt);return pe&&lt.addEventListener("upgradeneeded",sn=>{pe(At(lt.result),sn.oldVersion,sn.newVersion,At(lt.transaction))}),q&&lt.addEventListener("blocked",()=>q()),jt.then(sn=>{et&&sn.addEventListener("close",()=>et()),Le&&sn.addEventListener("versionchange",()=>Le())}).catch(()=>{}),jt}(Si,nr,{upgrade:(O,L)=>{0===L&&O.createObjectStore(li)}})),Bn}function Sr(O,L){return ui.apply(this,arguments)}function ui(){return(ui=(0,W.Z)(function*(O,L){const q=On(O),Le=(yield Br()).transaction(li,"readwrite"),et=Le.objectStore(li),lt=yield et.get(q);return yield et.put(L,q),yield Le.done,(!lt||lt.fid!==L.fid)&&fn(O,L.fid),L})).apply(this,arguments)}function yr(O){return ci.apply(this,arguments)}function ci(){return(ci=(0,W.Z)(function*(O){const L=On(O),pe=(yield Br()).transaction(li,"readwrite");yield pe.objectStore(li).delete(L),yield pe.done})).apply(this,arguments)}function Ai(O,L){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,W.Z)(function*(O,L){const q=On(O),Le=(yield Br()).transaction(li,"readwrite"),et=Le.objectStore(li),lt=yield et.get(q),jt=L(lt);return void 0===jt?yield et.delete(q):yield et.put(jt,q),yield Le.done,jt&&(!lt||lt.fid!==jt.fid)&&fn(O,jt.fid),jt})).apply(this,arguments)}function Se(O){return ye.apply(this,arguments)}function ye(){return ye=(0,W.Z)(function*(O){let L;const q=yield Ai(O.appConfig,pe=>{const Le=function ne(O){return Te(O||{fid:Mn(),registrationStatus:0})}(pe),et=function oe(O,L){if(0===L.registrationStatus){if(!navigator.onLine)return{installationEntry:L,registrationPromise:Promise.reject(wt.create("app-offline"))};const q={fid:L.fid,registrationStatus:1,registrationTime:Date.now()},pe=function ee(O,L){return Re.apply(this,arguments)}(O,q);return{installationEntry:q,registrationPromise:pe}}return 1===L.registrationStatus?{installationEntry:L,registrationPromise:fe(O)}:{installationEntry:L}}(O,Le);return L=et.registrationPromise,et.installationEntry});return q.fid===Tn?{installationEntry:yield L}:{installationEntry:q,registrationPromise:L}}),ye.apply(this,arguments)}function Re(){return Re=(0,W.Z)(function*(O,L){try{const q=yield function Ge(O,L){return Ue.apply(this,arguments)}(O,L);return Sr(O.appConfig,q)}catch(q){throw qt(q)&&409===q.customData.serverCode?yield yr(O.appConfig):yield Sr(O.appConfig,{fid:L.fid,registrationStatus:0}),q}}),Re.apply(this,arguments)}function fe(O){return ve.apply(this,arguments)}function ve(){return(ve=(0,W.Z)(function*(O){let L=yield ce(O.appConfig);for(;1===L.registrationStatus;)yield Ot(100),L=yield ce(O.appConfig);if(0===L.registrationStatus){const{installationEntry:q,registrationPromise:pe}=yield Se(O);return pe||q}return L})).apply(this,arguments)}function ce(O){return Ai(O,L=>{if(!L)throw wt.create("installation-not-found");return Te(L)})}function Te(O){return function Xe(O){return 1===O.registrationStatus&&O.registrationTime+Ze<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function on(){return(on=(0,W.Z)(function*({appConfig:O,heartbeatServiceProvider:L},q){const pe=function an(O,{fid:L}){return`${hn(O)}/${L}/authTokens:generate`}(O,q),Le=function er(O,{refreshToken:L}){const q=Xn(O);return q.append("Authorization",function ke(O){return`${ot} ${O}`}(L)),q}(O,q),et=L.getImmediate({optional:!0});if(et){const Fn=yield et.getHeartbeatsHeader();Fn&&Le.append("x-firebase-client",Fn)}const jt={method:"POST",headers:Le,body:JSON.stringify({installation:{sdkVersion:ct,appId:O.appId}})},sn=yield ar(()=>fetch(pe,jt));if(sn.ok)return Jn(yield sn.json());throw yield gr("Generate Auth Token",sn)})).apply(this,arguments)}function Ar(O){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,W.Z)(function*(O,L=!1){let q;const pe=yield Ai(O.appConfig,et=>{if(!jn(et))throw wt.create("not-registered");const lt=et.authToken;if(!L&&function wn(O){return 2===O.requestStatus&&!function vr(O){const L=Date.now();return L<O.creationTime||O.creationTime+O.expiresIn<L+mt}(O)}(lt))return et;if(1===lt.requestStatus)return q=function ut(O,L){return it.apply(this,arguments)}(O,L),et;{if(!navigator.onLine)throw wt.create("app-offline");const jt=function rr(O){const L={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:L})}(et);return q=function pn(O,L){return bn.apply(this,arguments)}(O,jt),jt}});return q?yield q:pe.authToken}),Dr.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*(O,L){let q=yield Vt(O.appConfig);for(;1===q.authToken.requestStatus;)yield Ot(100),q=yield Vt(O.appConfig);const pe=q.authToken;return 0===pe.requestStatus?Ar(O,L):pe})).apply(this,arguments)}function Vt(O){return Ai(O,L=>{if(!jn(L))throw wt.create("not-registered");return function _i(O){return 1===O.requestStatus&&O.requestTime+Ze<Date.now()}(L.authToken)?Object.assign(Object.assign({},L),{authToken:{requestStatus:0}}):L})}function bn(){return bn=(0,W.Z)(function*(O,L){try{const q=yield function Ct(O,L){return on.apply(this,arguments)}(O,L),pe=Object.assign(Object.assign({},L),{authToken:q});return yield Sr(O.appConfig,pe),q}catch(q){if(!qt(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const pe=Object.assign(Object.assign({},L),{authToken:{requestStatus:0}});yield Sr(O.appConfig,pe)}else yield yr(O.appConfig);throw q}}),bn.apply(this,arguments)}function jn(O){return void 0!==O&&2===O.registrationStatus}function Co(){return(Co=(0,W.Z)(function*(O){const L=O,{installationEntry:q,registrationPromise:pe}=yield Se(L);return pe?pe.catch(console.error):Ar(L).catch(console.error),q.fid})).apply(this,arguments)}function Zs(){return Zs=(0,W.Z)(function*(O,L=!1){const q=O;return yield function Nr(O){return Jt.apply(this,arguments)}(q),(yield Ar(q,L)).token}),Zs.apply(this,arguments)}function Jt(){return(Jt=(0,W.Z)(function*(O){const{registrationPromise:L}=yield Se(O);L&&(yield L)})).apply(this,arguments)}function us(O){return wt.create("missing-app-config-values",{valueName:O})}const Un="installations",Cs=O=>{const L=O.getProvider("app").getImmediate(),q=function Gi(O){if(!O||!O.options)throw us("App Configuration");if(!O.name)throw us("App Name");const L=["projectId","apiKey","appId"];for(const q of L)if(!O.options[q])throw us(q);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(L);return{app:L,appConfig:q,heartbeatServiceProvider:(0,f._getProvider)(L,"heartbeat"),_delete:()=>Promise.resolve()}},Ys=O=>{const L=O.getProvider("app").getImmediate(),q=(0,f._getProvider)(L,Un).getImmediate();return{getId:()=>function Ri(O){return Co.apply(this,arguments)}(q),getToken:Le=>function ta(O){return Zs.apply(this,arguments)}(q,Le)}};(function ji(){(0,f._registerComponent)(new Ie.wA(Un,Cs,"PUBLIC")),(0,f._registerComponent)(new Ie.wA("installations-internal",Ys,"PRIVATE"))})(),(0,f.registerVersion)(pi,gt),(0,f.registerVersion)(pi,gt,"esm2017");const Rr="@firebase/remote-config",ii=new De.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Go{constructor(L,q,pe,Le){this.client=L,this.storage=q,this.storageCache=pe,this.logger=Le}isCachedDataFresh(L,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-q,Le=pe<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Le}.`),Le}fetch(L){var q=this;return(0,W.Z)(function*(){const[pe,Le]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(Le&&q.isCachedDataFresh(L.cacheMaxAgeMillis,pe))return Le;L.eTag=Le&&Le.eTag;const et=yield q.client.fetch(L),lt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===et.status&&lt.push(q.storage.setLastSuccessfulFetchResponse(et)),yield Promise.all(lt),et})()}}function mo(O=navigator){return O.languages&&O.languages[0]||O.language}class Vs{constructor(L,q,pe,Le,et,lt){this.firebaseInstallations=L,this.sdkVersion=q,this.namespace=pe,this.projectId=Le,this.apiKey=et,this.appId=lt}fetch(L){var q=this;return(0,W.Z)(function*(){const[pe,Le]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},sn={sdk_version:q.sdkVersion,app_instance_id:pe,app_instance_id_token:Le,app_id:q.appId,language_code:mo()},Fn={method:"POST",headers:jt,body:JSON.stringify(sn)},_r=fetch(lt,Fn),wr=new Promise((aa,za)=>{L.signal.addEventListener(()=>{const Wa=new Error("The operation was aborted.");Wa.name="AbortError",za(Wa)})});let Zo;try{yield Promise.race([_r,wr]),Zo=yield _r}catch(aa){let za="fetch-client-network";throw"AbortError"===aa?.name&&(za="fetch-timeout"),ii.create(za,{originalErrorMessage:aa?.message})}let ei=Zo.status;const hc=Zo.headers.get("ETag")||void 0;let wi,Yo;if(200===Zo.status){let aa;try{aa=yield Zo.json()}catch(za){throw ii.create("fetch-client-parse",{originalErrorMessage:za?.message})}wi=aa.entries,Yo=aa.state}if("INSTANCE_STATE_UNSPECIFIED"===Yo?ei=500:"NO_CHANGE"===Yo?ei=304:("NO_TEMPLATE"===Yo||"EMPTY_CONFIG"===Yo)&&(wi={}),304!==ei&&200!==ei)throw ii.create("fetch-status",{httpStatus:ei});return{status:ei,eTag:hc,config:wi}})()}}class Ua{constructor(L,q){this.client=L,this.storage=q}fetch(L){var q=this;return(0,W.Z)(function*(){const pe=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(L,pe)})()}attemptFetch(L,{throttleEndTimeMillis:q,backoffCount:pe}){var Le=this;return(0,W.Z)(function*(){yield function na(O,L){return new Promise((q,pe)=>{const Le=Math.max(L-Date.now(),0),et=setTimeout(q,Le);O.addEventListener(()=>{clearTimeout(et),pe(ii.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,q);try{const et=yield Le.client.fetch(L);return yield Le.storage.deleteThrottleMetadata(),et}catch(et){if(!function Ta(O){if(!(O instanceof De.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(et))throw et;const lt={throttleEndTimeMillis:Date.now()+(0,De.$s)(pe),backoffCount:pe+1};return yield Le.storage.setThrottleMetadata(lt),Le.attemptFetch(L,lt)}})()}}class sl{constructor(L,q,pe,Le,et){this.app=L,this._client=q,this._storageCache=pe,this._storage=Le,this._logger=et,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ms(O,L){const q=O.target.error||void 0;return ii.create(L,{originalErrorMessage:q&&q?.message})}const ds="app_namespace_store";class hi{constructor(L,q,pe,Le=function Va(){return new Promise((O,L)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=pe=>{L(ms(pe,"storage-open"))},q.onsuccess=pe=>{O(pe.target.result)},q.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(q){L(ii.create("storage-open",{originalErrorMessage:q?.message}))}})}()){this.appId=L,this.appName=q,this.namespace=pe,this.openDbPromise=Le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var q=this;return(0,W.Z)(function*(){const pe=yield q.openDbPromise;return new Promise((Le,et)=>{const jt=pe.transaction([ds],"readonly").objectStore(ds),sn=q.createCompositeKey(L);try{const Fn=jt.get(sn);Fn.onerror=_r=>{et(ms(_r,"storage-get"))},Fn.onsuccess=_r=>{const wr=_r.target.result;Le(wr?wr.value:void 0)}}catch(Fn){et(ii.create("storage-get",{originalErrorMessage:Fn?.message}))}})})()}set(L,q){var pe=this;return(0,W.Z)(function*(){const Le=yield pe.openDbPromise;return new Promise((et,lt)=>{const sn=Le.transaction([ds],"readwrite").objectStore(ds),Fn=pe.createCompositeKey(L);try{const _r=sn.put({compositeKey:Fn,value:q});_r.onerror=wr=>{lt(ms(wr,"storage-set"))},_r.onsuccess=()=>{et()}}catch(_r){lt(ii.create("storage-set",{originalErrorMessage:_r?.message}))}})})()}delete(L){var q=this;return(0,W.Z)(function*(){const pe=yield q.openDbPromise;return new Promise((Le,et)=>{const jt=pe.transaction([ds],"readwrite").objectStore(ds),sn=q.createCompositeKey(L);try{const Fn=jt.delete(sn);Fn.onerror=_r=>{et(ms(_r,"storage-delete"))},Fn.onsuccess=()=>{Le()}}catch(Fn){et(ii.create("storage-delete",{originalErrorMessage:Fn?.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class ks{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,W.Z)(function*(){const q=L.storage.getLastFetchStatus(),pe=L.storage.getLastSuccessfulFetchTimestampMillis(),Le=L.storage.getActiveConfig(),et=yield q;et&&(L.lastFetchStatus=et);const lt=yield pe;lt&&(L.lastSuccessfulFetchTimestampMillis=lt);const jt=yield Le;jt&&(L.activeConfig=jt)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function Ya(){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,W.Z)(function*(){if(!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}!function Yi(){(0,f._registerComponent)(new Ie.wA("remote-config",function O(L,{instanceIdentifier:q}){const pe=L.getProvider("app").getImmediate(),Le=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,De.hl)())throw ii.create("indexed-db-unavailable");const{projectId:et,apiKey:lt,appId:jt}=pe.options;if(!et)throw ii.create("registration-project-id");if(!lt)throw ii.create("registration-api-key");if(!jt)throw ii.create("registration-app-id");const sn=new hi(jt,pe.name,q=q||"firebase"),Fn=new ks(sn),_r=new Pe.Yd(Rr);_r.logLevel=Pe.in.ERROR;const wr=new Vs(Le,f.SDK_VERSION,q,et,lt,jt),Zo=new Ua(wr,sn),ei=new Go(Zo,sn,Fn,_r),hc=new sl(pe,ei,Fn,sn,_r);return function qn(O){const L=(0,De.m9)(O);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(hc),hc},"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(Rr,"0.4.4"),(0,f.registerVersion)(Rr,"0.4.4","esm2017")}();const Ga=(O,L)=>L.some(q=>O instanceof q);let yo,So;const ys=new WeakMap,eo=new WeakMap,vi=new WeakMap,ro=new WeakMap,ia=new WeakMap;let jo={get(O,L,q){if(O instanceof IDBTransaction){if("done"===L)return eo.get(O);if("objectStoreNames"===L)return O.objectStoreNames||vi.get(O);if("store"===L)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return Hi(O[L])},set:(O,L,q)=>(O[L]=q,!0),has:(O,L)=>O instanceof IDBTransaction&&("done"===L||"store"===L)||L in O};function $o(O){return"function"==typeof O?function ol(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ao(){return So||(So=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...L){return O.apply(Ii(this),L),Hi(ys.get(this))}:function(...L){return Hi(O.apply(Ii(this),L))}:function(L,...q){const pe=O.call(Ii(this),L,...q);return vi.set(pe,L.sort?L.sort():[L]),Hi(pe)}}(O):(O instanceof IDBTransaction&&function $i(O){if(eo.has(O))return;const L=new Promise((q,pe)=>{const Le=()=>{O.removeEventListener("complete",et),O.removeEventListener("error",lt),O.removeEventListener("abort",lt)},et=()=>{q(),Le()},lt=()=>{pe(O.error||new DOMException("AbortError","AbortError")),Le()};O.addEventListener("complete",et),O.addEventListener("error",lt),O.addEventListener("abort",lt)});eo.set(O,L)}(O),Ga(O,function vo(){return yo||(yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,jo):O)}function Hi(O){if(O instanceof IDBRequest)return function Fi(O){const L=new Promise((q,pe)=>{const Le=()=>{O.removeEventListener("success",et),O.removeEventListener("error",lt)},et=()=>{q(Hi(O.result)),Le()},lt=()=>{pe(O.error),Le()};O.addEventListener("success",et),O.addEventListener("error",lt)});return L.then(q=>{q instanceof IDBCursor&&ys.set(q,O)}).catch(()=>{}),ia.set(L,O),L}(O);if(ro.has(O))return ro.get(O);const L=$o(O);return L!==O&&(ro.set(O,L),ia.set(L,O)),L}const Ii=O=>ia.get(O);function _a(O,L,{blocked:q,upgrade:pe,blocking:Le,terminated:et}={}){const lt=indexedDB.open(O,L),jt=Hi(lt);return pe&&lt.addEventListener("upgradeneeded",sn=>{pe(Hi(lt.result),sn.oldVersion,sn.newVersion,Hi(lt.transaction))}),q&&lt.addEventListener("blocked",()=>q()),jt.then(sn=>{et&&sn.addEventListener("close",()=>et()),Le&&sn.addEventListener("versionchange",()=>Le())}).catch(()=>{}),jt}function bo(O,{blocked:L}={}){const q=indexedDB.deleteDatabase(O);return L&&q.addEventListener("blocked",()=>L()),Hi(q).then(()=>{})}const Ho=["get","getKey","getAll","getAllKeys","count"],js=["put","add","delete","clear"],ya=new Map;function zo(O,L){if(!(O instanceof IDBDatabase)||L in O||"string"!=typeof L)return;if(ya.get(L))return ya.get(L);const q=L.replace(/FromIndex$/,""),pe=L!==q,Le=js.includes(q);if(!(q in(pe?IDBIndex:IDBObjectStore).prototype)||!Le&&!Ho.includes(q))return;const et=function(){var lt=(0,W.Z)(function*(jt,...sn){const Fn=this.transaction(jt,Le?"readwrite":"readonly");let _r=Fn.store;return pe&&(_r=_r.index(sn.shift())),(yield Promise.all([_r[q](...sn),Le&&Fn.done]))[0]});return function(sn){return lt.apply(this,arguments)}}();return ya.set(L,et),et}!function Li(O){jo=O(jo)}(O=>({...O,get:(L,q,pe)=>zo(L,q)||O.get(L,q,pe),has:(L,q)=>!!zo(L,q)||O.has(L,q)}));const Gn="/firebase-messaging-sw.js",to="/firebase-cloud-messaging-push-scope",E="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",D="https://fcmregistrations.googleapis.com/v1",I="google.c.a.c_id",V="google.c.a.c_l",le="google.c.a.ts",Oe="google.c.a.e";var Be=(()=>{return(O=Be||(Be={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Be;var O})();function Ft(O){const L=new Uint8Array(O);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wn(O){const q=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(q),Le=new Uint8Array(pe.length);for(let et=0;et<pe.length;++et)Le[et]=pe.charCodeAt(et);return Le}const cr="fcm_token_details_db",mr=5,Ni="fcm_token_object_Store";function zr(){return zr=(0,W.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(et=>et.name).includes(cr))return null;let L=null;return(yield _a(cr,mr,{upgrade:(pe=(0,W.Z)(function*(Le,et,lt,jt){var sn;if(et<2||!Le.objectStoreNames.contains(Ni))return;const Fn=jt.objectStore(Ni),_r=yield Fn.index("fcmSenderId").get(O);if(yield Fn.clear(),_r)if(2===et){const wr=_r;if(!wr.auth||!wr.p256dh||!wr.endpoint)return;L={token:wr.fcmToken,createTime:null!==(sn=wr.createTime)&&void 0!==sn?sn:Date.now(),subscriptionOptions:{auth:wr.auth,p256dh:wr.p256dh,endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:"string"==typeof wr.vapidKey?wr.vapidKey:Ft(wr.vapidKey)}}}else if(3===et){const wr=_r;L={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:Ft(wr.auth),p256dh:Ft(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:Ft(wr.vapidKey)}}}else if(4===et){const wr=_r;L={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:Ft(wr.auth),p256dh:Ft(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:Ft(wr.vapidKey)}}}}),function(et,lt,jt,sn){return pe.apply(this,arguments)})})).close(),yield bo(cr),yield bo("fcm_vapid_details_db"),yield bo("undefined"),function xi(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:L}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}(L)?L:null;var pe}),zr.apply(this,arguments)}const zi="firebase-messaging-database",No=1,vs="firebase-messaging-store";let Bi=null;function Ir(){return Bi||(Bi=_a(zi,No,{upgrade:(O,L)=>{0===L&&O.createObjectStore(vs)}})),Bi}function ts(O){return bs.apply(this,arguments)}function bs(){return bs=(0,W.Z)(function*(O){const L=Gl(O),pe=yield(yield Ir()).transaction(vs).objectStore(vs).get(L);if(pe)return pe;{const Le=yield function si(O){return zr.apply(this,arguments)}(O.appConfig.senderId);if(Le)return yield Fs(O,Le),Le}}),bs.apply(this,arguments)}function Fs(O,L){return ws.apply(this,arguments)}function ws(){return(ws=(0,W.Z)(function*(O,L){const q=Gl(O),Le=(yield Ir()).transaction(vs,"readwrite");return yield Le.objectStore(vs).put(L,q),yield Le.done,L})).apply(this,arguments)}function va(){return(va=(0,W.Z)(function*(O){const L=Gl(O),pe=(yield Ir()).transaction(vs,"readwrite");yield pe.objectStore(vs).delete(L),yield pe.done})).apply(this,arguments)}function Gl({appConfig:O}){return O.appId}const ns=new De.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Aa(O,L){return Na.apply(this,arguments)}function Na(){return(Na=(0,W.Z)(function*(O,L){const q=yield Oo(O),pe=Il(L),Le={method:"POST",headers:q,body:JSON.stringify(pe)};let et;try{et=yield(yield fetch(xa(O.appConfig),Le)).json()}catch(lt){throw ns.create("token-subscribe-failed",{errorInfo:lt?.toString()})}if(et.error)throw ns.create("token-subscribe-failed",{errorInfo:et.error.message});if(!et.token)throw ns.create("token-subscribe-no-token");return et.token})).apply(this,arguments)}function Ma(){return(Ma=(0,W.Z)(function*(O,L){const q=yield Oo(O),pe=Il(L.subscriptionOptions),Le={method:"PATCH",headers:q,body:JSON.stringify(pe)};let et;try{et=yield(yield fetch(`${xa(O.appConfig)}/${L.token}`,Le)).json()}catch(lt){throw ns.create("token-update-failed",{errorInfo:lt?.toString()})}if(et.error)throw ns.create("token-update-failed",{errorInfo:et.error.message});if(!et.token)throw ns.create("token-update-no-token");return et.token})).apply(this,arguments)}function Oa(O,L){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,W.Z)(function*(O,L){const pe={method:"DELETE",headers:yield Oo(O)};try{const et=yield(yield fetch(`${xa(O.appConfig)}/${L}`,pe)).json();if(et.error)throw ns.create("token-unsubscribe-failed",{errorInfo:et.error.message})}catch(Le){throw ns.create("token-unsubscribe-failed",{errorInfo:Le?.toString()})}})).apply(this,arguments)}function xa({projectId:O}){return`${D}/projects/${O}/registrations`}function Oo(O){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,W.Z)(function*({appConfig:O,installations:L}){const q=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Il({p256dh:O,auth:L,endpoint:q,vapidKey:pe}){const Le={web:{endpoint:q,auth:L,p256dh:O}};return pe!==E&&(Le.web.applicationPubKey=pe),Le}const jl=6048e5;function ll(){return ll=(0,W.Z)(function*(O){const L=yield function au(O,L){return bi.apply(this,arguments)}(O.swRegistration,O.vapidKey),q={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:L.endpoint,auth:Ft(L.getKey("auth")),p256dh:Ft(L.getKey("p256dh"))},pe=yield ts(O.firebaseDependencies);if(pe){if(function xu(O,L){return L.vapidKey===O.vapidKey&&L.endpoint===O.endpoint&&L.auth===O.auth&&L.p256dh===O.p256dh}(pe.subscriptionOptions,q))return Date.now()>=pe.createTime+jl?function Ui(O,L){return ja.apply(this,arguments)}(O,{token:pe.token,createTime:Date.now(),subscriptionOptions:q}):pe.token;try{yield Oa(O.firebaseDependencies,pe.token)}catch(Le){console.warn(Le)}return Qa(O.firebaseDependencies,q)}return Qa(O.firebaseDependencies,q)}),ll.apply(this,arguments)}function Wo(){return Wo=(0,W.Z)(function*(O){const L=yield ts(O.firebaseDependencies);L&&(yield Oa(O.firebaseDependencies,L.token),yield function Mo(O){return va.apply(this,arguments)}(O.firebaseDependencies));const q=yield O.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),Wo.apply(this,arguments)}function ja(){return ja=(0,W.Z)(function*(O,L){try{const q=yield function al(O,L){return Ma.apply(this,arguments)}(O.firebaseDependencies,L),pe=Object.assign(Object.assign({},L),{token:q,createTime:Date.now()});return yield Fs(O.firebaseDependencies,pe),q}catch(q){throw yield function Ti(O){return Wo.apply(this,arguments)}(O),q}}),ja.apply(this,arguments)}function Qa(O,L){return wo.apply(this,arguments)}function wo(){return(wo=(0,W.Z)(function*(O,L){const pe={token:yield Aa(O,L),createTime:Date.now(),subscriptionOptions:L};return yield Fs(O,pe),pe.token})).apply(this,arguments)}function bi(){return(bi=(0,W.Z)(function*(O,L){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wn(L)})})).apply(this,arguments)}function Ja(O){const L={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function Do(O,L){if(!L.notification)return;O.notification={};const q=L.notification.title;q&&(O.notification.title=q);const pe=L.notification.body;pe&&(O.notification.body=pe);const Le=L.notification.image;Le&&(O.notification.image=Le);const et=L.notification.icon;et&&(O.notification.icon=et)}(L,O),function Sl(O,L){L.data&&(O.data=L.data)}(L,O),function F(O,L){var q,pe,Le,et,lt;if(!(L.fcmOptions||null!==(q=L.notification)&&void 0!==q&&q.click_action))return;O.fcmOptions={};const jt=null!==(Le=null===(pe=L.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==Le?Le:null===(et=L.notification)||void 0===et?void 0:et.click_action;jt&&(O.fcmOptions.link=jt);const sn=null===(lt=L.fcmOptions)||void 0===lt?void 0:lt.analytics_label;sn&&(O.fcmOptions.analyticsLabel=sn)}(L,O),L}function U(O,L){const q=[];for(let pe=0;pe<O.length;pe++)q.push(O.charAt(pe)),pe<L.length&&q.push(L.charAt(pe));return q.join("")}function we(O){return ns.create("missing-app-config-values",{valueName:O})}U("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),U("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ft{constructor(L,q,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Le=function te(O){if(!O||!O.options)throw we("App Configuration Object");if(!O.name)throw we("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:q}=O;for(const pe of L)if(!q[pe])throw we(pe);return{appName:O.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Le,installations:q,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Et(O){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,W.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Gn,{scope:to}),O.swRegistration.update().catch(()=>{})}catch(L){throw ns.create("failed-service-worker-registration",{browserErrorMessage:L?.message})}})).apply(this,arguments)}function Cr(){return(Cr=(0,W.Z)(function*(O,L){if(!L&&!O.swRegistration&&(yield Et(O)),L||!O.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ns.create("invalid-sw-registration");O.swRegistration=L}})).apply(this,arguments)}function $n(){return($n=(0,W.Z)(function*(O,L){L?O.vapidKey=L:O.vapidKey||(O.vapidKey=E)})).apply(this,arguments)}function Wr(){return Wr=(0,W.Z)(function*(O,L){if(!navigator)throw ns.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ns.create("permission-blocked");return yield function jr(O,L){return $n.apply(this,arguments)}(O,L?.vapidKey),yield function gi(O,L){return Cr.apply(this,arguments)}(O,L?.serviceWorkerRegistration),function Cl(O){return ll.apply(this,arguments)}(O)}),Wr.apply(this,arguments)}function Kr(){return(Kr=(0,W.Z)(function*(O,L,q){const pe=function xr(O){switch(O){case Be.NOTIFICATION_CLICKED:return"notification_open";case Be.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(L);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:q[I],message_name:q[V],message_time:q[le],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ds(){return Ds=(0,W.Z)(function*(O,L){const q=L.data;if(!q.isFirebaseMessaging)return;O.onMessageHandler&&q.messageType===Be.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Ja(q)):O.onMessageHandler.next(Ja(q)));const pe=q.data;(function K(O){return"object"==typeof O&&!!O&&I in O})(pe)&&"1"===pe[Oe]&&(yield function Qi(O,L,q){return Kr.apply(this,arguments)}(O,q.messageType,pe))}),Ds.apply(this,arguments)}const Ls="@firebase/messaging",Ko=O=>{const L=new ft(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function As(O,L){return Ds.apply(this,arguments)}(L,q)),L},Pu=O=>{const L=O.getProvider("messaging").getImmediate();return{getToken:pe=>function fi(O,L){return Wr.apply(this,arguments)}(L,pe)}};function sc(){return rs.apply(this,arguments)}function rs(){return(rs=(0,W.Z)(function*(){try{yield(0,De.eu)()}catch{return!1}return typeof window<"u"&&(0,De.hl)()&&(0,De.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ro(){(0,f._registerComponent)(new Ie.wA("messaging",Ko,"PUBLIC")),(0,f._registerComponent)(new Ie.wA("messaging-internal",Pu,"PRIVATE")),(0,f.registerVersion)(Ls,"0.12.4"),(0,f.registerVersion)(Ls,"0.12.4","esm2017")}();const gn="analytics",Dn="firebase_id",ku="origin",dn=6e4,_t="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bt="https://www.googletagmanager.com/gtag/js",qr=new Pe.Yd("@firebase/analytics"),Wi=new De.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lu(O){if(!O.startsWith(Bt)){const L=Wi.create("invalid-gtag-resource",{gtagURL:O});return qr.warn(L.message),""}return O}function Es(O){return Promise.all(O.map(L=>L.catch(q=>q)))}function xo(){return(xo=(0,W.Z)(function*(O,L,q,pe,Le,et){const lt=pe[Le];try{if(lt)yield L[lt];else{const sn=(yield Es(q)).find(Fn=>Fn.measurementId===Le);sn&&(yield L[sn.appId])}}catch(jt){qr.error(jt)}O("config",Le,et)})).apply(this,arguments)}function cl(){return(cl=(0,W.Z)(function*(O,L,q,pe,Le){try{let et=[];if(Le&&Le.send_to){let lt=Le.send_to;Array.isArray(lt)||(lt=[lt]);const jt=yield Es(q);for(const sn of lt){const Fn=jt.find(wr=>wr.measurementId===sn),_r=Fn&&L[Fn.appId];if(!_r){et=[];break}et.push(_r)}}0===et.length&&(et=Object.values(L)),yield Promise.all(et),O("event",pe,Le||{})}catch(et){qr.error(et)}})).apply(this,arguments)}const Pi=30,Pr=new class dl{constructor(L={},q=1e3){this.throttleMetadata=L,this.intervalMillis=q}getThrottleMetadata(L){return this.throttleMetadata[L]}setThrottleMetadata(L,q){this.throttleMetadata[L]=q}deleteThrottleMetadata(L){delete this.throttleMetadata[L]}};function yd(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function Gt(){return(Gt=(0,W.Z)(function*(O){var L;const{appId:q,apiKey:pe}=O,Le={method:"GET",headers:yd(pe)},et=_t.replace("{app-id}",q),lt=yield fetch(et,Le);if(200!==lt.status&&304!==lt.status){let jt="";try{const sn=yield lt.json();null!==(L=sn.error)&&void 0!==L&&L.message&&(jt=sn.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:lt.status,responseMessage:jt})}return lt.json()})).apply(this,arguments)}function hl(){return(hl=(0,W.Z)(function*(O,L=Pr,q){const{appId:pe,apiKey:Le,measurementId:et}=O.options;if(!pe)throw Wi.create("no-app-id");if(!Le){if(et)return{measurementId:et,appId:pe};throw Wi.create("no-api-key")}const lt=L.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},jt=new hu;return setTimeout((0,W.Z)(function*(){jt.abort()}),void 0!==q?q:dn),$a({appId:pe,apiKey:Le,measurementId:et},lt,jt,L)})).apply(this,arguments)}function $a(O,L,q){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,W.Z)(function*(O,{throttleEndTimeMillis:L,backoffCount:q},pe,Le=Pr){var et;const{appId:lt,measurementId:jt}=O;try{yield function du(O,L){return new Promise((q,pe)=>{const Le=Math.max(L-Date.now(),0),et=setTimeout(q,Le);O.addEventListener(()=>{clearTimeout(et),pe(Wi.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(pe,L)}catch(sn){if(jt)return qr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${sn?.message}]`),{appId:lt,measurementId:jt};throw sn}try{const sn=yield function is(O){return Gt.apply(this,arguments)}(O);return Le.deleteThrottleMetadata(lt),sn}catch(sn){const Fn=sn;if(!function xc(O){if(!(O instanceof De.ZR&&O.customData))return!1;const L=Number(O.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Fn)){if(Le.deleteThrottleMetadata(lt),jt)return qr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${Fn?.message}]`),{appId:lt,measurementId:jt};throw sn}const _r=503===Number(null===(et=Fn?.customData)||void 0===et?void 0:et.httpStatus)?(0,De.$s)(q,Le.intervalMillis,Pi):(0,De.$s)(q,Le.intervalMillis),wr={throttleEndTimeMillis:Date.now()+_r,backoffCount:q+1};return Le.setThrottleMetadata(lt,wr),qr.debug(`Calling attemptFetch again in ${_r} millis`),$a(O,wr,pe,Le)}}),Nl.apply(this,arguments)}class hu{constructor(){this.listeners=[]}addEventListener(L){this.listeners.push(L)}abort(){this.listeners.forEach(L=>L())}}let el,k;function Ns(){return(Ns=(0,W.Z)(function*(O,L,q,pe,Le){if(Le&&Le.global)O("event",q,pe);else{const et=yield L;O("event",q,Object.assign(Object.assign({},pe),{send_to:et}))}})).apply(this,arguments)}function We(){return(We=(0,W.Z)(function*(){if(!(0,De.hl)())return qr.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,De.eu)()}catch(O){return qr.warn(Wi.create("indexeddb-unavailable",{errorInfo:O?.toString()}).message),!1}return!0})).apply(this,arguments)}function un(){return un=(0,W.Z)(function*(O,L,q,pe,Le,et,lt){var jt;const sn=function Al(O){return hl.apply(this,arguments)}(O);sn.then(ei=>{q[ei.measurementId]=ei.appId,O.options.measurementId&&ei.measurementId!==O.options.measurementId&&qr.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${ei.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ei=>qr.error(ei)),L.push(sn);const Fn=function ae(){return We.apply(this,arguments)}().then(ei=>{if(ei)return pe.getId()}),[_r,wr]=yield Promise.all([sn,Fn]);(function ka(O){const L=window.document.getElementsByTagName("script");for(const q of Object.values(L))if(q.src&&q.src.includes(Bt)&&q.src.includes(O))return q;return null})(et)||function oa(O,L){const q=function $l(O,L){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(O,L)),q}("firebase-js-sdk-policy",{createScriptURL:lu}),pe=document.createElement("script"),Le=`${Bt}?l=${O}&id=${L}`;pe.src=q?q?.createScriptURL(Le):Le,pe.async=!0,document.head.appendChild(pe)}(et,_r.measurementId),k&&(Le("consent","default",k),function H(O){k=O}(void 0)),Le("js",new Date);const Zo=null!==(jt=lt?.config)&&void 0!==jt?jt:{};return Zo[ku]="firebase",Zo.update=!0,null!=wr&&(Zo[Dn]=wr),Le("config",_r.measurementId,Zo),el&&(Le("set",el),function X(O){el=O}(void 0)),_r.measurementId}),un.apply(this,arguments)}class nn{constructor(L){this.app=L}_delete(){return delete br[this.app.options.appId],Promise.resolve()}}let br={},Ki=[];const Fa={};let qo,hs,Mi="dataLayer",To="gtag",ao=!1;function vd(O,L,q){!function Ol(){const O=[];if((0,De.ru)()&&O.push("This is a browser extension environment."),(0,De.zI)()||O.push("Cookies are not available."),O.length>0){const L=O.map((pe,Le)=>`(${Le+1}) ${pe}`).join(" "),q=Wi.create("invalid-analytics-context",{errorInfo:L});qr.warn(q.message)}}();const pe=O.options.appId;if(!pe)throw Wi.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Wi.create("no-api-key");qr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=br[pe])throw Wi.create("already-exists",{id:pe});if(!ao){!function Fu(O){let L=[];Array.isArray(window[O])?L=window[O]:window[O]=L}(Mi);const{wrappedGtag:et,gtagCore:lt}=function oo(O,L,q,pe,Le){let et=function(...lt){window[pe].push(arguments)};return window[Le]&&"function"==typeof window[Le]&&(et=window[Le]),window[Le]=function dr(O,L,q,pe){function et(){return et=(0,W.Z)(function*(lt,...jt){try{if("event"===lt){const[sn,Fn]=jt;yield function cu(O,L,q,pe,Le){return cl.apply(this,arguments)}(O,L,q,sn,Fn)}else if("config"===lt){const[sn,Fn]=jt;yield function uu(O,L,q,pe,Le,et){return xo.apply(this,arguments)}(O,L,q,pe,sn,Fn)}else if("consent"===lt){const[sn]=jt;O("consent","update",sn)}else if("get"===lt){const[sn,Fn,_r]=jt;O("get",sn,Fn,_r)}else if("set"===lt){const[sn]=jt;O("set",sn)}else O(lt,...jt)}catch(sn){qr.error(sn)}}),et.apply(this,arguments)}return function Le(lt){return et.apply(this,arguments)}}(et,O,L,q),{gtagCore:et,wrappedGtag:window[Le]}}(br,Ki,Fa,Mi,To);hs=et,qo=lt,ao=!0}return br[pe]=function xt(O,L,q,pe,Le,et,lt){return un.apply(this,arguments)}(O,Ki,Fa,L,qo,Mi,q),new nn(O)}function oc(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,W.Z)(function*(){if((0,De.ru)()||!(0,De.zI)()||!(0,De.hl)())return!1;try{return yield(0,De.eu)()}catch{return!1}})).apply(this,arguments)}const Fc="@firebase/analytics";!function lc(){(0,f._registerComponent)(new Ie.wA(gn,(L,{options:q})=>vd(L.getProvider("app").getImmediate(),L.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,f._registerComponent)(new Ie.wA("analytics-internal",function O(L){try{const q=L.getProvider(gn).getImmediate();return{logEvent:(pe,Le,et)=>function hh(O,L,q,pe){O=(0,De.m9)(O),function Pc(O,L,q,pe,Le){return Ns.apply(this,arguments)}(hs,br[O.app.options.appId],L,q,pe).catch(Le=>qr.error(Le))}(q,pe,Le,et)}}catch(q){throw Wi.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,f.registerVersion)(Fc,"0.10.0"),(0,f.registerVersion)(Fc,"0.10.0","esm2017")}();var Bc=G(4408),pu=G(7565);const lo=new class uc extends pu.v{}(class Dd extends Bc.o{constructor(L,q){super(L,q),this.scheduler=L,this.work=q}schedule(L,q=0){return q>0?super.schedule(L,q):(this.delay=q,this.state=L,this.scheduler.flush(this),this)}execute(L,q){return q>0||this.closed?super.execute(L,q):this._execute(L,q)}requestAsyncId(L,q,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(L,q,pe):(L.flush(this),0)}});var Wl=G(4986),Bu=G(8505),qi=G(5363),gu=G(9468);const uo=new b.GfV("7.6.1"),Ci="__angularfire_symbol__analyticsIsSupportedValue",dc="__angularfire_symbol__analyticsIsSupported",pl="__angularfire_symbol__remoteConfigIsSupportedValue",Hs="__angularfire_symbol__remoteConfigIsSupported",Uu="__angularfire_symbol__messagingIsSupportedValue",Ed="__angularfire_symbol__messagingIsSupported";function gl(O,L,q){if(L){if(1===L.length)return L[0];const et=L.filter(lt=>lt.app===q);if(1===et.length)return et[0]}return q.container.getProvider(O).getImmediate({optional:!0})}globalThis[dc]||(globalThis[dc]=oc().then(O=>globalThis[Ci]=O).catch(()=>globalThis[Ci]=!1)),globalThis[Ed]||(globalThis[Ed]=sc().then(O=>globalThis[Uu]=O).catch(()=>globalThis[Uu]=!1)),globalThis[Hs]||(globalThis[Hs]=Ya().then(O=>globalThis[pl]=O).catch(()=>globalThis[pl]=!1));const Kl=(O,L)=>{const q=L?[L]:(0,z.C6)(),pe=[];return q.forEach(Le=>{Le.container.getProvider(O).instances.forEach(lt=>{pe.includes(lt)||pe.push(lt)})}),pe};function ml(){}class _u{constructor(L,q=lo){this.zone=L,this.delegate=q}now(){return this.delegate.now()}schedule(L,q,pe){const Le=this.zone;return this.delegate.schedule(function(lt){Le.runGuarded(()=>{L.apply(this,[lt])})},q,pe)}}class Td{constructor(L){this.zone=L,this.task=null}call(L,q){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ml,{},ml,ml)),q.pipe((0,Bu.b)({next:pe,complete:pe,error:pe})).subscribe(L).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Po=(()=>{class O{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new _u(Zone.current)),this.insideAngular=q.run(()=>new _u(Zone.current,Wl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(q){return new(q||O)(b.LFG(b.R0b))},O.\u0275prov=b.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ko(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function nl(O){return O.pipe((0,qi.Q)(ko().outsideAngular))}function Rl(O){return ko(),function Id(O){return function(q){return(q=q.lift(new Td(O.ngZone))).pipe((0,gu.R)(O.outsideAngular),(0,qi.Q)(O.insideAngular))}}(ko())(O)}},1389:(Wt,He,G)=>{G.d(He,{$:()=>Gn,A:()=>ge,D:()=>st,I:()=>ur,J:()=>Cs,L:()=>gs,N:()=>Ai,P:()=>xt,Q:()=>hi,R:()=>ss,U:()=>_o,V:()=>Ya,W:()=>Sa,X:()=>_s,Y:()=>vo,Z:()=>Ao,_:()=>ia,a:()=>so,a0:()=>E,a1:()=>I,a2:()=>Rt,a3:()=>Ni,a4:()=>zr,a5:()=>zi,a6:()=>vs,a7:()=>Ir,a8:()=>bs,a9:()=>ws,aA:()=>Ee,aB:()=>pl,aC:()=>yr,aD:()=>Tr,aE:()=>qi,aF:()=>bd,aG:()=>zl,aH:()=>Er,aL:()=>fr,aO:()=>yo,aa:()=>Mo,ab:()=>Gl,ac:()=>El,ad:()=>al,ae:()=>Oa,af:()=>xa,ai:()=>jl,aj:()=>ll,ak:()=>Ti,an:()=>ol,ao:()=>Do,aq:()=>$n,ar:()=>Ls,as:()=>Pt,at:()=>Te,au:()=>fe,av:()=>Me,aw:()=>Zo,ax:()=>Ms,ay:()=>Xe,az:()=>Ae,b:()=>Xa,c:()=>hs,d:()=>vd,e:()=>Hl,f:()=>Fc,g:()=>uc,h:()=>Bc,i:()=>Rn,j:()=>Wl,k:()=>aa,l:()=>A,m:()=>rp,p:()=>de,r:()=>T,s:()=>at,u:()=>ae});var b=G(5861),z=G(2090),W=G(6881),f=G(7582),De=G(1877),Ie=G(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ge={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const st=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Je=function rt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ve=new De.Yd("@firebase/auth");function ht(N,...m){Ve.logLevel<=De.in.ERROR&&Ve.error(`Auth (${W.SDK_VERSION}): ${N}`,...m)}function Me(N,...m){throw Dt(N,...m)}function Ae(N,...m){return Dt(N,...m)}function Qe(N,m,w){const R=Object.assign(Object.assign({},Je()),{[m]:w});return new z.LL("auth","Firebase",R).create(m,{appName:N.name})}function At(N,m,w){if(!(m instanceof w))throw w.name!==m.constructor.name&&Me(N,"argument-error"),Qe(N,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(N,...m){if("string"!=typeof N){const w=m[0],R=[...m.slice(1)];return R[0]&&(R[0].appName=N.name),N._errorFactory.create(w,...R)}return tt.create(N,...m)}function Ee(N,m,...w){if(!N)throw Dt(m,...w)}function Ht(N){const m="INTERNAL ASSERTION FAILED: "+N;throw ht(m),new Error(m)}function Pt(N,m){N||Ht(m)}function Mt(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.href)||""}function mn(){return"http:"===tn()||"https:"===tn()}function tn(){var N;return typeof self<"u"&&(null===(N=self.location)||void 0===N?void 0:N.protocol)||null}class Ze{constructor(m,w){this.shortDelay=m,this.longDelay=w,Pt(w>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function pi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mn()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ct(N,m){Pt(N.emulator,"Emulator should always be set here");const{url:w}=N.emulator;return m?`${w}${m.startsWith("/")?m.slice(1):m}`:w}class ot{static initialize(m,w,R){this.fetchImpl=m,w&&(this.headersImpl=w),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mt=new Ze(3e4,6e4);function bt(N,m){return N.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:N.tenantId}):m}function zt(N,m,w,R){return En.apply(this,arguments)}function En(){return(En=(0,b.Z)(function*(N,m,w,R,J={}){return wt(N,J,(0,b.Z)(function*(){let ue={},Ke={};R&&("GET"===m?Ke=R:ue={body:JSON.stringify(R)});const yt=(0,z.xO)(Object.assign({key:N.config.apiKey},Ke)).slice(1),Xt=yield N._getAdditionalHeaders();return Xt["Content-Type"]="application/json",N.languageCode&&(Xt["X-Firebase-Locale"]=N.languageCode),ot.fetch()(gr(N,N.config.apiHost,w,yt),Object.assign({method:m,headers:Xt,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function wt(N,m,w){return qt.apply(this,arguments)}function qt(){return(qt=(0,b.Z)(function*(N,m,w){N._canInitEmulator=!1;const R=Object.assign(Object.assign({},It),m);try{const J=new Yr(N),ue=yield Promise.race([w(),J.promise]);J.clearNetworkTimeout();const Ke=yield ue.json();if("needConfirmation"in Ke)throw Xn(N,"account-exists-with-different-credential",Ke);if(ue.ok&&!("errorMessage"in Ke))return Ke;{const yt=ue.ok?Ke.errorMessage:Ke.error.message,[Xt,yn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw Xn(N,"credential-already-in-use",Ke);if("EMAIL_EXISTS"===Xt)throw Xn(N,"email-already-in-use",Ke);if("USER_DISABLED"===Xt)throw Xn(N,"user-disabled",Ke);const zn=R[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(yn)throw Qe(N,zn,yn);Me(N,zn)}}catch(J){if(J instanceof z.ZR)throw J;Me(N,"network-request-failed",{message:String(J)})}})).apply(this,arguments)}function hn(N,m,w,R){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,b.Z)(function*(N,m,w,R,J={}){const ue=yield zt(N,m,w,R,J);return"mfaPendingCredential"in ue&&Me(N,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function gr(N,m,w,R){const J=`${m}${w}?${R}`;return N.config.emulator?ct(N.config,J):`${N.config.apiScheme}://${J}`}class Yr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((w,R)=>{this.timer=setTimeout(()=>R(Ae(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(N,m,w){const R={appName:N.name};w.email&&(R.email=w.email),w.phoneNumber&&(R.phoneNumber=w.phoneNumber);const J=Ae(N,m,R);return J.customData._tokenResponse=w,J}function ar(){return(ar=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Ye(){return(Ye=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ge(){return(Ge=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ue(N){if(N)try{const m=new Date(Number(N));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Pn(){return(Pn=(0,b.Z)(function*(N,m=!1){const w=(0,z.m9)(N),R=yield w.getIdToken(m),J=Mn(R);Ee(J&&J.exp&&J.auth_time&&J.iat,w.auth,"internal-error");const ue="object"==typeof J.firebase?J.firebase:void 0,Ke=ue?.sign_in_provider;return{claims:J,token:R,authTime:Ue(Tn(J.auth_time)),issuedAtTime:Ue(Tn(J.iat)),expirationTime:Ue(Tn(J.exp)),signInProvider:Ke||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function Tn(N){return 1e3*Number(N)}function Mn(N){const[m,w,R]=N.split(".");if(void 0===m||void 0===w||void 0===R)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const J=(0,z.tV)(w);return J?JSON.parse(J):(ht("Failed to decode base64 JWT payload"),null)}catch(J){return ht("Caught error parsing JWT payload as JSON",J?.toString()),null}}function On(N,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,b.Z)(function*(N,m,w=!1){if(w)return m;try{return yield m}catch(R){throw R instanceof z.ZR&&function fn({code:N}){return"auth/user-disabled"===N||"auth/user-token-expired"===N}(R)&&N.auth.currentUser===N&&(yield N.auth.signOut()),R}})).apply(this,arguments)}class or{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var w;if(m){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const J=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,J)}}schedule(m=!1){var w=this;if(!this.isRunning)return;const R=this.getInterval(m);this.timerId=setTimeout((0,b.Z)(function*(){yield w.iteration()}),R)}iteration(){var m=this;return(0,b.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w?.code&&m.schedule(!0))}m.schedule()})()}}class cn{constructor(m,w){this.createdAt=m,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ue(this.lastLoginAt),this.creationTime=Ue(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(N){return lr.apply(this,arguments)}function lr(){return lr=(0,b.Z)(function*(N){var m;const w=N.auth,R=yield N.getIdToken(),J=yield On(N,function ke(N,m){return Ge.apply(this,arguments)}(w,{idToken:R}));Ee(J?.users.length,w,"internal-error");const ue=J.users[0];N._notifyReloadListener(ue);const Ke=null!==(m=ue.providerUserInfo)&&void 0!==m&&m.length?function Si(N){return N.map(m=>{var{providerId:w}=m,R=(0,f._T)(m,["providerId"]);return{providerId:w,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}(ue.providerUserInfo):[],yt=function kn(N,m){return[...N.filter(R=>!m.some(J=>J.providerId===R.providerId)),...m]}(N.providerData,Ke),zn=!!N.isAnonymous&&!(N.email&&ue.passwordHash||yt?.length),Mr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:yt,metadata:new cn(ue.createdAt,ue.lastLoginAt),isAnonymous:zn};Object.assign(N,Mr)}),lr.apply(this,arguments)}function ri(){return(ri=(0,b.Z)(function*(N){const m=(0,z.m9)(N);yield hr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function li(){return(li=(0,b.Z)(function*(N,m){const w=yield wt(N,{},(0,b.Z)(function*(){const R=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:J,apiKey:ue}=N.config,Ke=gr(N,J,"/v1/token",`key=${ue}`),yt=yield N._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",ot.fetch()(Ke,{method:"POST",headers:yt,body:R})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class Bn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ee(m.idToken,"internal-error"),Ee(typeof m.idToken<"u","internal-error"),Ee(typeof m.refreshToken<"u","internal-error");const w="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function _n(N){const m=Mn(N);return Ee(m,"internal-error"),Ee(typeof m.exp<"u","internal-error"),Ee(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,w)}getToken(m,w=!1){var R=this;return(0,b.Z)(function*(){return Ee(!R.accessToken||R.refreshToken,m,"user-token-expired"),w||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(m,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,w){var R=this;return(0,b.Z)(function*(){const{accessToken:J,refreshToken:ue,expiresIn:Ke}=yield function nr(N,m){return li.apply(this,arguments)}(m,w);R.updateTokensAndExpiration(J,ue,Number(Ke))})()}updateTokensAndExpiration(m,w,R){this.refreshToken=w||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(m,w){const{refreshToken:R,accessToken:J,expirationTime:ue}=w,Ke=new Bn;return R&&(Ee("string"==typeof R,"internal-error",{appName:m}),Ke.refreshToken=R),J&&(Ee("string"==typeof J,"internal-error",{appName:m}),Ke.accessToken=J),ue&&(Ee("number"==typeof ue,"internal-error",{appName:m}),Ke.expirationTime=ue),Ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Bn,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function Br(N,m){Ee("string"==typeof N||typeof N>"u","internal-error",{appName:m})}class Sr{constructor(m){var{uid:w,auth:R,stsTokenManager:J}=m,ue=(0,f._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=R,this.stsTokenManager=J,this.accessToken=J.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new cn(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(m){var w=this;return(0,b.Z)(function*(){const R=yield On(w,w.stsTokenManager.getToken(w.auth,m));return Ee(R,w.auth,"internal-error"),w.accessToken!==R&&(w.accessToken=R,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),R})()}getIdTokenResult(m){return function Qt(N){return Pn.apply(this,arguments)}(this,m)}reload(){return function Hn(N){return ri.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ee(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(w=>Object.assign({},w)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const w=new Sr(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return w.metadata._copy(this.metadata),w}_onReload(m){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,w=!1){var R=this;return(0,b.Z)(function*(){let J=!1;m.idToken&&m.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(m),J=!0),w&&(yield hr(R)),yield R.auth._persistUserIfCurrent(R),J&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var m=this;return(0,b.Z)(function*(){const w=yield m.getIdToken();return yield On(m,function er(N,m){return ar.apply(this,arguments)}(m.auth,{idToken:w})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,w){var R,J,ue,Ke,yt,Xt,yn,zn;const Mr=null!==(R=w.displayName)&&void 0!==R?R:void 0,la=null!==(J=w.email)&&void 0!==J?J:void 0,ua=null!==(ue=w.phoneNumber)&&void 0!==ue?ue:void 0,pc=null!==(Ke=w.photoURL)&&void 0!==Ke?Ke:void 0,ju=null!==(yt=w.tenantId)&&void 0!==yt?yt:void 0,Pl=null!==(Xt=w._redirectEventId)&&void 0!==Xt?Xt:void 0,Ad=null!==(yn=w.createdAt)&&void 0!==yn?yn:void 0,Zl=null!==(zn=w.lastLoginAt)&&void 0!==zn?zn:void 0,{uid:Gc,emailVerified:kl,isAnonymous:Os,providerData:jc,stsTokenManager:yu}=w;Ee(Gc&&yu,m,"internal-error");const Yl=Bn.fromJSON(this.name,yu);Ee("string"==typeof Gc,m,"internal-error"),Br(Mr,m.name),Br(la,m.name),Ee("boolean"==typeof kl,m,"internal-error"),Ee("boolean"==typeof Os,m,"internal-error"),Br(ua,m.name),Br(pc,m.name),Br(ju,m.name),Br(Pl,m.name),Br(Ad,m.name),Br(Zl,m.name);const $c=new Sr({uid:Gc,auth:m,email:la,emailVerified:kl,displayName:Mr,isAnonymous:Os,photoURL:pc,phoneNumber:ua,tenantId:ju,stsTokenManager:Yl,createdAt:Ad,lastLoginAt:Zl});return jc&&Array.isArray(jc)&&($c.providerData=jc.map(Hc=>Object.assign({},Hc))),Pl&&($c._redirectEventId=Pl),$c}static _fromIdTokenResponse(m,w,R=!1){return(0,b.Z)(function*(){const J=new Bn;J.updateFromServerResponse(w);const ue=new Sr({uid:w.localId,auth:m,stsTokenManager:J,isAnonymous:R});return yield hr(ue),ue})()}}const ui=new Map;function yr(N){Pt(N instanceof Function,"Expected a class definition");let m=ui.get(N);return m?(Pt(m instanceof N,"Instance stored in cache mismatched with class"),m):(m=new N,ui.set(N,m),m)}const Ai=(()=>{class N{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,b.Z)(function*(){return!0})()}_set(w,R){var J=this;return(0,b.Z)(function*(){J.storage[w]=R})()}_get(w){var R=this;return(0,b.Z)(function*(){const J=R.storage[w];return void 0===J?null:J})()}_remove(w){var R=this;return(0,b.Z)(function*(){delete R.storage[w]})()}_addListener(w,R){}_removeListener(w,R){}}return N.type="NONE",N})();function Tr(N,m,w){return`firebase:${N}:${m}:${w}`}class Se{constructor(m,w,R){this.persistence=m,this.auth=w,this.userKey=R;const{config:J,name:ue}=this.auth;this.fullUserKey=Tr(this.userKey,J.apiKey,ue),this.fullPersistenceKey=Tr("persistence",J.apiKey,ue),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,b.Z)(function*(){const w=yield m.persistence._get(m.fullUserKey);return w?Sr._fromJSON(m.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var w=this;return(0,b.Z)(function*(){if(w.persistence===m)return;const R=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=m,R?w.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,w,R="authUser"){return(0,b.Z)(function*(){if(!w.length)return new Se(yr(Ai),m,R);const J=(yield Promise.all(w.map(function(){var yn=(0,b.Z)(function*(zn){if(yield zn._isAvailable())return zn});return function(zn){return yn.apply(this,arguments)}}()))).filter(yn=>yn);let ue=J[0]||yr(Ai);const Ke=Tr(R,m.config.apiKey,m.name);let yt=null;for(const yn of w)try{const zn=yield yn._get(Ke);if(zn){const Mr=Sr._fromJSON(m,zn);yn!==ue&&(yt=Mr),ue=yn;break}}catch{}const Xt=J.filter(yn=>yn._shouldAllowMigration);return ue._shouldAllowMigration&&Xt.length?(ue=Xt[0],yt&&(yield ue._set(Ke,yt.toJSON())),yield Promise.all(w.map(function(){var yn=(0,b.Z)(function*(zn){if(zn!==ue)try{yield zn._remove(Ke)}catch{}});return function(zn){return yn.apply(this,arguments)}}())),new Se(ue,m,R)):new Se(ue,m,R)})()}}function ye(N){const m=N.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Re(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ne(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ve(m))return"Blackberry";if(ce(m))return"Webos";if(oe(m))return"Safari";if((m.includes("chrome/")||ee(m))&&!m.includes("edge/"))return"Chrome";if(fe(m))return"Android";{const R=N.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===R?.length)return R[1]}return"Other"}function ne(N=(0,z.z$)()){return/firefox\//i.test(N)}function oe(N=(0,z.z$)()){const m=N.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ee(N=(0,z.z$)()){return/crios\//i.test(N)}function Re(N=(0,z.z$)()){return/iemobile/i.test(N)}function fe(N=(0,z.z$)()){return/android/i.test(N)}function ve(N=(0,z.z$)()){return/blackberry/i.test(N)}function ce(N=(0,z.z$)()){return/webos/i.test(N)}function Te(N=(0,z.z$)()){return/iphone|ipad|ipod/i.test(N)||/macintosh/i.test(N)&&/mobile/i.test(N)}function Xe(N=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(N)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(N)}function an(N=(0,z.z$)()){return Te(N)||fe(N)||ce(N)||ve(N)||/windows phone/i.test(N)||Re(N)}function Dr(N,m=[]){let w;switch(N){case"Browser":w=ye((0,z.z$)());break;case"Worker":w=`${ye((0,z.z$)())}-${N}`;break;default:w=N}const R=m.length?m.join(","):"FirebaseCore-web";return`${w}/JsCore/${W.SDK_VERSION}/${R}`}function it(){return(it=(0,b.Z)(function*(N){return(yield zt(N,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vt(N,m){return pn.apply(this,arguments)}function pn(){return(pn=(0,b.Z)(function*(N,m){return zt(N,"GET","/v2/recaptchaConfig",bt(N,m))})).apply(this,arguments)}function bn(N){return void 0!==N&&void 0!==N.getResponse}function jn(N){return void 0!==N&&void 0!==N.enterprise}class wn{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(w=>"EMAIL_PASSWORD_PROVIDER"===w.provider&&"OFF"!==w.enforcementState)}}function rr(N){return new Promise((m,w)=>{const R=document.createElement("script");R.setAttribute("src",N),R.onload=m,R.onerror=J=>{const ue=Ae("internal-error");ue.customData=J,w(ue)},R.type="text/javascript",R.charset="UTF-8",function vr(){var N,m;return null!==(m=null===(N=document.getElementsByTagName("head"))||void 0===N?void 0:N[0])&&void 0!==m?m:document}().appendChild(R)})}function _i(N){return`__${N}${Math.floor(1e6*Math.random())}`}const ta="NO_RECAPTCHA";class Zs{constructor(m){this.type="recaptcha-enterprise",this.auth=Er(m)}verify(m="verify",w=!1){var R=this;return(0,b.Z)(function*(){function ue(){return ue=(0,b.Z)(function*(yt){if(!w){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var Xt=(0,b.Z)(function*(yn,zn){Vt(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Mr=>{if(void 0!==Mr.recaptchaKey){const la=new wn(Mr);return null==yt.tenantId?yt._agentRecaptchaConfig=la:yt._tenantRecaptchaConfigs[yt.tenantId]=la,yn(la.siteKey)}zn(new Error("recaptcha Enterprise site key undefined"))}).catch(Mr=>{zn(Mr)})});return function(yn,zn){return Xt.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Ke(yt,Xt,yn){const zn=window.grecaptcha;jn(zn)?zn.enterprise.ready(()=>{zn.enterprise.execute(yt,{action:m}).then(Mr=>{Xt(Mr)}).catch(()=>{Xt(ta)})}):yn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,Xt)=>{(function J(yt){return ue.apply(this,arguments)})(R.auth).then(yn=>{if(!w&&jn(window.grecaptcha))Ke(yn,yt,Xt);else{if(typeof window>"u")return void Xt(new Error("RecaptchaVerifier is only supported in browser"));rr("https://www.google.com/recaptcha/enterprise.js?render="+yn).then(()=>{Ke(yn,yt,Xt)}).catch(zn=>{Xt(zn)})}}).catch(yn=>{Xt(yn)})})})()}}function Nr(N,m,w){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,b.Z)(function*(N,m,w,R=!1){const J=new Zs(N);let ue;try{ue=yield J.verify(w)}catch{ue=yield J.verify(w,!0)}const Ke=Object.assign({},m);return Object.assign(Ke,R?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ke})).apply(this,arguments)}class Zn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,w){const R=ue=>new Promise((Ke,yt)=>{try{Ke(m(ue))}catch(Xt){yt(Xt)}});R.onAbort=w,this.queue.push(R);const J=this.queue.length-1;return()=>{this.queue[J]=()=>Promise.resolve()}}runMiddleware(m){var w=this;return(0,b.Z)(function*(){if(w.auth.currentUser===m)return;const R=[];try{for(const J of w.queue)yield J(m),J.onAbort&&R.push(J.onAbort)}catch(J){R.reverse();for(const ue of R)try{ue()}catch{}throw w.auth._errorFactory.create("login-blocked",{originalMessage:J?.message})}})()}}class yi{constructor(m,w,R,J){this.app=m,this.heartbeatServiceProvider=w,this.appCheckServiceProvider=R,this.config=J,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=J.sdkClientVersion}_initializeWithPersistence(m,w){var R=this;return w&&(this._popupRedirectResolver=yr(w)),this._initializationPromise=this.queue((0,b.Z)(function*(){var J,ue;if(!R._deleted&&(R.persistenceManager=yield Se.create(R,m),!R._deleted)){if(null!==(J=R._popupRedirectResolver)&&void 0!==J&&J._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(w),R.lastNotifiedUid=(null===(ue=R.currentUser)||void 0===ue?void 0:ue.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,b.Z)(function*(){if(m._deleted)return;const w=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||w){if(m.currentUser&&w&&m.currentUser.uid===w.uid)return m._currentUser._assign(w),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(w,!0)}})()}initializeCurrentUser(m){var w=this;return(0,b.Z)(function*(){var R;const J=yield w.assertedPersistence.getCurrentUser();let ue=J,Ke=!1;if(m&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const yt=null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId,Xt=ue?._redirectEventId,yn=yield w.tryRedirectSignIn(m);(!yt||yt===Xt)&&yn?.user&&(ue=yn.user,Ke=!0)}if(!ue)return w.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Ke)try{yield w.beforeStateQueue.runMiddleware(ue)}catch(yt){ue=J,w._popupRedirectResolver._overrideRedirectResult(w,()=>Promise.reject(yt))}return ue?w.reloadAndSetCurrentUserOrClear(ue):w.directlySetCurrentUser(null)}return Ee(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ue._redirectEventId?w.directlySetCurrentUser(ue):w.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(m){var w=this;return(0,b.Z)(function*(){let R=null;try{R=yield w._popupRedirectResolver._completeRedirectFn(w,m,!0)}catch{yield w._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(m){var w=this;return(0,b.Z)(function*(){try{yield hr(m)}catch(R){if("auth/network-request-failed"!==R?.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function gt(){if(typeof navigator>"u")return null;const N=navigator;return N.languages&&N.languages[0]||N.language||null}()}_delete(){var m=this;return(0,b.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var w=this;return(0,b.Z)(function*(){const R=m?(0,z.m9)(m):null;return R&&Ee(R.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(R&&R._clone(w))})()}_updateCurrentUser(m,w=!1){var R=this;return(0,b.Z)(function*(){if(!R._deleted)return m&&Ee(R.tenantId===m.tenantId,R,"tenant-id-mismatch"),w||(yield R.beforeStateQueue.runMiddleware(m)),R.queue((0,b.Z)(function*(){yield R.directlySetCurrentUser(m),R.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,b.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var w=this;return this.queue((0,b.Z)(function*(){yield w.assertedPersistence.setPersistence(yr(m))}))}initializeRecaptchaConfig(){var m=this;return(0,b.Z)(function*(){const w=yield Vt(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),R=new wn(w);null==m.tenantId?m._agentRecaptchaConfig=R:m._tenantRecaptchaConfigs[m.tenantId]=R,R.emailPasswordEnabled&&new Zs(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,w,R){return this.registerStateListener(this.authStateSubscription,m,w,R)}beforeAuthStateChanged(m,w){return this.beforeStateQueue.pushCallback(m,w)}onIdTokenChanged(m,w,R){return this.registerStateListener(this.idTokenSubscription,m,w,R)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,w){var R=this;return(0,b.Z)(function*(){const J=yield R.getOrInitRedirectPersistenceManager(w);return null===m?J.removeCurrentUser():J.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var w=this;return(0,b.Z)(function*(){if(!w.redirectPersistenceManager){const R=m&&yr(m)||w._popupRedirectResolver;Ee(R,w,"argument-error"),w.redirectPersistenceManager=yield Se.create(w,[yr(R._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(m){var w=this;return(0,b.Z)(function*(){var R,J;return w._isInitialized&&(yield w.queue((0,b.Z)(function*(){}))),(null===(R=w._currentUser)||void 0===R?void 0:R._redirectEventId)===m?w._currentUser:(null===(J=w.redirectUser)||void 0===J?void 0:J._redirectEventId)===m?w.redirectUser:null})()}_persistUserIfCurrent(m){var w=this;return(0,b.Z)(function*(){if(m===w.currentUser)return w.queue((0,b.Z)(function*(){return w.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(w=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,w,R,J){if(this._deleted)return()=>{};const ue="function"==typeof w?w:w.next.bind(w),Ke=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Ke,this,"internal-error"),Ke.then(()=>ue(this.currentUser)),"function"==typeof w?m.addObserver(w,R,J):m.addObserver(w)}directlySetCurrentUser(m){var w=this;return(0,b.Z)(function*(){w.currentUser&&w.currentUser!==m&&w._currentUser._stopProactiveRefresh(),m&&w.isProactiveRefreshEnabled&&m._startProactiveRefresh(),w.currentUser=m,m?yield w.assertedPersistence.setCurrentUser(m):yield w.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,b.Z)(function*(){var w;const R={"X-Client-Version":m.clientVersion};m.app.options.appId&&(R["X-Firebase-gmpid"]=m.app.options.appId);const J=yield null===(w=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();J&&(R["X-Firebase-Client"]=J);const ue=yield m._getAppCheckToken();return ue&&(R["X-Firebase-AppCheck"]=ue),R})()}_getAppCheckToken(){var m=this;return(0,b.Z)(function*(){var w;const R=yield null===(w=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getToken();return R?.error&&function me(N,...m){Ve.logLevel<=De.in.WARN&&Ve.warn(`Auth (${W.SDK_VERSION}): ${N}`,...m)}(`Error while retrieving App Check token: ${R.error}`),R?.token})()}}function Er(N){return(0,z.m9)(N)}class Ji{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(w=>this.observer=w)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ur(N,m,w){const R=Er(N);Ee(R._canInitEmulator,R,"emulator-config-failed"),Ee(/^https?:\/\//.test(m),R,"invalid-emulator-scheme");const J=!!w?.disableWarnings,ue=Gi(m),{host:Ke,port:yt}=function us(N){const m=Gi(N),w=/(\/\/)?([^?#/]+)/.exec(N.substr(m.length));if(!w)return{host:"",port:null};const R=w[2].split("@").pop()||"",J=/^(\[[^\]]+\])(:|$)/.exec(R);if(J){const ue=J[1];return{host:ue,port:Un(R.substr(ue.length+1))}}{const[ue,Ke]=R.split(":");return{host:ue,port:Un(Ke)}}}(m);R.config.emulator={url:`${ue}//${Ke}${null===yt?"":`:${yt}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Ke,port:yt,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:J})}),J||function cs(){function N(){const m=document.createElement("p"),w=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",w.position="fixed",w.width="100%",w.backgroundColor="#ffffff",w.border=".1em solid #000000",w.color="#b50000",w.bottom="0px",w.left="0px",w.margin="0px",w.zIndex="10000",w.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",N):N())}()}function Gi(N){const m=N.indexOf(":");return m<0?"":N.substr(0,m+1)}function Un(N){if(!N)return null;const m=Number(N);return isNaN(m)?null:m}class Cs{constructor(m,w){this.providerId=m,this.signInMethod=w}toJSON(){return Ht("not implemented")}_getIdTokenResponse(m){return Ht("not implemented")}_linkToIdToken(m,w){return Ht("not implemented")}_getReauthenticationResolver(m){return Ht("not implemented")}}function Ys(N,m){return ji.apply(this,arguments)}function ji(){return(ji=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:resetPassword",bt(N,m))})).apply(this,arguments)}function Rr(N,m){return po.apply(this,arguments)}function po(){return(po=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Xi(){return(Xi=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:update",bt(N,m))})).apply(this,arguments)}function Qs(N,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithPassword",bt(N,m))})).apply(this,arguments)}function Qr(N,m){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:sendOobCode",bt(N,m))})).apply(this,arguments)}function je(){return(je=(0,b.Z)(function*(N,m){return Qr(N,m)})).apply(this,arguments)}function Fe(N,m){return nt.apply(this,arguments)}function nt(){return(nt=(0,b.Z)(function*(N,m){return Qr(N,m)})).apply(this,arguments)}function Tt(N,m){return kt.apply(this,arguments)}function kt(){return(kt=(0,b.Z)(function*(N,m){return Qr(N,m)})).apply(this,arguments)}function qn(){return(qn=(0,b.Z)(function*(N,m){return Qr(N,m)})).apply(this,arguments)}function Yn(){return(Yn=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithEmailLink",bt(N,m))})).apply(this,arguments)}function Xs(){return(Xs=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithEmailLink",bt(N,m))})).apply(this,arguments)}class Jr extends Cs{constructor(m,w,R,J=null){super("password",R),this._email=m,this._password=w,this._tenantId=J}static _fromEmailAndPassword(m,w){return new Jr(m,w,"password")}static _fromEmailAndCode(m,w,R=null){return new Jr(m,w,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const w="string"==typeof m?JSON.parse(m):m;if(w?.email&&w?.password){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(m){var w=this;return(0,b.Z)(function*(){var R;switch(w.signInMethod){case"password":const J={returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=m._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const ue=yield Nr(m,J,"signInWithPassword");return Qs(m,ue)}return Qs(m,J).catch(function(){var ue=(0,b.Z)(function*(Ke){if("auth/missing-recaptcha-token"===Ke.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield Nr(m,J,"signInWithPassword");return Qs(m,yt)}return Promise.reject(Ke)});return function(Ke){return ue.apply(this,arguments)}}());case"emailLink":return function ir(N,m){return Yn.apply(this,arguments)}(m,{email:w._email,oobCode:w._password});default:Me(m,"internal-error")}})()}_linkToIdToken(m,w){var R=this;return(0,b.Z)(function*(){switch(R.signInMethod){case"password":return Rr(m,{idToken:w,returnSecureToken:!0,email:R._email,password:R._password});case"emailLink":return function es(N,m){return Xs.apply(this,arguments)}(m,{idToken:w,email:R._email,oobCode:R._password});default:Me(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function go(N,m){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithIdp",bt(N,m))})).apply(this,arguments)}class gs extends Cs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const w=new gs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(w.idToken=m.idToken),m.accessToken&&(w.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(w.nonce=m.nonce),m.pendingToken&&(w.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(w.accessToken=m.oauthToken,w.secret=m.oauthTokenSecret):Me("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const w="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:J}=w,ue=(0,f._T)(w,["providerId","signInMethod"]);if(!R||!J)return null;const Ke=new gs(R,J);return Ke.idToken=ue.idToken||void 0,Ke.accessToken=ue.accessToken||void 0,Ke.secret=ue.secret,Ke.nonce=ue.nonce,Ke.pendingToken=ue.pendingToken||null,Ke}_getIdTokenResponse(m){return go(m,this.buildRequest())}_linkToIdToken(m,w){const R=this.buildRequest();return R.idToken=w,go(m,R)}_getReauthenticationResolver(m){const w=this.buildRequest();return w.autoCreate=!1,go(m,w)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),m.postBody=(0,z.xO)(w)}return m}}function mo(){return(mo=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:sendVerificationCode",bt(N,m))})).apply(this,arguments)}function na(){return(na=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithPhoneNumber",bt(N,m))})).apply(this,arguments)}function Ua(){return(Ua=(0,b.Z)(function*(N,m){const w=yield hn(N,"POST","/v1/accounts:signInWithPhoneNumber",bt(N,m));if(w.temporaryProof)throw Xn(N,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const Ia={USER_NOT_FOUND:"user-not-found"};function sl(){return(sl=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithPhoneNumber",bt(N,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Ia)})).apply(this,arguments)}class ms extends Cs{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,w){return new ms({verificationId:m,verificationCode:w})}static _fromTokenResponse(m,w){return new ms({phoneNumber:m,temporaryProof:w})}_getIdTokenResponse(m){return function Vs(N,m){return na.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,w){return function Ta(N,m){return Ua.apply(this,arguments)}(m,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ra(N,m){return sl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:w,verificationId:R,verificationCode:J}=this.params;return m&&w?{temporaryProof:m,phoneNumber:w}:{sessionInfo:R,code:J}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:w,verificationCode:R,phoneNumber:J,temporaryProof:ue}=m;return R||w||J||ue?new ms({verificationId:w,verificationCode:R,phoneNumber:J,temporaryProof:ue}):null}}class Gs{constructor(m){var w,R,J,ue,Ke,yt;const Xt=(0,z.zd)((0,z.pd)(m)),yn=null!==(w=Xt.apiKey)&&void 0!==w?w:null,zn=null!==(R=Xt.oobCode)&&void 0!==R?R:null,Mr=function ds(N){switch(N){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(J=Xt.mode)&&void 0!==J?J:null);Ee(yn&&zn&&Mr,"argument-error"),this.apiKey=yn,this.operation=Mr,this.code=zn,this.continueUrl=null!==(ue=Xt.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Ke=Xt.languageCode)&&void 0!==Ke?Ke:null,this.tenantId=null!==(yt=Xt.tenantId)&&void 0!==yt?yt:null}static parseLink(m){const w=function Ca(N){const m=(0,z.zd)((0,z.pd)(N)).link,w=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,R=(0,z.zd)((0,z.pd)(N)).deep_link_id;return(R?(0,z.zd)((0,z.pd)(R)).link:null)||R||w||m||N}(m);try{return new Gs(w)}catch{return null}}}let hi=(()=>{class N{constructor(){this.providerId=N.PROVIDER_ID}static credential(w,R){return Jr._fromEmailAndPassword(w,R)}static credentialWithLink(w,R){const J=Gs.parseLink(R);return Ee(J,"argument-error"),Jr._fromEmailAndCode(w,J.code,J.tenantId)}}return N.PROVIDER_ID="password",N.EMAIL_PASSWORD_SIGN_IN_METHOD="password",N.EMAIL_LINK_SIGN_IN_METHOD="emailLink",N})();class ks{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Yi extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class _s extends Yi{static credentialFromJSON(m){const w="string"==typeof m?JSON.parse(m):m;return Ee("providerId"in w&&"signInMethod"in w,"argument-error"),gs._fromParams(w)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Ee(m.idToken||m.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return _s.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return _s.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:R,oauthTokenSecret:J,pendingToken:ue,nonce:Ke,providerId:yt}=m;if(!R&&!J&&!w&&!ue||!yt)return null;try{return new _s(yt)._credential({idToken:w,accessToken:R,nonce:Ke,pendingToken:ue})}catch{return null}}}let _o=(()=>{class N extends Yi{constructor(){super("facebook.com")}static credential(w){return gs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return N.credentialFromTaggedObject(w)}static credentialFromError(w){return N.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return N.credential(w.oauthAccessToken)}catch{return null}}}return N.FACEBOOK_SIGN_IN_METHOD="facebook.com",N.PROVIDER_ID="facebook.com",N})(),Ya=(()=>{class N extends Yi{constructor(){super("google.com"),this.addScope("profile")}static credential(w,R){return gs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:R})}static credentialFromResult(w){return N.credentialFromTaggedObject(w)}static credentialFromError(w){return N.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:R,oauthAccessToken:J}=w;if(!R&&!J)return null;try{return N.credential(R,J)}catch{return null}}}return N.GOOGLE_SIGN_IN_METHOD="google.com",N.PROVIDER_ID="google.com",N})(),Sa=(()=>{class N extends Yi{constructor(){super("github.com")}static credential(w){return gs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return N.credentialFromTaggedObject(w)}static credentialFromError(w){return N.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return N.credential(w.oauthAccessToken)}catch{return null}}}return N.GITHUB_SIGN_IN_METHOD="github.com",N.PROVIDER_ID="github.com",N})();class yo extends Cs{constructor(m,w){super(m,m),this.pendingToken=w}_getIdTokenResponse(m){return go(m,this.buildRequest())}_linkToIdToken(m,w){const R=this.buildRequest();return R.idToken=w,go(m,R)}_getReauthenticationResolver(m){const w=this.buildRequest();return w.autoCreate=!1,go(m,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const w="string"==typeof m?JSON.parse(m):m,{providerId:R,signInMethod:J,pendingToken:ue}=w;return R&&J&&ue&&R===J?new yo(R,ue):null}static _create(m,w){return new yo(m,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vo extends ks{constructor(m){Ee(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return vo.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return vo.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const w=yo.fromJSON(m);return Ee(w,"argument-error"),w}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:w,providerId:R}=m;if(!w||!R)return null;try{return yo._create(R,w)}catch{return null}}}let Ao=(()=>{class N extends Yi{constructor(){super("twitter.com")}static credential(w,R){return gs._fromParams({providerId:N.PROVIDER_ID,signInMethod:N.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:R})}static credentialFromResult(w){return N.credentialFromTaggedObject(w)}static credentialFromError(w){return N.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:R,oauthTokenSecret:J}=w;if(!R||!J)return null;try{return N.credential(R,J)}catch{return null}}}return N.TWITTER_SIGN_IN_METHOD="twitter.com",N.PROVIDER_ID="twitter.com",N})();function ys(N,m){return eo.apply(this,arguments)}function eo(){return(eo=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signUp",bt(N,m))})).apply(this,arguments)}class vi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,w,R,J=!1){return(0,b.Z)(function*(){const ue=yield Sr._fromIdTokenResponse(m,R,J),Ke=ro(R);return new vi({user:ue,providerId:Ke,_tokenResponse:R,operationType:w})})()}static _forOperation(m,w,R){return(0,b.Z)(function*(){yield m._updateTokensIfNecessary(R,!0);const J=ro(R);return new vi({user:m,providerId:J,_tokenResponse:R,operationType:w})})()}}function ro(N){return N.providerId?N.providerId:"phoneNumber"in N?"phone":null}function ia(N){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,b.Z)(function*(N){var m;const w=Er(N);if(yield w._initializationPromise,null!==(m=w.currentUser)&&void 0!==m&&m.isAnonymous)return new vi({user:w.currentUser,providerId:null,operationType:"signIn"});const R=yield ys(w,{returnSecureToken:!0}),J=yield vi._fromIdTokenResponse(w,"signIn",R,!0);return yield w._updateCurrentUser(J.user),J})).apply(this,arguments)}class $i extends z.ZR{constructor(m,w,R,J){var ue;super(w.code,w.message),this.operationType=R,this.user=J,Object.setPrototypeOf(this,$i.prototype),this.customData={appName:m.name,tenantId:null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:w.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(m,w,R,J){return new $i(m,w,R,J)}}function jo(N,m,w,R){return("reauthenticate"===m?w._getReauthenticationResolver(N):w._getIdTokenResponse(N)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?$i._fromErrorAndOperation(N,ue,m,R):ue})}function Li(N){return new Set(N.map(({providerId:m})=>m).filter(m=>!!m))}function ol(N,m){return $o.apply(this,arguments)}function $o(){return $o=(0,b.Z)(function*(N,m){const w=(0,z.m9)(N);yield _a(!0,w,m);const{providerUserInfo:R}=yield function ni(N,m){return Ye.apply(this,arguments)}(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[m]}),J=Li(R||[]);return w.providerData=w.providerData.filter(ue=>J.has(ue.providerId)),J.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w}),$o.apply(this,arguments)}function Hi(N,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,b.Z)(function*(N,m,w=!1){const R=yield On(N,m._linkToIdToken(N.auth,yield N.getIdToken()),w);return vi._forOperation(N,"link",R)})).apply(this,arguments)}function _a(N,m,w){return bo.apply(this,arguments)}function bo(){return(bo=(0,b.Z)(function*(N,m,w){yield hr(m);const J=!1===N?"provider-already-linked":"no-such-provider";Ee(Li(m.providerData).has(w)===N,m.auth,J)})).apply(this,arguments)}function Ho(N,m){return js.apply(this,arguments)}function js(){return(js=(0,b.Z)(function*(N,m,w=!1){const{auth:R}=N,J="reauthenticate";try{const ue=yield On(N,jo(R,J,m,N),w);Ee(ue.idToken,R,"internal-error");const Ke=Mn(ue.idToken);Ee(Ke,R,"internal-error");const{sub:yt}=Ke;return Ee(N.uid===yt,R,"user-mismatch"),vi._forOperation(N,J,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Me(R,"user-mismatch"),ue}})).apply(this,arguments)}function ya(N,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,b.Z)(function*(N,m,w=!1){const R="signIn",J=yield jo(N,R,m),ue=yield vi._fromIdTokenResponse(N,R,J);return w||(yield N._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Gn(N,m){return to.apply(this,arguments)}function to(){return(to=(0,b.Z)(function*(N,m){return ya(Er(N),m)})).apply(this,arguments)}function E(N,m){return D.apply(this,arguments)}function D(){return(D=(0,b.Z)(function*(N,m){const w=(0,z.m9)(N);return yield _a(!1,w,m.providerId),Hi(w,m)})).apply(this,arguments)}function I(N,m){return V.apply(this,arguments)}function V(){return(V=(0,b.Z)(function*(N,m){return Ho((0,z.m9)(N),m)})).apply(this,arguments)}function Oe(){return(Oe=(0,b.Z)(function*(N,m){return hn(N,"POST","/v1/accounts:signInWithCustomToken",bt(N,m))})).apply(this,arguments)}function Rt(N,m){return Be.apply(this,arguments)}function Be(){return Be=(0,b.Z)(function*(N,m){const w=Er(N),R=yield function le(N,m){return Oe.apply(this,arguments)}(w,{token:m,returnSecureToken:!0}),J=yield vi._fromIdTokenResponse(w,"signIn",R);return yield w._updateCurrentUser(J.user),J}),Be.apply(this,arguments)}class Ft{constructor(m,w){this.factorId=m,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(m,w){return"phoneInfo"in w?Wn._fromServerResponse(m,w):"totpInfo"in w?cr._fromServerResponse(m,w):Me(m,"internal-error")}}class Wn extends Ft{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,w){return new Wn(w)}}class cr extends Ft{constructor(m){super("totp",m)}static _fromServerResponse(m,w){return new cr(w)}}function mr(N,m,w){var R;Ee((null===(R=w.url)||void 0===R?void 0:R.length)>0,N,"invalid-continue-uri"),Ee(typeof w.dynamicLinkDomain>"u"||w.dynamicLinkDomain.length>0,N,"invalid-dynamic-link-domain"),m.continueUrl=w.url,m.dynamicLinkDomain=w.dynamicLinkDomain,m.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(Ee(w.iOS.bundleId.length>0,N,"missing-ios-bundle-id"),m.iOSBundleId=w.iOS.bundleId),w.android&&(Ee(w.android.packageName.length>0,N,"missing-android-pkg-name"),m.androidInstallApp=w.android.installApp,m.androidMinimumVersionCode=w.android.minimumVersion,m.androidPackageName=w.android.packageName)}function Ni(N,m,w){return si.apply(this,arguments)}function si(){return si=(0,b.Z)(function*(N,m,w){var R;const J=Er(N),ue={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const Ke=yield Nr(J,ue,"getOobCode",!0);w&&mr(J,Ke,w),yield Fe(J,Ke)}else w&&mr(J,ue,w),yield Fe(J,ue).catch(function(){var Ke=(0,b.Z)(function*(yt){if("auth/missing-recaptcha-token"!==yt.code)return Promise.reject(yt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Xt=yield Nr(J,ue,"getOobCode",!0);w&&mr(J,Xt,w),yield Fe(J,Xt)}});return function(yt){return Ke.apply(this,arguments)}}())}),si.apply(this,arguments)}function zr(N,m,w){return xi.apply(this,arguments)}function xi(){return(xi=(0,b.Z)(function*(N,m,w){yield Ys((0,z.m9)(N),{oobCode:m,newPassword:w})})).apply(this,arguments)}function zi(N,m){return No.apply(this,arguments)}function No(){return No=(0,b.Z)(function*(N,m){yield function xs(N,m){return Xi.apply(this,arguments)}((0,z.m9)(N),{oobCode:m})}),No.apply(this,arguments)}function vs(N,m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,b.Z)(function*(N,m){const w=(0,z.m9)(N),R=yield Ys(w,{oobCode:m}),J=R.requestType;switch(Ee(J,w,"internal-error"),J){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(R.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(R.mfaInfo,w,"internal-error");default:Ee(R.email,w,"internal-error")}let ue=null;return R.mfaInfo&&(ue=Ft._fromServerResponse(Er(w),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:ue},operation:J}})).apply(this,arguments)}function Ir(N,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,b.Z)(function*(N,m){const{data:w}=yield vs((0,z.m9)(N),m);return w.email})).apply(this,arguments)}function bs(N,m,w){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,b.Z)(function*(N,m,w){var R;const J=Er(N),ue={returnSecureToken:!0,email:m,password:w,clientType:"CLIENT_TYPE_WEB"};let Ke;if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const yn=yield Nr(J,ue,"signUpPassword");Ke=ys(J,yn)}else Ke=ys(J,ue).catch(function(){var yn=(0,b.Z)(function*(zn){if("auth/missing-recaptcha-token"===zn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Mr=yield Nr(J,ue,"signUpPassword");return ys(J,Mr)}return Promise.reject(zn)});return function(zn){return yn.apply(this,arguments)}}());const yt=yield Ke.catch(yn=>Promise.reject(yn)),Xt=yield vi._fromIdTokenResponse(J,"signIn",yt);return yield J._updateCurrentUser(Xt.user),Xt}),Fs.apply(this,arguments)}function ws(N,m,w){return Gn((0,z.m9)(N),hi.credential(m,w))}function Mo(N,m,w){return va.apply(this,arguments)}function va(){return va=(0,b.Z)(function*(N,m,w){var R;const J=Er(N),ue={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function Ke(yt,Xt){Ee(Xt.handleCodeInApp,J,"argument-error"),Xt&&mr(J,yt,Xt)}if(null!==(R=J._getRecaptchaConfig())&&void 0!==R&&R.emailPasswordEnabled){const yt=yield Nr(J,ue,"getOobCode",!0);Ke(yt,w),yield Tt(J,yt)}else Ke(ue,w),yield Tt(J,ue).catch(function(){var yt=(0,b.Z)(function*(Xt){if("auth/missing-recaptcha-token"!==Xt.code)return Promise.reject(Xt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yn=yield Nr(J,ue,"getOobCode",!0);Ke(yn,w),yield Tt(J,yn)}});return function(Xt){return yt.apply(this,arguments)}}())}),va.apply(this,arguments)}function Gl(N,m){return"EMAIL_SIGNIN"===Gs.parseLink(m)?.operation}function El(N,m,w){return ns.apply(this,arguments)}function ns(){return(ns=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N),J=hi.credentialWithLink(m,w||Mt());return Ee(J._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),Gn(R,J)})).apply(this,arguments)}function Na(){return(Na=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:createAuthUri",bt(N,m))})).apply(this,arguments)}function al(N,m){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,b.Z)(function*(N,m){const R={identifier:m,continueUri:mn()?Mt():"http://localhost"},{signinMethods:J}=yield function Aa(N,m){return Na.apply(this,arguments)}((0,z.m9)(N),R);return J||[]}),Ma.apply(this,arguments)}function Oa(N,m){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,b.Z)(function*(N,m){const w=(0,z.m9)(N),J={requestType:"VERIFY_EMAIL",idToken:yield N.getIdToken()};m&&mr(w.auth,J,m);const{email:ue}=yield function Js(N,m){return je.apply(this,arguments)}(w.auth,J);ue!==N.email&&(yield N.reload())}),Ra.apply(this,arguments)}function xa(N,m,w){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield N.getIdToken(),newEmail:m};w&&mr(R.auth,ue,w);const{email:Ke}=yield function Vn(N,m){return qn.apply(this,arguments)}(R.auth,ue);Ke!==N.email&&(yield N.reload())}),Oo.apply(this,arguments)}function Il(){return(Il=(0,b.Z)(function*(N,m){return zt(N,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function jl(N,m){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,b.Z)(function*(N,{displayName:m,photoURL:w}){if(void 0===m&&void 0===w)return;const R=(0,z.m9)(N),ue={idToken:yield R.getIdToken(),displayName:m,photoUrl:w,returnSecureToken:!0},Ke=yield On(R,function Tl(N,m){return Il.apply(this,arguments)}(R.auth,ue));R.displayName=Ke.displayName||null,R.photoURL=Ke.photoUrl||null;const yt=R.providerData.find(({providerId:Xt})=>"password"===Xt);yt&&(yt.displayName=R.displayName,yt.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Ke)}),Cl.apply(this,arguments)}function ll(N,m){return Wo((0,z.m9)(N),m,null)}function Ti(N,m){return Wo((0,z.m9)(N),null,m)}function Wo(N,m,w){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,b.Z)(function*(N,m,w){const{auth:R}=N,ue={idToken:yield N.getIdToken(),returnSecureToken:!0};m&&(ue.email=m),w&&(ue.password=w);const Ke=yield On(N,Rr(R,ue));yield N._updateTokensIfNecessary(Ke,!0)})).apply(this,arguments)}class Qa{constructor(m,w,R={}){this.isNewUser=m,this.providerId=w,this.profile=R}}class wo extends Qa{constructor(m,w,R,J){super(m,w,R),this.username=J}}class au extends Qa{constructor(m,w){super(m,"facebook.com",w)}}class bi extends wo{constructor(m,w){super(m,"github.com",w,"string"==typeof w?.login?w?.login:null)}}class xu extends Qa{constructor(m,w){super(m,"google.com",w)}}class Ja extends wo{constructor(m,w,R){super(m,"twitter.com",w,R)}}function Do(N){const{user:m,_tokenResponse:w}=N;return m.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function ja(N){var m,w;if(!N)return null;const{providerId:R}=N,J=N.rawUserInfo?JSON.parse(N.rawUserInfo):{},ue=N.isNewUser||"identitytoolkit#SignupNewUserResponse"===N.kind;if(!R&&N?.idToken){const Ke=null===(w=null===(m=Mn(N.idToken))||void 0===m?void 0:m.firebase)||void 0===w?void 0:w.sign_in_provider;if(Ke)return new Qa(ue,"anonymous"!==Ke&&"custom"!==Ke?Ke:null)}if(!R)return null;switch(R){case"facebook.com":return new au(ue,J);case"github.com":return new bi(ue,J);case"google.com":return new xu(ue,J);case"twitter.com":return new Ja(ue,J,N.screenName||null);case"custom":case"anonymous":return new Qa(ue,null);default:return new Qa(ue,R,J)}}(w)}class Cr{constructor(m,w,R){this.type=m,this.credential=w,this.auth=R}static _fromIdtoken(m,w){return new Cr("enroll",m,w)}static _fromMfaPendingCredential(m){return new Cr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var w,R;if(m?.multiFactorSession){if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.pendingCredential)return Cr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(R=m.multiFactorSession)&&void 0!==R&&R.idToken)return Cr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class jr{constructor(m,w,R){this.session=m,this.hints=w,this.signInResolver=R}static _fromError(m,w){const R=Er(m),J=w.customData._serverResponse,ue=(J.mfaInfo||[]).map(yt=>Ft._fromServerResponse(R,yt));Ee(J.mfaPendingCredential,R,"internal-error");const Ke=Cr._fromMfaPendingCredential(J.mfaPendingCredential);return new jr(Ke,ue,function(){var yt=(0,b.Z)(function*(Xt){const yn=yield Xt._process(R,Ke);delete J.mfaInfo,delete J.mfaPendingCredential;const zn=Object.assign(Object.assign({},J),{idToken:yn.idToken,refreshToken:yn.refreshToken});switch(w.operationType){case"signIn":const Mr=yield vi._fromIdTokenResponse(R,w.operationType,zn);return yield R._updateCurrentUser(Mr.user),Mr;case"reauthenticate":return Ee(w.user,R,"internal-error"),vi._forOperation(w.user,w.operationType,zn);default:Me(R,"internal-error")}});return function(Xt){return yt.apply(this,arguments)}}())}resolveSignIn(m){var w=this;return(0,b.Z)(function*(){return w.signInResolver(m)})()}}function $n(N,m){var w;const R=(0,z.m9)(N),J=m;return Ee(m.customData.operationType,R,"argument-error"),Ee(null===(w=J.customData._serverResponse)||void 0===w?void 0:w.mfaPendingCredential,R,"argument-error"),jr._fromError(R,J)}class As{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(R=>Ft._fromServerResponse(m.auth,R)))})}static _fromUser(m){return new As(m)}getSession(){var m=this;return(0,b.Z)(function*(){return Cr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,w){var R=this;return(0,b.Z)(function*(){const J=m,ue=yield R.getSession(),Ke=yield On(R.user,J._process(R.user.auth,ue,w));return yield R.user._updateTokensIfNecessary(Ke),R.user.reload()})()}unenroll(m){var w=this;return(0,b.Z)(function*(){const R="string"==typeof m?m:m.uid,J=yield w.user.getIdToken();try{const ue=yield On(w.user,function xr(N,m){return zt(N,"POST","/v2/accounts/mfaEnrollment:withdraw",bt(N,m))}(w.user.auth,{idToken:J,mfaEnrollmentId:R}));w.enrolledFactors=w.enrolledFactors.filter(({uid:Ke})=>Ke!==R),yield w.user._updateTokensIfNecessary(ue),yield w.user.reload()}catch(ue){throw ue}})()}}const Ds=new WeakMap;function Ls(N){const m=(0,z.m9)(N);return Ds.has(m)||Ds.set(m,As._fromUser(m)),Ds.get(m)}const io="__sak";class Ko{constructor(m,w){this.storageRetriever=m,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(io,"1"),this.storage.removeItem(io),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,w){return this.storage.setItem(m,JSON.stringify(w)),Promise.resolve()}_get(m){const w=this.storage.getItem(m);return Promise.resolve(w?JSON.parse(w):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xa=(()=>{class N extends Ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(w,R)=>this.onStorageEvent(w,R),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Pu(){const N=(0,z.z$)();return oe(N)||Te(N)}()&&function Ar(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=an(),this._shouldAllowMigration=!0}forAllChangedKeys(w){for(const R of Object.keys(this.listeners)){const J=this.storage.getItem(R),ue=this.localCache[R];J!==ue&&w(R,ue,J)}}onStorageEvent(w,R=!1){if(!w.key)return void this.forAllChangedKeys((yt,Xt,yn)=>{this.notifyListeners(yt,yn)});const J=w.key;if(R?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(J);if(w.newValue!==yt)null!==w.newValue?this.storage.setItem(J,w.newValue):this.storage.removeItem(J);else if(this.localCache[J]===w.newValue&&!R)return}const ue=()=>{const yt=this.storage.getItem(J);!R&&this.localCache[J]===yt||this.notifyListeners(J,yt)},Ke=this.storage.getItem(J);!function on(){return(0,z.w1)()&&10===document.documentMode}()||Ke===w.newValue||w.newValue===w.oldValue?ue():setTimeout(ue,10)}notifyListeners(w,R){this.localCache[w]=R;const J=this.listeners[w];if(J)for(const ue of Array.from(J))ue(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,R,J)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:R,newValue:J}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(R)}_removeListener(w,R){this.listeners[w]&&(this.listeners[w].delete(R),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,R){var J=()=>super._set,ue=this;return(0,b.Z)(function*(){yield J().call(ue,w,R),ue.localCache[w]=JSON.stringify(R)})()}_get(w){var R=()=>super._get,J=this;return(0,b.Z)(function*(){const ue=yield R().call(J,w);return J.localCache[w]=JSON.stringify(ue),ue})()}_remove(w){var R=()=>super._remove,J=this;return(0,b.Z)(function*(){yield R().call(J,w),delete J.localCache[w]})()}}return N.type="LOCAL",N})(),so=(()=>{class N extends Ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(w,R){}_removeListener(w,R){}}return N.type="SESSION",N})();let $t=(()=>{class N{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const R=this.receivers.find(ue=>ue.isListeningto(w));if(R)return R;const J=new N(w);return this.receivers.push(J),J}isListeningto(w){return this.eventTarget===w}handleEvent(w){var R=this;return(0,b.Z)(function*(){const J=w,{eventId:ue,eventType:Ke,data:yt}=J.data,Xt=R.handlersMap[Ke];if(!Xt?.size)return;J.ports[0].postMessage({status:"ack",eventId:ue,eventType:Ke});const yn=Array.from(Xt).map(function(){var Mr=(0,b.Z)(function*(la){return la(J.origin,yt)});return function(la){return Mr.apply(this,arguments)}}()),zn=yield function _d(N){return Promise.all(N.map(function(){var m=(0,b.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(R){return{fulfilled:!1,reason:R}}});return function(w){return m.apply(this,arguments)}}()))}(yn);J.ports[0].postMessage({status:"done",eventId:ue,eventType:Ke,response:zn})})()}_subscribe(w,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(R)}_unsubscribe(w,R){this.handlersMap[w]&&R&&this.handlersMap[w].delete(R),(!R||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return N.receivers=[],N})();function fr(N="",m=10){let w="";for(let R=0;R<m;R++)w+=Math.floor(10*Math.random());return N+w}class sa{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,w,R=50){var J=this;return(0,b.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Ke,yt;return new Promise((Xt,yn)=>{const zn=fr("",20);ue.port1.start();const Mr=setTimeout(()=>{yn(new Error("unsupported_event"))},R);yt={messageChannel:ue,onMessage(la){const ua=la;if(ua.data.eventId===zn)switch(ua.data.status){case"ack":clearTimeout(Mr),Ke=setTimeout(()=>{yn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ke),Xt(ua.data.response);break;default:clearTimeout(Mr),clearTimeout(Ke),yn(new Error("invalid_response"))}}},J.handlers.add(yt),ue.port1.addEventListener("message",yt.onMessage),J.target.postMessage({eventType:m,eventId:zn,data:w},[ue.port2])}).finally(()=>{yt&&J.removeMessageHandler(yt)})})()}}function Xr(){return window}function Dn(){return typeof Xr().WorkerGlobalScope<"u"&&"function"==typeof Xr().importScripts}function dn(){return(dn=(0,b.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",ul=1,Wi="firebaseLocalStorage",lu="fbase_key";class Es{constructor(m){this.request=m}toPromise(){return new Promise((m,w)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function $l(N,m){return N.transaction([Wi],m?"readwrite":"readonly").objectStore(Wi)}function Fu(){const N=indexedDB.open(qr,ul);return new Promise((m,w)=>{N.addEventListener("error",()=>{w(N.error)}),N.addEventListener("upgradeneeded",()=>{const R=N.result;try{R.createObjectStore(Wi,{keyPath:lu})}catch(J){w(J)}}),N.addEventListener("success",(0,b.Z)(function*(){const R=N.result;R.objectStoreNames.contains(Wi)?m(R):(R.close(),yield function oa(){const N=indexedDB.deleteDatabase(qr);return new Es(N).toPromise()}(),m(yield Fu()))}))})}function uu(N,m,w){return xo.apply(this,arguments)}function xo(){return(xo=(0,b.Z)(function*(N,m,w){const R=$l(N,!0).put({[lu]:m,value:w});return new Es(R).toPromise()})).apply(this,arguments)}function cl(){return(cl=(0,b.Z)(function*(N,m){const w=$l(N,!1).get(m),R=yield new Es(w).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function dr(N,m){const w=$l(N,!0).delete(m);return new Es(w).toPromise()}const Rn=(()=>{class N{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,b.Z)(function*(){return w.db||(w.db=yield Fu()),w.db})()}_withRetries(w){var R=this;return(0,b.Z)(function*(){let J=0;for(;;)try{const ue=yield R._openDb();return yield w(ue)}catch(ue){if(J++>3)throw ue;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,b.Z)(function*(){return Dn()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,b.Z)(function*(){w.receiver=$t._getInstance(function Bt(){return Dn()?self:null}()),w.receiver._subscribe("keyChanged",function(){var R=(0,b.Z)(function*(J,ue){return{keyProcessed:(yield w._poll()).includes(ue.key)}});return function(J,ue){return R.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var R=(0,b.Z)(function*(J,ue){return["keyChanged"]});return function(J,ue){return R.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,b.Z)(function*(){var R,J;if(w.activeServiceWorker=yield function ku(){return dn.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new sa(w.activeServiceWorker);const ue=yield w.sender._send("ping",{},800);ue&&null!==(R=ue[0])&&void 0!==R&&R.fulfilled&&null!==(J=ue[0])&&void 0!==J&&J.value.includes("keyChanged")&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var R=this;return(0,b.Z)(function*(){if(R.sender&&R.activeServiceWorker&&function _t(){var N;return(null===(N=navigator?.serviceWorker)||void 0===N?void 0:N.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:w},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,b.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Fu();return yield uu(w,io,"1"),yield dr(w,io),!0}catch{}return!1})()}_withPendingWrite(w){var R=this;return(0,b.Z)(function*(){R.pendingWrites++;try{yield w()}finally{R.pendingWrites--}})()}_set(w,R){var J=this;return(0,b.Z)(function*(){return J._withPendingWrite((0,b.Z)(function*(){return yield J._withRetries(ue=>uu(ue,w,R)),J.localCache[w]=R,J.notifyServiceWorker(w)}))})()}_get(w){var R=this;return(0,b.Z)(function*(){const J=yield R._withRetries(ue=>function cu(N,m){return cl.apply(this,arguments)}(ue,w));return R.localCache[w]=J,J})()}_remove(w){var R=this;return(0,b.Z)(function*(){return R._withPendingWrite((0,b.Z)(function*(){return yield R._withRetries(J=>dr(J,w)),delete R.localCache[w],R.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,b.Z)(function*(){const R=yield w._withRetries(Ke=>{const yt=$l(Ke,!1).getAll();return new Es(yt).toPromise()});if(!R)return[];if(0!==w.pendingWrites)return[];const J=[],ue=new Set;for(const{fbase_key:Ke,value:yt}of R)ue.add(Ke),JSON.stringify(w.localCache[Ke])!==JSON.stringify(yt)&&(w.notifyListeners(Ke,yt),J.push(Ke));for(const Ke of Object.keys(w.localCache))w.localCache[Ke]&&!ue.has(Ke)&&(w.notifyListeners(Ke,null),J.push(Ke));return J})()}notifyListeners(w,R){this.localCache[w]=R;const J=this.listeners[w];if(J)for(const ue of Array.from(J))ue(R)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,b.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(R)}_removeListener(w,R){this.listeners[w]&&(this.listeners[w].delete(R),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return N.type="LOCAL",N})(),Al=1e12;class hl{constructor(m){this.auth=m,this.counter=Al,this._widgets=new Map}render(m,w){const R=this.counter;return this._widgets.set(R,new $a(m,this.auth.name,w||{})),this.counter++,R}reset(m){var w;const R=m||Al;null===(w=this._widgets.get(R))||void 0===w||w.delete(),this._widgets.delete(R)}getResponse(m){var w;return(null===(w=this._widgets.get(m||Al))||void 0===w?void 0:w.getResponse())||""}execute(m){var w=this;return(0,b.Z)(function*(){var R;return null===(R=w._widgets.get(m||Al))||void 0===R||R.execute(),""})()}}class $a{constructor(m,w,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const J="string"==typeof m?document.getElementById(m):m;Ee(J,"argument-error",{appName:w}),this.container=J,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Nl(N){const m=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<N;R++)m.push(w.charAt(Math.floor(Math.random()*w.length)));return m.join("")}(50);const{callback:m,"expired-callback":w}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const du=_i("rcb"),xc=new Ze(3e4,6e4);class el{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Xr().grecaptcha)||void 0===m||!m.render)}load(m,w=""){return Ee(function Pc(N){return N.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(N)}(w),m,"argument-error"),this.shouldResolveImmediately(w)&&bn(Xr().grecaptcha)?Promise.resolve(Xr().grecaptcha):new Promise((R,J)=>{const ue=Xr().setTimeout(()=>{J(Ae(m,"network-request-failed"))},xc.get());Xr()[du]=()=>{Xr().clearTimeout(ue),delete Xr()[du];const yt=Xr().grecaptcha;if(!yt||!bn(yt))return void J(Ae(m,"internal-error"));const Xt=yt.render;yt.render=(yn,zn)=>{const Mr=Xt(yn,zn);return this.counter++,Mr},this.hostLanguage=w,R(yt)},rr(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:du,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(ue),J(Ae(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var w;return!(null===(w=Xr().grecaptcha)||void 0===w||!w.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ns{load(m){return(0,b.Z)(function*(){return new hl(m)})()}clearedOneInstance(){}}const ls="recaptcha",fl={theme:"light",type:"image"};class ss{constructor(m,w=Object.assign({},fl),R){this.parameters=w,this.type=ls,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Er(R),this.isInvisible="invisible"===this.parameters.size,Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const J="string"==typeof m?document.getElementById(m):m;Ee(J,this.auth,"argument-error"),this.container=J,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ns:new el,this.validateStartingState()}verify(){var m=this;return(0,b.Z)(function*(){m.assertNotDestroyed();const w=yield m.render(),R=m.getAssertedRecaptcha();return R.getResponse(w)||new Promise(ue=>{const Ke=yt=>{yt&&(m.tokenChangeListeners.delete(Ke),ue(yt))};m.tokenChangeListeners.add(Ke),m.isInvisible&&R.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return w=>{if(this.tokenChangeListeners.forEach(R=>R(w)),"function"==typeof m)m(w);else if("string"==typeof m){const R=Xr()[m];"function"==typeof R&&R(w)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,b.Z)(function*(){if(yield m.init(),!m.widgetId){let w=m.container;if(!m.isInvisible){const R=document.createElement("div");w.appendChild(R),w=R}m.widgetId=m.getAssertedRecaptcha().render(w,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,b.Z)(function*(){Ee(mn()&&!Dn(),m.auth,"internal-error"),yield function Eo(){let N=null;return new Promise(m=>{"complete"!==document.readyState?(N=()=>m(),window.addEventListener("load",N)):m()}).catch(m=>{throw N&&window.removeEventListener("load",N),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const w=yield function ut(N){return it.apply(this,arguments)}(m.auth);Ee(w,m.auth,"internal-error"),m.parameters.sitekey=w})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $s{constructor(m,w){this.verificationId=m,this.onConfirmation=w}confirm(m){const w=ms._fromVerification(this.verificationId,m);return this.onConfirmation(w)}}function at(N,m,w){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,b.Z)(function*(N,m,w){const R=Er(N),J=yield H(R,m,(0,z.m9)(w));return new $s(J,ue=>Gn(R,ue))})).apply(this,arguments)}function A(N,m,w){return M.apply(this,arguments)}function M(){return(M=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N);yield _a(!1,R,"phone");const J=yield H(R.auth,m,(0,z.m9)(w));return new $s(J,ue=>E(R,ue))})).apply(this,arguments)}function T(N,m,w){return k.apply(this,arguments)}function k(){return(k=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N),J=yield H(R.auth,m,(0,z.m9)(w));return new $s(J,ue=>I(R,ue))})).apply(this,arguments)}function H(N,m,w){return X.apply(this,arguments)}function X(){return X=(0,b.Z)(function*(N,m,w){var R;const J=yield w.verify();try{let ue;if(Ee("string"==typeof J,N,"argument-error"),Ee(w.type===ls,N,"argument-error"),ue="string"==typeof m?{phoneNumber:m}:m,"session"in ue){const Ke=ue.session;if("phoneNumber"in ue)return Ee("enroll"===Ke.type,N,"internal-error"),(yield function fi(N,m){return zt(N,"POST","/v2/accounts/mfaEnrollment:start",bt(N,m))}(N,{idToken:Ke.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:J}})).phoneSessionInfo.sessionInfo;{Ee("signin"===Ke.type,N,"internal-error");const yt=(null===(R=ue.multiFactorHint)||void 0===R?void 0:R.uid)||ue.multiFactorUid;return Ee(yt,N,"missing-multi-factor-info"),(yield function dl(N,m){return zt(N,"POST","/v2/accounts/mfaSignIn:start",bt(N,m))}(N,{mfaPendingCredential:Ke.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:J}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ke}=yield function Go(N,m){return mo.apply(this,arguments)}(N,{phoneNumber:ue.phoneNumber,recaptchaToken:J});return Ke}}finally{w._reset()}}),X.apply(this,arguments)}function ae(N,m){return We.apply(this,arguments)}function We(){return(We=(0,b.Z)(function*(N,m){yield Hi((0,z.m9)(N),m)})).apply(this,arguments)}let xt=(()=>{class N{constructor(w){this.providerId=N.PROVIDER_ID,this.auth=Er(w)}verifyPhoneNumber(w,R){return H(this.auth,w,(0,z.m9)(R))}static credential(w,R){return ms._fromVerification(w,R)}static credentialFromResult(w){return N.credentialFromTaggedObject(w)}static credentialFromError(w){return N.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:R,temporaryProof:J}=w;return R&&J?ms._fromTokenResponse(R,J):null}}return N.PROVIDER_ID="phone",N.PHONE_SIGN_IN_METHOD="phone",N})();function un(N,m){return m?yr(m):(Ee(N._popupRedirectResolver,N,"argument-error"),N._popupRedirectResolver)}class nn extends Cs{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return go(m,this._buildIdpRequest())}_linkToIdToken(m,w){return go(m,this._buildIdpRequest(w))}_getReauthenticationResolver(m){return go(m,this._buildIdpRequest())}_buildIdpRequest(m){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(w.idToken=m),w}}function br(N){return ya(N.auth,new nn(N),N.bypassAuthState)}function Ki(N){const{auth:m,user:w}=N;return Ee(w,m,"internal-error"),Ho(w,new nn(N),N.bypassAuthState)}function Fa(N){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,b.Z)(function*(N){const{auth:m,user:w}=N;return Ee(w,m,"internal-error"),Hi(w,new nn(N),N.bypassAuthState)})).apply(this,arguments)}class To{constructor(m,w,R,J,ue=!1){this.auth=m,this.resolver=R,this.user=J,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var m=this;return new Promise(function(){var w=(0,b.Z)(function*(R,J){m.pendingPromise={resolve:R,reject:J};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(ue){m.reject(ue)}});return function(R,J){return w.apply(this,arguments)}}())}onAuthEvent(m){var w=this;return(0,b.Z)(function*(){const{urlResponse:R,sessionId:J,postBody:ue,tenantId:Ke,error:yt,type:Xt}=m;if(yt)return void w.reject(yt);const yn={auth:w.auth,requestUri:R,sessionId:J,tenantId:Ke||void 0,postBody:ue||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Xt)(yn))}catch(zn){w.reject(zn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return br;case"linkViaPopup":case"linkViaRedirect":return Fa;case"reauthViaPopup":case"reauthViaRedirect":return Ki;default:Me(this.auth,"internal-error")}}resolve(m){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qo=new Ze(2e3,1e4);function hs(N,m,w){return ao.apply(this,arguments)}function ao(){return(ao=(0,b.Z)(function*(N,m,w){const R=Er(N);At(N,m,ks);const J=un(R,w);return new kc(R,"signInViaPopup",m,J).executeNotNull()})).apply(this,arguments)}function Hl(N,m,w){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N);At(R.auth,m,ks);const J=un(R.auth,w);return new kc(R.auth,"reauthViaPopup",m,J,R).executeNotNull()})).apply(this,arguments)}function vd(N,m,w){return $r.apply(this,arguments)}function $r(){return($r=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N);At(R.auth,m,ks);const J=un(R.auth,w);return new kc(R.auth,"linkViaPopup",m,J,R).executeNotNull()})).apply(this,arguments)}let kc=(()=>{class N extends To{constructor(w,R,J,ue,Ke){super(w,R,ue,Ke),this.provider=J,this.authWindow=null,this.pollId=null,N.currentPopupAction&&N.currentPopupAction.cancel(),N.currentPopupAction=this}executeNotNull(){var w=this;return(0,b.Z)(function*(){const R=yield w.execute();return Ee(R,w.auth,"internal-error"),R})()}onExecution(){var w=this;return(0,b.Z)(function*(){Pt(1===w.filter.length,"Popup operations only handle one event");const R=fr();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],R),w.authWindow.associatedEvent=R,w.resolver._originValidation(w.auth).catch(J=>{w.reject(J)}),w.resolver._isIframeWebStorageSupported(w.auth,J=>{J||w.reject(Ae(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,N.currentPopupAction=null}pollUserCancellation(){const w=()=>{var R,J;this.pollId=null!==(J=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==J&&J.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(w,qo.get())};w()}}return N.currentPopupAction=null,N})();const oc="pendingRedirect",Ha=new Map;class Lu extends To{constructor(m,w,R=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,R),this.eventId=null}execute(){var m=()=>super.execute,w=this;return(0,b.Z)(function*(){let R=Ha.get(w.auth._key());if(!R){try{const ue=(yield function dh(N,m){return fu.apply(this,arguments)}(w.resolver,w.auth))?yield m().call(w):null;R=()=>Promise.resolve(ue)}catch(J){R=()=>Promise.reject(J)}Ha.set(w.auth._key(),R)}return w.bypassAuthState||Ha.set(w.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(m){var w=()=>super.onAuthEvent,R=this;return(0,b.Z)(function*(){if("signInViaRedirect"===m.type)return w().call(R,m);if("unknown"!==m.type){if(m.eventId){const J=yield R.auth._redirectUserForId(m.eventId);if(J)return R.user=J,w().call(R,m);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,b.Z)(function*(){})()}cleanUp(){}}function fu(){return(fu=(0,b.Z)(function*(N,m){const w=wd(m),R=hh(N);if(!(yield R._isAvailable()))return!1;const J="true"===(yield R._get(w));return yield R._remove(w),J})).apply(this,arguments)}function ac(N,m){return tl.apply(this,arguments)}function tl(){return(tl=(0,b.Z)(function*(N,m){return hh(N)._set(wd(m),"true")})).apply(this,arguments)}function zl(){Ha.clear()}function bd(N,m){Ha.set(N._key(),m)}function hh(N){return yr(N._redirectPersistence)}function wd(N){return Tr(oc,N.config.apiKey,N.name)}function Fc(N,m,w){return function Lc(N,m,w){return lc.apply(this,arguments)}(N,m,w)}function lc(){return(lc=(0,b.Z)(function*(N,m,w){const R=Er(N);At(N,m,ks),yield R._initializationPromise;const J=un(R,w);return yield ac(J,R),J._openRedirect(R,m,"signInViaRedirect")})).apply(this,arguments)}function Bc(N,m,w){return function Dd(N,m,w){return pu.apply(this,arguments)}(N,m,w)}function pu(){return(pu=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N);At(R.auth,m,ks),yield R.auth._initializationPromise;const J=un(R.auth,w);yield ac(J,R.auth);const ue=yield uo(R);return J._openRedirect(R.auth,m,"reauthViaRedirect",ue)})).apply(this,arguments)}function uc(N,m,w){return function lo(N,m,w){return cc.apply(this,arguments)}(N,m,w)}function cc(){return(cc=(0,b.Z)(function*(N,m,w){const R=(0,z.m9)(N);At(R.auth,m,ks),yield R.auth._initializationPromise;const J=un(R.auth,w);yield _a(!1,R,m.providerId),yield ac(J,R.auth);const ue=yield uo(R);return J._openRedirect(R.auth,m,"linkViaRedirect",ue)})).apply(this,arguments)}function Wl(N,m){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,b.Z)(function*(N,m){return yield Er(N)._initializationPromise,qi(N,m,!1)})).apply(this,arguments)}function qi(N,m){return gu.apply(this,arguments)}function gu(){return(gu=(0,b.Z)(function*(N,m,w=!1){const R=Er(N),J=un(R,m),Ke=yield new Lu(R,J,w).execute();return Ke&&!w&&(delete Ke.user._redirectEventId,yield R._persistUserIfCurrent(Ke.user),yield R._setRedirectUser(null,m)),Ke})).apply(this,arguments)}function uo(N){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,b.Z)(function*(N){const m=fr(`${N.uid}:::`);return N._redirectEventId=m,yield N.auth._setRedirectUser(N),yield N.auth._persistUserIfCurrent(N),m})).apply(this,arguments)}class pl{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let w=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(m,R)&&(w=!0,this.sendToConsumer(m,R),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Ed(N){switch(N.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uu(N);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=m,w=!0)),w}sendToConsumer(m,w){var R;if(m.error&&!Uu(m)){const J=(null===(R=m.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";w.onError(Ae(this.auth,J))}else w.onAuthEvent(m)}isEventForConsumer(m,w){const R=null===w.eventId||!!m.eventId&&m.eventId===w.eventId;return w.filter.includes(m.type)&&R}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hs(m))}saveEventToCache(m){this.cachedEventUids.add(Hs(m)),this.lastProcessedEventTime=Date.now()}}function Hs(N){return[N.type,N.eventId,N.sessionId,N.tenantId].filter(m=>m).join("-")}function Uu({type:N,error:m}){return"unknown"===N&&"auth/no-auth-event"===m?.code}function Ms(N){return fh.apply(this,arguments)}function fh(){return(fh=(0,b.Z)(function*(N,m={}){return zt(N,"GET","/v1/projects",m)})).apply(this,arguments)}const mu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zs=/^https?/;function Kl(){return(Kl=(0,b.Z)(function*(N){if(N.config.emulator)return;const{authorizedDomains:m}=yield Ms(N);for(const w of m)try{if(ml(w))return}catch{}Me(N,"unauthorized-domain")})).apply(this,arguments)}function ml(N){const m=Mt(),{protocol:w,hostname:R}=new URL(m);if(N.startsWith("chrome-extension://")){const Ke=new URL(N);return""===Ke.hostname&&""===R?"chrome-extension:"===w&&N.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===w&&Ke.hostname===R}if(!zs.test(w))return!1;if(mu.test(N))return R===N;const J=N.replace(/\./g,"\\.");return new RegExp("^(.+\\."+J+"|"+J+")$","i").test(R)}const _u=new Ze(3e4,6e4);function Td(){const N=Xr().___jsl;if(N?.H)for(const m of Object.keys(N.H))if(N.H[m].r=N.H[m].r||[],N.H[m].L=N.H[m].L||[],N.H[m].r=[...N.H[m].L],N.CP)for(let w=0;w<N.CP.length;w++)N.CP[w]=null}let ko=null;const ba=new Ze(5e3,15e3),nl="__/auth/iframe",Vu="emulator/auth/iframe",Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Id=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(N){const m=N.config;Ee(m.authDomain,N,"auth-domain-config-required");const w=m.emulator?ct(m,Vu):`https://${N.config.authDomain}/${nl}`,R={apiKey:m.apiKey,appName:N.name,v:W.SDK_VERSION},J=Id.get(N.config.apiHost);J&&(R.eid=J);const ue=N._getFrameworks();return ue.length&&(R.fw=ue.join(",")),`${w}?${(0,z.xO)(R).slice(1)}`}function O(){return O=(0,b.Z)(function*(N){const m=yield function Uc(N){return ko=ko||function Po(N){return new Promise((m,w)=>{var R,J,ue;function Ke(){Td(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Td(),w(Ae(N,"network-request-failed"))},timeout:_u.get()})}if(null!==(J=null===(R=Xr().gapi)||void 0===R?void 0:R.iframes)&&void 0!==J&&J.Iframe)m(gapi.iframes.getContext());else{if(null===(ue=Xr().gapi)||void 0===ue||!ue.load){const yt=_i("iframefcb");return Xr()[yt]=()=>{gapi.load?Ke():w(Ae(N,"network-request-failed"))},rr(`https://apis.google.com/js/api.js?onload=${yt}`).catch(Xt=>w(Xt))}Ke()}}).catch(m=>{throw ko=null,m})}(N),ko}(N),w=Xr().gapi;return Ee(w,N,"internal-error"),m.open({where:document.body,url:Gu(N),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},R=>new Promise(function(){var J=(0,b.Z)(function*(ue,Ke){yield R.restyle({setHideOnLeave:!1});const yt=Ae(N,"network-request-failed"),Xt=Xr().setTimeout(()=>{Ke(yt)},ba.get());function yn(){Xr().clearTimeout(Xt),ue(R)}R.ping(yn).then(yn,()=>{Ke(yt)})});return function(ue,Ke){return J.apply(this,arguments)}}()))}),O.apply(this,arguments)}const L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q=500,pe=600,Le="_blank",et="http://localhost";class lt{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fn="__/auth/handler",_r="emulator/auth/handler",wr=encodeURIComponent("fac");function Zo(N,m,w,R,J,ue){return ei.apply(this,arguments)}function ei(){return(ei=(0,b.Z)(function*(N,m,w,R,J,ue){Ee(N.config.authDomain,N,"auth-domain-config-required"),Ee(N.config.apiKey,N,"invalid-api-key");const Ke={apiKey:N.config.apiKey,appName:N.name,authType:w,redirectUrl:R,v:W.SDK_VERSION,eventId:J};if(m instanceof ks){m.setDefaultLanguage(N.languageCode),Ke.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(Ke.customParameters=JSON.stringify(m.getCustomParameters()));for(const[zn,Mr]of Object.entries(ue||{}))Ke[zn]=Mr}if(m instanceof Yi){const zn=m.getScopes().filter(Mr=>""!==Mr);zn.length>0&&(Ke.scopes=zn.join(","))}N.tenantId&&(Ke.tid=N.tenantId);const yt=Ke;for(const zn of Object.keys(yt))void 0===yt[zn]&&delete yt[zn];const Xt=yield N._getAppCheckToken(),yn=Xt?`#${wr}=${encodeURIComponent(Xt)}`:"";return`${function hc({config:N}){return N.emulator?ct(N,_r):`https://${N.authDomain}/${Fn}`}(N)}?${(0,z.xO)(yt).slice(1)}${yn}`})).apply(this,arguments)}const wi="webStorageSupport",aa=class Yo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=qi,this._overrideRedirectResult=bd}_openPopup(m,w,R,J){var ue=this;return(0,b.Z)(function*(){var Ke;Pt(null===(Ke=ue.eventManagers[m._key()])||void 0===Ke?void 0:Ke.manager,"_initialize() not called before _openPopup()");const yt=yield Zo(m,w,R,Mt(),J);return function jt(N,m,w,R=q,J=pe){const ue=Math.max((window.screen.availHeight-J)/2,0).toString(),Ke=Math.max((window.screen.availWidth-R)/2,0).toString();let yt="";const Xt=Object.assign(Object.assign({},L),{width:R.toString(),height:J.toString(),top:ue,left:Ke}),yn=(0,z.z$)().toLowerCase();w&&(yt=ee(yn)?Le:w),ne(yn)&&(m=m||et,Xt.scrollbars="yes");const zn=Object.entries(Xt).reduce((la,[ua,pc])=>`${la}${ua}=${pc},`,"");if(function Ct(N=(0,z.z$)()){var m;return Te(N)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(yn)&&"_self"!==yt)return function sn(N,m){const w=document.createElement("a");w.href=N,w.target=m;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(R)}(m||"",yt),new lt(null);const Mr=window.open(m||"",yt,zn);Ee(Mr,N,"popup-blocked");try{Mr.focus()}catch{}return new lt(Mr)}(m,yt,fr())})()}_openRedirect(m,w,R,J){var ue=this;return(0,b.Z)(function*(){return yield ue._originValidation(m),function gn(N){Xr().location.href=N}(yield Zo(m,w,R,Mt(),J)),new Promise(()=>{})})()}_initialize(m){const w=m._key();if(this.eventManagers[w]){const{manager:J,promise:ue}=this.eventManagers[w];return J?Promise.resolve(J):(Pt(ue,"If manager is not set, promise should be"),ue)}const R=this.initAndGetManager(m);return this.eventManagers[w]={promise:R},R.catch(()=>{delete this.eventManagers[w]}),R}initAndGetManager(m){var w=this;return(0,b.Z)(function*(){const R=yield function Cd(N){return O.apply(this,arguments)}(m),J=new pl(m);return R.register("authEvent",ue=>(Ee(ue?.authEvent,m,"invalid-auth-event"),{status:J.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[m._key()]={manager:J},w.iframes[m._key()]=R,J})()}_isIframeWebStorageSupported(m,w){this.iframes[m._key()].send(wi,{type:wi},J=>{var ue;const Ke=null===(ue=J?.[0])||void 0===ue?void 0:ue[wi];void 0!==Ke&&w(!!Ke),Me(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const w=m._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function gl(N){return Kl.apply(this,arguments)}(m)),this.originValidationPromises[w]}get _shouldInitProactively(){return an()||oe()||Te()}};class za{constructor(m){this.factorId=m}_process(m,w,R){switch(w.type){case"enroll":return this._finalizeEnroll(m,w.credential,R);case"signin":return this._finalizeSignIn(m,w.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class Wa extends za{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Wa(m)}_finalizeEnroll(m,w,R){return function Wr(N,m){return zt(N,"POST","/v2/accounts/mfaEnrollment:finalize",bt(N,m))}(m,{idToken:w,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,w){return function Pr(N,m){return zt(N,"POST","/v2/accounts/mfaSignIn:finalize",bt(N,m))}(m,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rp=(()=>{class N{constructor(){}static assertion(w){return Wa._fromCredential(w)}}return N.FACTOR_ID="phone",N})();var ql="@firebase/auth";class xl{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var w=this;return(0,b.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const w=this.auth.onIdTokenChanged(R=>{m(R?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,w),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const w=this.internalListeners.get(m);w&&(this.internalListeners.delete(m),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,z.Pz)("authIdTokenMaxAge"),function Sd(N){(0,W._registerComponent)(new Ie.wA("auth",(m,{options:w})=>{const R=m.getProvider("app").getImmediate(),J=m.getProvider("heartbeat"),ue=m.getProvider("app-check-internal"),{apiKey:Ke,authDomain:yt}=R.options;Ee(Ke&&!Ke.includes(":"),"invalid-api-key",{appName:R.name});const Xt={apiKey:Ke,authDomain:yt,clientPlatform:N,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(N)},yn=new yi(R,J,ue,Xt);return function Ei(N,m){const w=m?.persistence||[],R=(Array.isArray(w)?w:[w]).map(yr);m?.errorMap&&N._updateErrorMap(m.errorMap),N._initializeWithPersistence(R,m?.popupRedirectResolver)}(yn,w),yn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,w,R)=>{m.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new Ie.wA("auth-internal",m=>{const w=Er(m.getProvider("auth").getImmediate());return new xl(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(ql,"0.23.2",function _l(N){switch(N){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(N)),(0,W.registerVersion)(ql,"0.23.2","esm2017")}("Browser")},2090:(Wt,He,G)=>{G.d(He,{$s:()=>yr,BH:()=>Qe,G6:()=>ct,L:()=>$e,LL:()=>En,Pz:()=>Ae,Sg:()=>At,UG:()=>Ht,US:()=>Ie,ZB:()=>Ne,ZR:()=>zt,aH:()=>Me,b$:()=>mn,eu:()=>It,hl:()=>ot,jU:()=>Pt,m9:()=>Tr,ne:()=>On,pd:()=>Mn,r3:()=>ni,ru:()=>Mt,tV:()=>_e,uI:()=>Ee,vZ:()=>Ue,w1:()=>pi,xO:()=>Pn,xb:()=>ke,z$:()=>Dt,zI:()=>mt,zd:()=>Tn});const f=function(Se){const ye=[];let ne=0;for(let oe=0;oe<Se.length;oe++){let ee=Se.charCodeAt(oe);ee<128?ye[ne++]=ee:ee<2048?(ye[ne++]=ee>>6|192,ye[ne++]=63&ee|128):55296==(64512&ee)&&oe+1<Se.length&&56320==(64512&Se.charCodeAt(oe+1))?(ee=65536+((1023&ee)<<10)+(1023&Se.charCodeAt(++oe)),ye[ne++]=ee>>18|240,ye[ne++]=ee>>12&63|128,ye[ne++]=ee>>6&63|128,ye[ne++]=63&ee|128):(ye[ne++]=ee>>12|224,ye[ne++]=ee>>6&63|128,ye[ne++]=63&ee|128)}return ye},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Se,ye){if(!Array.isArray(Se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let ee=0;ee<Se.length;ee+=3){const Re=Se[ee],fe=ee+1<Se.length,ve=fe?Se[ee+1]:0,ce=ee+2<Se.length,Te=ce?Se[ee+2]:0;let on=(15&ve)<<2|Te>>6,an=63&Te;ce||(an=64,fe||(on=64)),oe.push(ne[Re>>2],ne[(3&Re)<<4|ve>>4],ne[on],ne[an])}return oe.join("")},encodeString(Se,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(Se):this.encodeByteArray(f(Se),ye)},decodeString(Se,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(Se):function(Se){const ye=[];let ne=0,oe=0;for(;ne<Se.length;){const ee=Se[ne++];if(ee<128)ye[oe++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Re=Se[ne++];ye[oe++]=String.fromCharCode((31&ee)<<6|63&Re)}else if(ee>239&&ee<365){const ce=((7&ee)<<18|(63&Se[ne++])<<12|(63&Se[ne++])<<6|63&Se[ne++])-65536;ye[oe++]=String.fromCharCode(55296+(ce>>10)),ye[oe++]=String.fromCharCode(56320+(1023&ce))}else{const Re=Se[ne++],fe=Se[ne++];ye[oe++]=String.fromCharCode((15&ee)<<12|(63&Re)<<6|63&fe)}}return ye.join("")}(this.decodeStringToByteArray(Se,ye))},decodeStringToByteArray(Se,ye){this.init_();const ne=ye?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let ee=0;ee<Se.length;){const Re=ne[Se.charAt(ee++)],ve=ee<Se.length?ne[Se.charAt(ee)]:0;++ee;const Te=ee<Se.length?ne[Se.charAt(ee)]:64;++ee;const Ct=ee<Se.length?ne[Se.charAt(ee)]:64;if(++ee,null==Re||null==ve||null==Te||null==Ct)throw new Pe;oe.push(Re<<2|ve>>4),64!==Te&&(oe.push(ve<<4&240|Te>>2),64!==Ct&&oe.push(Te<<6&192|Ct))}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Se=0;Se<this.ENCODED_VALS.length;Se++)this.byteToCharMap_[Se]=this.ENCODED_VALS.charAt(Se),this.charToByteMap_[this.byteToCharMap_[Se]]=Se,this.byteToCharMapWebSafe_[Se]=this.ENCODED_VALS_WEBSAFE.charAt(Se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Se]]=Se,Se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Se)]=Se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Se)]=Se)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(Se){return function(Se){const ye=f(Se);return Ie.encodeByteArray(ye,!0)}(Se).replace(/\./g,"")},_e=function(Se){try{return Ie.decodeString(Se,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function Ne(Se,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===Se&&(Se={});break;case Array:Se=[];break;default:return ye}for(const ne in ye)!ye.hasOwnProperty(ne)||!rt(ne)||(Se[ne]=Ne(Se[ne],ye[ne]));return Se}function rt(Se){return"__proto__"!==Se}const Ve=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Se=process.env.__FIREBASE_DEFAULTS__;return Se?JSON.parse(Se):void 0})()||(()=>{if(typeof document>"u")return;let Se;try{Se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ye=Se&&_e(Se[1]);return ye&&JSON.parse(ye)})()}catch(Se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Se}`)}},Me=()=>{var Se;return null===(Se=Ve())||void 0===Se?void 0:Se.config},Ae=Se=>{var ye;return null===(ye=Ve())||void 0===ye?void 0:ye[`_${Se}`]};class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,ne)=>{this.resolve=ye,this.reject=ne})}wrapCallback(ye){return(ne,oe)=>{ne?this.reject(ne):this.resolve(oe),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(ne):ye(ne,oe))}}}function At(Se,ye){if(Se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=ye||"demo-project",ee=Se.iat||0,Re=Se.sub||Se.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const fe=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:ee,exp:ee+3600,auth_time:ee,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},Se);return[$e(JSON.stringify({alg:"none",type:"JWT"})),$e(JSON.stringify(fe)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function Ht(){var Se;const ye=null===(Se=Ve())||void 0===Se?void 0:Se.forceEnvironment;if("node"===ye)return!0;if("browser"===ye)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function Mt(){const Se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Se&&void 0!==Se.id}function mn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pi(){const Se=Dt();return Se.indexOf("MSIE ")>=0||Se.indexOf("Trident/")>=0}function ct(){return!Ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ot(){try{return"object"==typeof indexedDB}catch{return!1}}function It(){return new Promise((Se,ye)=>{try{let ne=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(oe);ee.onsuccess=()=>{ee.result.close(),ne||self.indexedDB.deleteDatabase(oe),Se(!0)},ee.onupgradeneeded=()=>{ne=!1},ee.onerror=()=>{var Re;ye((null===(Re=ee.error)||void 0===Re?void 0:Re.message)||"")}}catch(ne){ye(ne)}})}function mt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zt extends Error{constructor(ye,ne,oe){super(ne),this.code=ye,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}}class En{constructor(ye,ne,oe){this.service=ye,this.serviceName=ne,this.errors=oe}create(ye,...ne){const oe=ne[0]||{},ee=`${this.service}/${ye}`,Re=this.errors[ye],fe=Re?function wt(Se,ye){return Se.replace(qt,(ne,oe)=>{const ee=ye[oe];return null!=ee?String(ee):`<${oe}?>`})}(Re,oe):"Error";return new zt(ee,`${this.serviceName}: ${fe} (${ee}).`,oe)}}const qt=/\{\$([^}]+)}/g;function ni(Se,ye){return Object.prototype.hasOwnProperty.call(Se,ye)}function ke(Se){for(const ye in Se)if(Object.prototype.hasOwnProperty.call(Se,ye))return!1;return!0}function Ue(Se,ye){if(Se===ye)return!0;const ne=Object.keys(Se),oe=Object.keys(ye);for(const ee of ne){if(!oe.includes(ee))return!1;const Re=Se[ee],fe=ye[ee];if(Ot(Re)&&Ot(fe)){if(!Ue(Re,fe))return!1}else if(Re!==fe)return!1}for(const ee of oe)if(!ne.includes(ee))return!1;return!0}function Ot(Se){return null!==Se&&"object"==typeof Se}function Pn(Se){const ye=[];for(const[ne,oe]of Object.entries(Se))Array.isArray(oe)?oe.forEach(ee=>{ye.push(encodeURIComponent(ne)+"="+encodeURIComponent(ee))}):ye.push(encodeURIComponent(ne)+"="+encodeURIComponent(oe));return ye.length?"&"+ye.join("&"):""}function Tn(Se){const ye={};return Se.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[ee,Re]=oe.split("=");ye[decodeURIComponent(ee)]=decodeURIComponent(Re)}}),ye}function Mn(Se){const ye=Se.indexOf("?");if(!ye)return"";const ne=Se.indexOf("#",ye);return Se.substring(ye,ne>0?ne:void 0)}function On(Se,ye){const ne=new rn(Se,ye);return ne.subscribe.bind(ne)}class rn{constructor(ye,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{ye(this)}).catch(oe=>{this.error(oe)})}next(ye){this.forEachObserver(ne=>{ne.next(ye)})}error(ye){this.forEachObserver(ne=>{ne.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,ne,oe){let ee;if(void 0===ye&&void 0===ne&&void 0===oe)throw new Error("Missing Observer.");ee=function or(Se,ye){if("object"!=typeof Se||null===Se)return!1;for(const ne of ye)if(ne in Se&&"function"==typeof Se[ne])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:ne,complete:oe},void 0===ee.next&&(ee.next=cn),void 0===ee.error&&(ee.error=cn),void 0===ee.complete&&(ee.complete=cn);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Re}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,ye)}sendOne(ye,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{ne(this.observers[ye])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cn(){}const Bn=1e3,Br=2,Sr=144e5,ui=.5;function yr(Se,ye=Bn,ne=Br){const oe=ye*Math.pow(ne,Se),ee=Math.round(ui*oe*(Math.random()-.5)*2);return Math.min(Sr,oe+ee)}function Tr(Se){return Se&&Se._delegate?Se._delegate:Se}},3352:(Wt,He,G)=>{G.d(He,{B:()=>W});var b=G(4650),z=G(3651);let W=(()=>{class f{constructor(Ie){this.authService=Ie}canActivate(){return!!this.authService.isUserLoggedIn()}}return f.\u0275fac=function(Ie){return new(Ie||f)(b.LFG(z.e))},f.\u0275prov=b.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9031:(Wt,He,G)=>{G.d(He,{f:()=>W});var b=G(4650),z=G(1779);let W=(()=>{class f{constructor(Ie){this.router=Ie}gotoHome(){this.router.navigate(["/user/signin"])}}return f.\u0275fac=function(Ie){return new(Ie||f)(b.Y36(z.F0))},f.\u0275cmp=b.Xpm({type:f,selectors:[["app-error-page"]],decls:8,vars:0,consts:[[1,"error-container"],[1,"error-title"],[1,"error-message"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRONuY28q6PhD93tAd7dtpKjSd18X3B6NCgEpGwvVMpxw&usqp=CAU&ec=48600112","alt","Error Image",1,"error-image"],[1,"error-link",3,"click"]],template:function(Ie,Pe){1&Ie&&(b.TgZ(0,"div",0)(1,"h1",1),b._uU(2,"Error"),b.qZA(),b.TgZ(3,"p",2),b._uU(4,"Oops! Something went wrong."),b.qZA(),b._UZ(5,"img",3),b.TgZ(6,"a",4),b.NdJ("click",function(){return Pe.gotoHome()}),b._uU(7,"Go back to homepage"),b.qZA()())},styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa;font-family:Arial,sans-serif}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.error-title[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#dc3545;margin-bottom:20px}.error-message[_ngcontent-%COMP%]{font-size:24px;text-align:center;margin-bottom:40px}.error-image[_ngcontent-%COMP%]{width:300px;height:auto;margin-bottom:40px}.error-link[_ngcontent-%COMP%]{font-size:20px;color:#007bff;text-decoration:none;transition:color .3s ease-in-out;cursor:pointer}.error-link[_ngcontent-%COMP%]:hover{color:#0056b3}"]}),f})()},2198:(Wt,He,G)=>{G.r(He),G.d(He,{UsersModule:()=>Je});var b=G(6895),z=G(4006),W=G(1779),f=G(4650),De=G(3651);let Ie=(()=>{class tt{constructor(Ve,me){this.formBuilder=Ve,this.services=me,this.loginForm=this.formBuilder.group({username:["",z.kI.required],password:["",z.kI.required]})}login(){if(this.loginForm.valid){const Ve=this.loginForm.get("username")?.value,me=this.loginForm.get("password")?.value;this.services.login(Ve,me)}}}return tt.\u0275fac=function(Ve){return new(Ve||tt)(f.Y36(z.qu),f.Y36(De.e))},tt.\u0275cmp=f.Xpm({type:tt,selectors:[["app-sign-in"]],decls:34,vars:2,consts:[[1,"vh-100",2,"background-color","#9A616D"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp","alt","login form",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center","mb-3","pb-1"],[1,"fas","fa-cubes","fa-2x","me-3",2,"color","#ff6219"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["formControlName","username","type","email","id","form2Example17","autocomplete","off",1,"form-control","form-control-lg"],["for","form2Example17",1,"form-label"],["formControlName","password","type","password","id","form2Example27","autocomplete","off",1,"form-control","form-control-lg"],["for","form2Example27",1,"form-label"],[1,"pt-1","mb-4"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],["routerLink","/user/forgot_password",1,"small","text-muted"],[1,"mb-5","pb-lg-2",2,"color","#393f81"],["routerLink","/user/signup",2,"color","#393f81"]],template:function(Ve,me){1&Ve&&(f.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),f._UZ(7,"img",7),f.qZA(),f.TgZ(8,"div",8)(9,"div",9)(10,"form",10),f.NdJ("ngSubmit",function(){return me.login()}),f.TgZ(11,"div",11),f._UZ(12,"i",12),f.TgZ(13,"span",13),f._uU(14,"Todo "),f.qZA()(),f.TgZ(15,"h5",14),f._uU(16,"Sign into your account"),f.qZA(),f.TgZ(17,"div",15),f._UZ(18,"input",16),f.TgZ(19,"label",17),f._uU(20,"Email address"),f.qZA()(),f.TgZ(21,"div",15),f._UZ(22,"input",18),f.TgZ(23,"label",19),f._uU(24,"Password"),f.qZA()(),f.TgZ(25,"div",20)(26,"button",21),f._uU(27,"Login"),f.qZA()(),f.TgZ(28,"a",22),f._uU(29,"Forgot password?"),f.qZA(),f.TgZ(30,"p",23),f._uU(31,"Don't have an account? "),f.TgZ(32,"a",24),f._uU(33,"Register here"),f.qZA()()()()()()()()()()()),2&Ve&&(f.xp6(10),f.Q6J("formGroup",me.loginForm),f.xp6(16),f.Q6J("disabled",me.loginForm.invalid))},dependencies:[z._Y,z.Fj,z.JJ,z.JL,z.sg,z.u,W.rH]}),tt})(),Pe=(()=>{class tt{constructor(Ve,me){this.formBuilder=Ve,this.services=me,this.signupForm=this.formBuilder.group({username:["",z.kI.compose([z.kI.required,z.kI.email])],password:["",z.kI.compose([z.kI.required,z.kI.minLength(6)])]})}signup(){if(this.signupForm.valid){console.log("wihshuj");const Ve=this.signupForm.get("username")?.value,me=this.signupForm.get("password")?.value;this.services.register(Ve,me)}}}return tt.\u0275fac=function(Ve){return new(Ve||tt)(f.Y36(z.qu),f.Y36(De.e))},tt.\u0275cmp=f.Xpm({type:tt,selectors:[["app-sign-up"]],decls:23,vars:2,consts:[[1,""],[1,"px-4","py-5","px-md-5","text-center","text-lg-start",2,"background-color","hsl(0, 0%, 96%)"],[1,"container"],[1,"row","gx-lg-5","align-items-center"],[1,"col-lg-6","mb-5","mb-lg-0"],[1,"card"],[1,"card-body","py-5","px-md-5"],[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["formControlName","username","type","email","id","email",1,"form-control"],["for","email",1,"form-label"],["formControlName","password","type","password","id","pass",1,"form-control"],["for","pass",1,"form-label"],["type","submit",1,"btn","btn-primary","btn-block","mb-4",3,"disabled"],[1,"text-center"],["routerLink","/user/signin"]],template:function(Ve,me){1&Ve&&(f.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"form",7),f.NdJ("ngSubmit",function(){return me.signup()}),f.TgZ(8,"div",8),f._UZ(9,"input",9),f.TgZ(10,"label",10),f._uU(11,"Email address"),f.qZA()(),f.TgZ(12,"div",8),f._UZ(13,"input",11),f.TgZ(14,"label",12),f._uU(15,"Password"),f.qZA()(),f.TgZ(16,"button",13),f._uU(17," Sign up "),f.qZA(),f.TgZ(18,"div",14)(19,"p"),f._uU(20,"or already have an account:"),f.qZA(),f.TgZ(21,"a",15),f._uU(22,"Login Now"),f.qZA()()()()()()()()()()),2&Ve&&(f.xp6(7),f.Q6J("formGroup",me.signupForm),f.xp6(9),f.Q6J("disabled",me.signupForm.invalid))},dependencies:[z._Y,z.Fj,z.JJ,z.JL,z.sg,z.u,W.rH]}),tt})(),de=(()=>{class tt{constructor(Ve,me){this.formBuilder=Ve,this.services=me,this.passwordResetForm=this.formBuilder.group({username:["",z.kI.required]})}emailSubmit(){if(this.passwordResetForm.valid){const Ve=this.passwordResetForm.get("username")?.value;this.services.forgotPassword(Ve),console.log(Ve)}}}return tt.\u0275fac=function(Ve){return new(Ve||tt)(f.Y36(z.qu),f.Y36(De.e))},tt.\u0275cmp=f.Xpm({type:tt,selectors:[["app-forgot-password"]],decls:16,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["formControlName","username","type","email","id","email","name","email","required","",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"back-btn"],["routerLink","/user/signin","type","button",1,"btn","btn-info"]],template:function(Ve,me){1&Ve&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),f._uU(4,"Forgot Password"),f.qZA(),f.TgZ(5,"div",3)(6,"form",4),f.NdJ("ngSubmit",function(){return me.emailSubmit()}),f.TgZ(7,"div",5)(8,"label",6),f._uU(9,"Email:"),f.qZA(),f._UZ(10,"input",7),f.qZA(),f.TgZ(11,"button",8),f._uU(12,"Submit"),f.qZA()()(),f.TgZ(13,"div",9)(14,"button",10),f._uU(15,"Back to Login"),f.qZA()()()()()),2&Ve&&(f.xp6(6),f.Q6J("formGroup",me.passwordResetForm))},dependencies:[z._Y,z.Fj,z.JJ,z.JL,z.Q7,z.sg,z.u,W.rH],styles:["h1[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.back-button[_ngcontent-%COMP%]{display:block;text-align:center;margin-top:20px}.back-btn[_ngcontent-%COMP%]{width:100%;margin:10px auto;text-align:center}"]}),tt})(),$e=(()=>{class tt{constructor(Ve){this.router=Ve}gotoHome(){this.router.navigate(["/user/signin"])}}return tt.\u0275fac=function(Ve){return new(Ve||tt)(f.Y36(W.F0))},tt.\u0275cmp=f.Xpm({type:tt,selectors:[["app-verify-email"]],decls:5,vars:0,consts:[[1,"verify"],[1,"para"],[1,"error-link",3,"click"]],template:function(Ve,me){1&Ve&&(f.TgZ(0,"div",0)(1,"p",1),f._uU(2,"An email has been sent to your registered mail. Please verify it and then try to login"),f.qZA(),f.TgZ(3,"a",2),f.NdJ("click",function(){return me.gotoHome()}),f._uU(4,"Goto SignIn"),f.qZA()())},styles:[".error-link[_ngcontent-%COMP%]{font-size:20px;color:#007bff;text-decoration:none;transition:color .3s ease-in-out;cursor:pointer}.error-link[_ngcontent-%COMP%]:hover{color:#0056b3}.verify[_ngcontent-%COMP%]{width:314px;margin:62px auto;padding:20px}.para[_ngcontent-%COMP%]{margin-bottom:41px}"]}),tt})();var _e=G(9031);let ge=(()=>{class tt{constructor(Ve,me){this.authService=Ve,this.router=me}canActivate(){return!this.authService.isUserLoggedIn()||(this.router.navigate(["/home"]),!1)}}return tt.\u0275fac=function(Ve){return new(Ve||tt)(f.LFG(De.e),f.LFG(W.F0))},tt.\u0275prov=f.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt})();const Ne=[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",canActivate:[ge],component:Ie},{path:"signup",canActivate:[ge],component:Pe},{path:"forgot_password",canActivate:[ge],component:de},{path:"verify_email",canActivate:[ge],component:$e},{path:"**",component:_e.f}];let rt=(()=>{class tt{}return tt.\u0275fac=function(Ve){return new(Ve||tt)},tt.\u0275mod=f.oAB({type:tt}),tt.\u0275inj=f.cJS({imports:[W.Bz.forChild(Ne),W.Bz]}),tt})();var st=G(3352);let Je=(()=>{class tt{}return tt.\u0275fac=function(Ve){return new(Ve||tt)},tt.\u0275mod=f.oAB({type:tt}),tt.\u0275inj=f.cJS({providers:[ge,st.B],imports:[b.ez,z.UX,rt]}),tt})()},3651:(Wt,He,G)=>{G.d(He,{e:()=>_e});var b=G(1389),Ie=(G(2090),G(6881),G(1877),G(4859),G(4650)),Pe=G(1205),de=G(1779),$e=G(7054);let _e=(()=>{class ge{constructor(rt,st,Je){this.fireauth=rt,this.router=st,this.service=Je}isUserLoggedIn(){return null!==localStorage.getItem("todo")}login(rt,st){this.service.showLoader(!0),this.fireauth.signInWithEmailAndPassword(rt,st).then(Je=>{1==Je.user?.emailVerified?(localStorage.setItem("todo",JSON.stringify(rt)),this.router.navigate(["/home"])):this.router.navigate(["/user/verify_email"]),this.service.showLoader(!1)},Je=>{alert("something went wrong"),this.router.navigate(["/user/signin"]),this.service.showLoader(!1)})}register(rt,st){this.service.showLoader(!0),this.fireauth.createUserWithEmailAndPassword(rt,st).then(Je=>{alert("registration succesfull"),this.sendEmailForVerification(Je.user),1==Je.user?.emailVerified?(localStorage.setItem("todo",JSON.stringify(rt)),this.router.navigate(["/home"]),this.service.showLoader(!1)):this.router.navigate(["/user/verify_email"]),this.service.showLoader(!1)},Je=>{alert(Je.message),this.router.navigate(["/user/signup"]),this.service.showLoader(!1)})}logOut(){this.service.showLoader(!0),this.fireauth.signOut().then(()=>{localStorage.removeItem("todo"),this.router.navigate(["/user/signin"]),this.service.showLoader(!1)},rt=>{alert(rt.message),this.service.showLoader(!1)})}forgotPassword(rt){this.fireauth.sendPasswordResetEmail(rt).then(()=>{this.router.navigate(["/user/verify_email"])},st=>{alert("something went wrong")})}sendEmailForVerification(rt){rt.sendEmailVerification().then(st=>{this.router.navigate(["/user/verify_email"])},st=>{alert("something went wrong")})}googleSignIn(){return this.fireauth.signInWithPopup(new b.V).then(rt=>{localStorage.setItem("todo",JSON.stringify(rt.user?.email)),this.router.navigate(["/home"])},rt=>{alert(rt.message)})}}return ge.\u0275fac=function(rt){return new(rt||ge)(Ie.LFG(Pe.zQ),Ie.LFG(de.F0),Ie.LFG($e.D))},ge.\u0275prov=Ie.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},7054:(Wt,He,G)=>{G.d(He,{D:()=>_v});var b=G(4650),z=G(4986),W=G(9751),f=G(8996),De=G(9646),Ie=G(4976),Pe=G(8675),de=G(4482),$e=G(5403);function _e(){return(0,de.e)((r,e)=>{let t,s=!1;r.subscribe((0,$e.x)(e,u=>{const g=t;t=u,s&&e.next([g,u]),s=!0}))})}var Ee,ge=G(4004),Ne=G(5026),rt=G(1884),st=G(9300),Je=G(2011),tt=G(6895),Ve=(G(9568),G(3942)),me=G(5861),ht=G(6881),Me=G(4859),Ae=G(1877),Qe=G(2090),At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dt={},Ht=Ht||{},Pt=At||self;function Mt(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function mn(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var pi="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function Ze(r,e,t){return r.call.apply(r.bind,arguments)}function ct(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),r.apply(e,u)}}return function(){return r.apply(e,arguments)}}function ot(r,e,t){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:ct).apply(null,arguments)}function It(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function mt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,u,g){for(var y=Array(arguments.length-2),x=2;x<arguments.length;x++)y[x-2]=arguments[x];return e.prototype[u].apply(s,y)}}function bt(){this.s=this.s,this.o=this.o}bt.prototype.s=!1,bt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tn(r){Object.prototype.hasOwnProperty.call(r,pi)&&r[pi]||(r[pi]=++gt)}(this)},bt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const En=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function wt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function qt(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Mt(s)){const u=r.length||0,g=s.length||0;r.length=u+g;for(let y=0;y<g;y++)r[u+y]=s[y]}else r.push(s)}}function hn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var Jn=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Pt.addEventListener("test",()=>{},e),Pt.removeEventListener("test",()=>{},e)}catch{}return r}();function gr(r){return/^[\s\xa0]*$/.test(r)}function Yr(){var r=Pt.navigator;return r&&(r=r.userAgent)?r:""}function Xn(r){return-1!=Yr().indexOf(r)}function er(r){return er[" "](r),r}er[" "]=function(){};var Pn,r,ni=Xn("Opera"),Ye=Xn("Trident")||Xn("MSIE"),ke=Xn("Edge"),Ge=ke||Ye,Ue=Xn("Gecko")&&!(-1!=Yr().toLowerCase().indexOf("webkit")&&!Xn("Edge"))&&!(Xn("Trident")||Xn("MSIE"))&&!Xn("Edge"),Ot=-1!=Yr().toLowerCase().indexOf("webkit")&&!Xn("Edge");function Qt(){var r=Pt.document;return r?r.documentMode:void 0}e:{var Tn="",Mn=(r=Yr(),Ue?/rv:([^\);]+)(\)|;)/.exec(r):ke?/Edge\/([\d\.]+)/.exec(r):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ot?/WebKit\/(\S+)/.exec(r):ni?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Mn&&(Tn=Mn?Mn[1]:""),Ye){var _n=Qt();if(null!=_n&&_n>parseFloat(Tn)){Pn=String(_n);break e}}Pn=Tn}var fn=Pt.document&&Ye&&(Qt()||parseInt(Pn,10))||void 0;function or(r,e){if(hn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ue){e:{try{er(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:cn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&or.$.h.call(this)}}mt(or,hn);var cn={2:"touch",3:"pen",4:"mouse"};or.prototype.h=function(){or.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),lr=0;function Hn(r,e,t,s,u){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=u,this.key=++lr,this.fa=this.ia=!1}function ri(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function kn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function nr(r){const e={};for(const t in r)e[t]=r[t];return e}const li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bn(r,e){let t,s;for(let u=1;u<arguments.length;u++){for(t in s=arguments[u],s)r[t]=s[t];for(let g=0;g<li.length;g++)t=li[g],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Br(r){this.src=r,this.g={},this.h=0}function Sr(r,e){var t=e.type;if(t in r.g){var g,s=r.g[t],u=En(s,e);(g=0<=u)&&Array.prototype.splice.call(s,u,1),g&&(ri(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function ui(r,e,t,s){for(var u=0;u<r.length;++u){var g=r[u];if(!g.fa&&g.listener==e&&g.capture==!!t&&g.la==s)return u}return-1}Br.prototype.add=function(r,e,t,s,u){var g=r.toString();(r=this.g[g])||(r=this.g[g]=[],this.h++);var y=ui(r,e,s,u);return-1<y?(e=r[y],t||(e.ia=!1)):((e=new Hn(e,this.src,g,!!s,u)).ia=t,r.push(e)),e};var yr="closure_lm_"+(1e6*Math.random()|0),ci={};function Ai(r,e,t,s,u){if(s&&s.once)return ye(r,e,t,s,u);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Ai(r,e[g],t,s,u);return null}return t=ce(t),r&&r[hr]?r.O(e,t,mn(s)?!!s.capture:!!s,u):Tr(r,e,t,!1,s,u)}function Tr(r,e,t,s,u,g){if(!e)throw Error("Invalid event type");var y=mn(u)?!!u.capture:!!u,x=fe(r);if(x||(r[yr]=x=new Br(r)),(t=x.add(e,t,s,y,g)).proxy)return t;if(s=function Se(){const e=Re;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Jn||(u=y),void 0===u&&(u=!1),r.addEventListener(e.toString(),s,u);else if(r.attachEvent)r.attachEvent(ee(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function ye(r,e,t,s,u){if(Array.isArray(e)){for(var g=0;g<e.length;g++)ye(r,e[g],t,s,u);return null}return t=ce(t),r&&r[hr]?r.P(e,t,mn(s)?!!s.capture:!!s,u):Tr(r,e,t,!0,s,u)}function ne(r,e,t,s,u){if(Array.isArray(e))for(var g=0;g<e.length;g++)ne(r,e[g],t,s,u);else s=mn(s)?!!s.capture:!!s,t=ce(t),r&&r[hr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=ui(g=r.g[e],t,s,u))&&(ri(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete r.g[e],r.h--))):r&&(r=fe(r))&&(e=r.g[e.toString()],r=-1,e&&(r=ui(e,t,s,u)),(t=-1<r?e[r]:null)&&oe(t))}function oe(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[hr])Sr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(ee(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=fe(e))?(Sr(t,r),0==t.h&&(t.src=null,e[yr]=null)):ri(r)}}}function ee(r){return r in ci?ci[r]:ci[r]="on"+r}function Re(r,e){if(r.fa)r=!0;else{e=new or(e,this);var t=r.listener,s=r.la||r.src;r.ia&&oe(r),r=t.call(s,e)}return r}function fe(r){return(r=r[yr])instanceof Br?r:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function ce(r){return"function"==typeof r?r:(r[ve]||(r[ve]=function(e){return r.handleEvent(e)}),r[ve])}function Te(){bt.call(this),this.i=new Br(this),this.S=this,this.J=null}function Xe(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new hn(e,r);else if(e instanceof hn)e.target=e.target||r;else{var u=e;Bn(e=new hn(s,r),u)}if(u=!0,t)for(var g=t.length-1;0<=g;g--){var y=e.g=t[g];u=Ct(y,s,!0,e)&&u}if(u=Ct(y=e.g=r,s,!0,e)&&u,u=Ct(y,s,!1,e)&&u,t)for(g=0;g<t.length;g++)u=Ct(y=e.g=t[g],s,!1,e)&&u}function Ct(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,g=0;g<e.length;++g){var y=e[g];if(y&&!y.fa&&y.capture==t){var x=y.listener,j=y.la||y.src;y.ia&&Sr(r.i,y),u=!1!==x.call(j,s)&&u}}return u&&!s.defaultPrevented}mt(Te,bt),Te.prototype[hr]=!0,Te.prototype.removeEventListener=function(r,e,t,s){ne(this,r,e,t,s)},Te.prototype.N=function(){if(Te.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)ri(t[s]);delete r.g[e],r.h--}}this.J=null},Te.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},Te.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var on=Pt.JSON.stringify;function Ar(){var r=wn;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ut=new class an{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new it,r=>r.reset());class it{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vt(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function pn(r){Pt.setTimeout(()=>{throw r},0)}let bn,jn=!1,wn=new class Dr{constructor(){this.h=this.g=null}add(e,t){const s=ut.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},vr=()=>{const r=Pt.Promise.resolve(void 0);bn=()=>{r.then(rr)}};var rr=()=>{for(var r;r=Ar();){try{r.h.call(r.g)}catch(t){pn(t)}var e=ut;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}jn=!1};function _i(r,e){Te.call(this),this.h=r||1,this.g=e||Pt,this.j=ot(this.qb,this),this.l=Date.now()}function Ri(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Co(r,e,t){if("function"==typeof r)t&&(r=ot(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ot(r.handleEvent,r)}return 2147483647<Number(e)?-1:Pt.setTimeout(r,e||0)}function ta(r){r.g=Co(()=>{r.g=null,r.i&&(r.i=!1,ta(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}mt(_i,Te),(Ee=_i.prototype).ga=!1,Ee.T=null,Ee.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xe(this,"tick"),this.ga&&(Ri(this),this.start()))}},Ee.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.N=function(){_i.$.N.call(this),Ri(this),delete this.g};class Zs extends bt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ta(this)}N(){super.N(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(r){bt.call(this),this.h=r,this.g={}}mt(Nr,bt);var Jt=[];function Zn(r,e,t,s){Array.isArray(t)||(t&&(Jt[0]=t.toString()),t=Jt);for(var u=0;u<t.length;u++){var g=Ai(e,t[u],s||r.handleEvent,!1,r.h||r);if(!g)break;r.g[g.key]=g}}function yi(r){kn(r.g,function(e,t){this.g.hasOwnProperty(t)&&oe(e)},r),r.g={}}function Er(){this.g=!0}function Ei(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Gi(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var g=u[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var y=1;y<u.length;y++)u[y]=""}}}return on(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Nr.prototype.N=function(){Nr.$.N.call(this),yi(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Er.prototype.Ea=function(){this.g=!1},Er.prototype.info=function(){};var us={},Un=null;function cs(){return Un=Un||new Te}function Cs(r){hn.call(this,us.Ta,r)}function Ys(r){const e=cs();Xe(e,new Cs(e))}function ji(r,e){hn.call(this,us.STAT_EVENT,r),this.stat=e}function Rr(r){const e=cs();Xe(e,new ji(e,r))}function po(r,e){hn.call(this,us.Ua,r),this.size=e}function xs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){r()},e)}us.Ta="serverreachability",mt(Cs,hn),us.STAT_EVENT="statevent",mt(ji,hn),us.Ua="timingevent",mt(po,hn);var Xi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qs={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ii(){}function Ss(){}ii.prototype.h=null;var nt,Js={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function je(){hn.call(this,"d")}function Fe(){hn.call(this,"c")}function Tt(){}function kt(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Nr(this),this.P=qn,this.V=new _i(r=Ge?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}mt(je,hn),mt(Fe,hn),mt(Tt,ii),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},nt=new Tt;var qn=45e3,ir={},Yn={};function es(r,e,t){r.L=1,r.v=ks(ds(e)),r.s=t,r.S=!0,Xs(r,null)}function Xs(r,e){r.G=Date.now(),ma(r),r.A=ds(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),vi(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Vn,r.g=jl(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Zs(ot(r.Pa,r,r.g),r.O)),Zn(r.U,r.g,"readystatechange",r.nb),e=r.I?nr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ys(),function Ji(r,e,t,s,u,g){r.info(function(){if(r.g)if(g)for(var y="",x=g.split("&"),j=0;j<x.length;j++){var Z=x[j].split("=");if(1<Z.length){var se=Z[0];Z=Z[1];var Ce=se.split("_");y=2<=Ce.length&&"type"==Ce[1]?y+(se+"=")+Z+"&":y+(se+"=redacted&")}}else y=null;else y=g;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Jr(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function go(r,e,t){let u,s=!0;for(;!r.J&&r.C<t.length;){if(u=Ps(r,t),u==Yn){4==e&&(r.o=4,Rr(14),s=!1),Ei(r.j,r.m,null,"[Incomplete Response]");break}if(u==ir){r.o=4,Rr(15),Ei(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ei(r.j,r.m,u,null),na(r,u)}Jr(r)&&u!=Yn&&u!=ir&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Rr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),al(e),e.M=!0,Rr(11))):(Ei(r.j,r.m,t,"[Invalid Chunked Response]"),Vs(r),mo(r))}function Ps(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Yn:(t=Number(e.substring(t,s)),isNaN(t)?ir:(s+=1)+t>e.length?Yn:(e=e.slice(s,s+t),r.C=s+t,e))}function ma(r){r.Y=Date.now()+r.P,gs(r,r.P)}function gs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=xs(ot(r.lb,r),e)}function Go(r){r.B&&(Pt.clearTimeout(r.B),r.B=null)}function mo(r){0==r.l.H||r.J||Ra(r.l,r)}function Vs(r){Go(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Ri(r.V),yi(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function na(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||$o(t.i,r)))if(!r.K&&$o(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Oa(t),Fs(t)}Na(t),Rr(18)}}else t.Fa=u[1],0<t.Fa-t.V&&37500>u[2]&&t.G&&0==t.A&&!t.v&&(t.v=xs(ot(t.ib,t),6e3));if(1>=ol(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Oo(t,11)}else if((r.K||t.g==r)&&Oa(t),!gr(e))for(u=t.Ja.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(t.V=Z[0],Z=Z[1],2==t.H)if("c"==Z[0]){t.K=Z[1],t.pa=Z[2];const se=Z[3];null!=se&&(t.ra=se,t.l.info("VER="+t.ra));const Ce=Z[4];null!=Ce&&(t.Ga=Ce,t.l.info("SVER="+t.Ga));const dt=Z[5];null!=dt&&"number"==typeof dt&&0<dt&&(t.L=s=1.5*dt,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Nt=r.g;if(Nt){const Zt=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var g=s.i;g.g||-1==Zt.indexOf("spdy")&&-1==Zt.indexOf("quic")&&-1==Zt.indexOf("h2")||(g.j=g.l,g.g=new Set,g.h&&(Hi(g,g.h),g.h=null))}if(s.F){const Cn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cn&&(s.Da=Cn,hi(s.I,s.F,Cn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var y=r;if((s=t).wa=Il(s,s.J?s.pa:null,s.Y),y.K){Ii(s.i,y);var x=y,j=s.L;j&&x.setTimeout(j),x.B&&(Go(x),ma(x)),s.g=y}else Aa(s);0<t.j.length&&Mo(t)}else"stop"!=Z[0]&&"close"!=Z[0]||Oo(t,7);else 3==t.H&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?Oo(t,7):bs(t):"noop"!=Z[0]&&t.h&&t.h.Aa(Z),t.A=0)}Ys()}catch{}}function Ia(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Mt(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Ua(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Mt(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ta(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Mt(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),u=s.length,g=0;g<u;g++)e.call(void 0,s[g],t&&t[g],r)}(Ee=kt.prototype).setTimeout=function(r){this.P=r},Ee.nb=function(r){r=r.target;const e=this.M;e&&3==xi(r)?e.l():this.Pa(r)},Ee.Pa=function(r){try{if(r==this.g)e:{const se=xi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||Ge||this.g&&(this.h.h||this.g.ja()||zi(this.g)))){this.J||4!=se||7==e||Ys(),Go(this);var t=this.g.da();this.ca=t;t:if(Jr(this)){var s=zi(this.g);r="";var u=s.length,g=4==xi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),mo(this);var y="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:g&&e==u-1});s.splice(0,u),this.h.g+=r,this.C=0,y=this.h.g}else y=this.g.ja();if(this.i=200==t,function di(r,e,t,s,u,g,y){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+g+" "+y})}(this.j,this.u,this.A,this.m,this.W,se,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var x,j=this.g;if((x=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gr(x)){var Z=x;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,Rr(12),Vs(this),mo(this);break e}Ei(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,na(this,t)}this.S?(go(this,se,y),Ge&&this.i&&3==se&&(Zn(this.U,this.V,"tick",this.mb),this.V.start())):(Ei(this.j,this.m,y,null),na(this,y)),4==se&&Vs(this),this.i&&!this.J&&(4==se?Ra(this.l,this):(this.i=!1,ma(this)))}else(function No(r){const e={};r=(r.g&&2<=xi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(gr(r[s]))continue;var t=Vt(r[s]);const u=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const g=e[u]||[];e[u]=g,g.push(t)}!function Si(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<y.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Vs(this),mo(this)}}}catch{}},Ee.mb=function(){if(this.g){var r=xi(this.g),e=this.g.ja();this.C<e.length&&(Go(this),go(this,r,e),this.i&&4!=r&&ma(this))}},Ee.cancel=function(){this.J=!0,Vs(this)},Ee.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ur(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ys(),Rr(17)),Vs(this),this.o=2,mo(this)):gs(this,this.Y-r)};var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ms(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof ms){this.h=r.h,Ca(this,r.j),this.s=r.s,this.g=r.g,Gs(this,r.m),this.l=r.l;var e=r.i,t=new vo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Va(this,t),this.o=r.o}else r&&(e=String(r).match(ra))?(this.h=!1,Ca(this,e[1]||"",!0),this.s=Yi(e[2]||""),this.g=Yi(e[3]||"",!0),Gs(this,e[4]),this.l=Yi(e[5]||"",!0),Va(this,e[6]||"",!0),this.o=Yi(e[7]||"")):(this.h=!1,this.i=new vo(null,this.h))}function ds(r){return new ms(r)}function Ca(r,e,t){r.j=t?Yi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Gs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Va(r,e,t){e instanceof vo?(r.i=e,function ia(r,e){e&&!r.j&&(Ao(r),r.i=null,r.g.forEach(function(t,s){var u=s.toLowerCase();s!=u&&(ys(this,s),vi(this,u,t))},r)),r.j=e}(r.i,r.h)):(t||(e=_s(e,yo)),r.i=new vo(e,r.h))}function hi(r,e,t){r.i.set(e,t)}function ks(r){return hi(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Yi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function _s(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,_o),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function _o(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ms.prototype.toString=function(){var r=[],e=this.j;e&&r.push(_s(e,Ya,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(_s(e,Ya,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(_s(t,"/"==t.charAt(0)?Ga:Sa,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",_s(t,So)),r.join("")};var Ya=/[#\/\?@]/g,Sa=/[#\?:]/g,Ga=/[#\?]/g,yo=/[#\?@]/g,So=/#/g;function vo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ao(r){r.g||(r.g=new Map,r.h=0,r.i&&function sl(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),u=null;if(0<=s){var g=r[t].substring(0,s);u=r[t].substring(s+1)}else g=r[t];e(g,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ys(r,e){Ao(r),e=ro(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function eo(r,e){return Ao(r),e=ro(r,e),r.g.has(e)}function vi(r,e,t){ys(r,e),0<t.length&&(r.i=null,r.g.set(ro(r,e),wt(t)),r.h+=t.length)}function ro(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function $i(r){this.l=r||jo,r=Pt.PerformanceNavigationTiming?0<(r=Pt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ka&&Pt.g.Ka()&&Pt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=vo.prototype).add=function(r,e){Ao(this),this.i=null,r=ro(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(r,e){Ao(this),this.g.forEach(function(t,s){t.forEach(function(u){r.call(e,u,s,this)},this)},this)},Ee.ta=function(){Ao(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const u=r[s];for(let g=0;g<u.length;g++)t.push(e[s])}return t},Ee.Z=function(r){Ao(this);let e=[];if("string"==typeof r)eo(this,r)&&(e=e.concat(this.g.get(ro(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ee.set=function(r,e){return Ao(this),this.i=null,eo(this,r=ro(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ee.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const g=encodeURIComponent(String(s)),y=this.Z(s);for(s=0;s<y.length;s++){var u=g;""!==y[s]&&(u+="="+encodeURIComponent(String(y[s]))),r.push(u)}}return this.i=r.join("&")};var jo=10;function Li(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ol(r){return r.h?1:r.g?r.g.size:0}function $o(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Hi(r,e){r.g?r.g.add(e):r.h=e}function Ii(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function _a(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return wt(r.i)}$i.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var bo=class{stringify(r){return Pt.JSON.stringify(r,void 0)}parse(r){return Pt.JSON.parse(r,void 0)}};function Ho(){this.g=new bo}function js(r,e,t){const s=t||"";try{Ia(r,function(u,g){let y=u;mn(u)&&(y=on(u)),e.push(s+g+"="+encodeURIComponent(y))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function zo(r,e,t,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function Gn(r){this.l=r.fc||null,this.j=r.ob||!1}function to(r,e){Te.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=E,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Gn,ii),Gn.prototype.g=function(){return new to(this.l,this.j)},Gn.prototype.i=function(r){return function(){return r}}({}),mt(to,Te);var E=0;function D(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function I(r){r.readyState=4,r.l=null,r.j=null,r.A=null,V(r)}function V(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ee=to.prototype).open=function(r,e){if(this.readyState!=E)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,V(this)},Ee.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,I(this)),this.readyState=E},Ee.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ee.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?I(this):V(this),3==this.readyState&&D(this)}},Ee.Za=function(r){this.g&&(this.response=this.responseText=r,I(this))},Ee.Ya=function(r){this.g&&(this.response=r,I(this))},Ee.ka=function(){this.g&&I(this)},Ee.setRequestHeader=function(r,e){this.v.append(r,e)},Ee.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(to.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var le=Pt.JSON.parse;function Oe(r){Te.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rt,this.L=this.M=!1}mt(Oe,Te);var Rt="",Be=/^https?$/i,Ft=["POST","PUT"];function cr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,mr(r),si(r)}function mr(r){r.F||(r.F=!0,Xe(r,"complete"),Xe(r,"error"))}function Ni(r){if(r.h&&typeof Ht<"u"&&(!r.C[1]||4!=xi(r)||2!=r.da()))if(r.v&&4==xi(r))Co(r.La,0,r);else if(Xe(r,"readystatechange"),4==xi(r)){r.h=!1;try{const y=r.da();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===y){var u=String(r.I).match(ra)[1]||null;!u&&Pt.self&&Pt.self.location&&(u=Pt.self.location.protocol.slice(0,-1)),s=!Be.test(u?u.toLowerCase():"")}t=s}if(t)Xe(r,"complete"),Xe(r,"success");else{r.m=6;try{var g=2<xi(r)?r.g.statusText:""}catch{g=""}r.j=g+" ["+r.da()+"]",mr(r)}}finally{si(r)}}}function si(r,e){if(r.g){zr(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Xe(r,"ready");try{t.onreadystatechange=s}catch{}}}function zr(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Pt.clearTimeout(r.A),r.A=null)}function xi(r){return r.g?r.g.readyState:0}function zi(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Rt:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(r){let e="";return kn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Bi(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=vs(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):hi(r,e,t))}function Ir(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ts(r){this.Ga=0,this.j=[],this.l=new Er,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ir("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ir("baseRetryDelayMs",5e3,r),this.hb=Ir("retryDelaySeedMs",1e4,r),this.eb=Ir("forwardChannelMaxRetries",2,r),this.xa=Ir("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new $i(r&&r.concurrentRequestLimit),this.Ja=new Ho,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bs(r){if(ws(r),3==r.H){var e=r.W++,t=ds(r.I);if(hi(t,"SID",r.K),hi(t,"RID",e),hi(t,"TYPE","terminate"),El(r,t),(e=new kt(r,r.l,e)).L=2,e.v=ks(ds(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon)try{t=Pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=jl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ma(e)}Tl(r)}function Fs(r){r.g&&(al(r),r.g.cancel(),r.g=null)}function ws(r){Fs(r),r.u&&(Pt.clearTimeout(r.u),r.u=null),Oa(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Pt.clearTimeout(r.m),r.m=null)}function Mo(r){if(!Li(r.i)&&!r.m){r.m=!0;var e=r.Na;bn||vr(),jn||(bn(),jn=!0),wn.add(e,r),r.C=0}}function Gl(r,e){var t;t=e?e.m:r.W++;const s=ds(r.I);hi(s,"SID",r.K),hi(s,"RID",t),hi(s,"AID",r.V),El(r,s),r.o&&r.s&&Bi(s,r.o,r.s),t=new kt(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ns(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Hi(r.i,t),es(t,s,e)}function El(r,e){r.na&&kn(r.na,function(t,s){hi(e,s,t)}),r.h&&Ia({},function(t,s){hi(e,s,t)})}function ns(r,e,t){t=Math.min(r.j.length,t);var s=r.h?ot(r.h.Va,r.h,r):null;e:{var u=r.j;let g=-1;for(;;){const y=["count="+t];-1==g?0<t?(g=u[0].g,y.push("ofs="+g)):g=0:y.push("ofs="+g);let x=!0;for(let j=0;j<t;j++){let Z=u[j].g;const se=u[j].map;if(Z-=g,0>Z)g=Math.max(0,u[j].g-100),x=!1;else try{js(se,y,"req"+Z+"_")}catch{s&&s(se)}}if(x){s=y.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Aa(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;bn||vr(),jn||(bn(),jn=!0),wn.add(e,r),r.A=0}}function Na(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=xs(ot(r.Ma,r),xa(r,r.A)),r.A++,0))}function al(r){null!=r.B&&(Pt.clearTimeout(r.B),r.B=null)}function Ma(r){r.g=new kt(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ds(r.wa);hi(e,"RID","rpc"),hi(e,"SID",r.K),hi(e,"AID",r.V),hi(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&hi(e,"TO",r.qa),hi(e,"TYPE","xmlhttp"),El(r,e),r.o&&r.s&&Bi(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ks(ds(e)),t.s=null,t.S=!0,Xs(t,r)}function Oa(r){null!=r.v&&(Pt.clearTimeout(r.v),r.v=null)}function Ra(r,e){var t=null;if(r.g==e){Oa(r),al(r),r.g=null;var s=2}else{if(!$o(r.i,e))return;t=e.F,Ii(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var u=r.C;Xe(s=cs(),new po(s,t)),Mo(r)}else Aa(r);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function va(r,e){return!(ol(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=xs(ot(r.Na,r,e),xa(r,r.C)),r.C++,0)))}(r,e)||2==s&&Na(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),u){case 1:Oo(r,5);break;case 4:Oo(r,10);break;case 3:Oo(r,6);break;default:Oo(r,2)}}function xa(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Oo(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=ot(r.pb,r);t||(t=new ms("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||Ca(t,"https"),ks(t)),function ya(r,e){const t=new Er;if(Pt.Image){const s=new Image;s.onload=It(zo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=It(zo,t,s,"TestLoadImage: error",!1,e),s.onabort=It(zo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=It(zo,t,s,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Rr(2);r.H=0,r.h&&r.h.za(e),Tl(r),ws(r)}function Tl(r){if(r.H=0,r.ma=[],r.h){const e=_a(r.i);(0!=e.length||0!=r.j.length)&&(qt(r.ma,e),qt(r.ma,r.j),r.i.i.length=0,wt(r.j),r.j.length=0),r.h.ya()}}function Il(r,e,t){var s=t instanceof ms?ds(t):new ms(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Gs(s,s.m);else{var u=Pt.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var g=new ms(null);s&&Ca(g,s),e&&(g.g=e),u&&Gs(g,u),t&&(g.l=t),s=g}return e=r.Da,(t=r.F)&&e&&hi(s,t,e),hi(s,"VER",r.ra),El(r,s),s}function jl(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oe(t&&r.Ha&&!r.va?new Gn({ob:!0}):r.va)).Oa(r.J),e}function Cl(){}function ll(){if(Ye&&!(10<=Number(fn)))throw Error("Environmental error: no available transport.")}function Ti(r,e){Te.call(this),this.g=new ts(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!gr(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gr(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ja(this)}function Wo(r){je.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Ui(){Fe.call(this),this.status=1}function ja(r){this.g=r}function wo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function au(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(u=0;16>u;++u)s[u]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var g=r.g[3],y=(e=r.g[0])+(g^(t=r.g[1])&((u=r.g[2])^g))+s[0]+3614090360&4294967295;y=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=(t=(u=(g=(e=t+(y<<7&4294967295|y>>>25))+((y=g+(u^e&(t^u))+s[1]+3905402710&4294967295)<<12&4294967295|y>>>20))+((y=u+(t^g&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^u&(g^e))+s[3]+3250441966&4294967295)<<22&4294967295|y>>>10))+((y=e+(g^t&(u^g))+s[4]+4118548399&4294967295)<<7&4294967295|y>>>25))+((y=g+(u^e&(t^u))+s[5]+1200080426&4294967295)<<12&4294967295|y>>>20))+((y=u+(t^g&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^u&(g^e))+s[7]+4249261313&4294967295)<<22&4294967295|y>>>10))+((y=e+(g^t&(u^g))+s[8]+1770035416&4294967295)<<7&4294967295|y>>>25))+((y=g+(u^e&(t^u))+s[9]+2336552879&4294967295)<<12&4294967295|y>>>20))+((y=u+(t^g&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^u&(g^e))+s[11]+2304563134&4294967295)<<22&4294967295|y>>>10))+((y=e+(g^t&(u^g))+s[12]+1804603682&4294967295)<<7&4294967295|y>>>25))+((y=g+(u^e&(t^u))+s[13]+4254626195&4294967295)<<12&4294967295|y>>>20))+((y=u+(t^g&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|y>>>15))+((y=t+(e^u&(g^e))+s[15]+1236535329&4294967295)<<22&4294967295|y>>>10))+((y=e+(u^g&(t^u))+s[1]+4129170786&4294967295)<<5&4294967295|y>>>27))+((y=g+(t^u&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^t&(g^e))+s[11]+643717713&4294967295)<<14&4294967295|y>>>18))+((y=t+(g^e&(u^g))+s[0]+3921069994&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^g&(t^u))+s[5]+3593408605&4294967295)<<5&4294967295|y>>>27))+((y=g+(t^u&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^t&(g^e))+s[15]+3634488961&4294967295)<<14&4294967295|y>>>18))+((y=t+(g^e&(u^g))+s[4]+3889429448&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^g&(t^u))+s[9]+568446438&4294967295)<<5&4294967295|y>>>27))+((y=g+(t^u&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^t&(g^e))+s[3]+4107603335&4294967295)<<14&4294967295|y>>>18))+((y=t+(g^e&(u^g))+s[8]+1163531501&4294967295)<<20&4294967295|y>>>12))+((y=e+(u^g&(t^u))+s[13]+2850285829&4294967295)<<5&4294967295|y>>>27))+((y=g+(t^u&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|y>>>23))+((y=u+(e^t&(g^e))+s[7]+1735328473&4294967295)<<14&4294967295|y>>>18))+((y=t+(g^e&(u^g))+s[12]+2368359562&4294967295)<<20&4294967295|y>>>12))+((y=e+(t^u^g)+s[5]+4294588738&4294967295)<<4&4294967295|y>>>28))+((y=g+(e^t^u)+s[8]+2272392833&4294967295)<<11&4294967295|y>>>21))+((y=u+(g^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|y>>>16))+((y=t+(u^g^e)+s[14]+4259657740&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^u^g)+s[1]+2763975236&4294967295)<<4&4294967295|y>>>28))+((y=g+(e^t^u)+s[4]+1272893353&4294967295)<<11&4294967295|y>>>21))+((y=u+(g^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|y>>>16))+((y=t+(u^g^e)+s[10]+3200236656&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^u^g)+s[13]+681279174&4294967295)<<4&4294967295|y>>>28))+((y=g+(e^t^u)+s[0]+3936430074&4294967295)<<11&4294967295|y>>>21))+((y=u+(g^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|y>>>16))+((y=t+(u^g^e)+s[6]+76029189&4294967295)<<23&4294967295|y>>>9))+((y=e+(t^u^g)+s[9]+3654602809&4294967295)<<4&4294967295|y>>>28))+((y=g+(e^t^u)+s[12]+3873151461&4294967295)<<11&4294967295|y>>>21))+((y=u+(g^e^t)+s[15]+530742520&4294967295)<<16&4294967295|y>>>16))+((y=t+(u^g^e)+s[2]+3299628645&4294967295)<<23&4294967295|y>>>9))+((y=e+(u^(t|~g))+s[0]+4096336452&4294967295)<<6&4294967295|y>>>26))+((y=g+(t^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(g|~t))+s[14]+2878612391&4294967295)<<15&4294967295|y>>>17))+((y=t+(g^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(t|~g))+s[12]+1700485571&4294967295)<<6&4294967295|y>>>26))+((y=g+(t^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(g|~t))+s[10]+4293915773&4294967295)<<15&4294967295|y>>>17))+((y=t+(g^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|y>>>11))+((y=e+(u^(t|~g))+s[8]+1873313359&4294967295)<<6&4294967295|y>>>26))+((y=g+(t^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|y>>>22))+((y=u+(e^(g|~t))+s[6]+2734768916&4294967295)<<15&4294967295|y>>>17))+((y=t+(g^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|y>>>11))+((g=(e=t+((y=e+(u^(t|~g))+s[4]+4149444226&4294967295)<<6&4294967295|y>>>26))+((y=g+(t^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|y>>>22))^((u=g+((y=u+(e^(g|~t))+s[2]+718787259&4294967295)<<15&4294967295|y>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(u+(y<<21&4294967295|y>>>11))&4294967295,r.g[2]=r.g[2]+u&4294967295,r.g[3]=r.g[3]+g&4294967295}function bi(r,e){this.h=e;for(var t=[],s=!0,u=r.length-1;0<=u;u--){var g=0|r[u];s&&g==e||(t[u]=g,s=!1)}this.g=t}(Ee=Oe.prototype).Oa=function(r){this.M=r},Ee.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nt.g(),this.C=function Qr(r){return r.h||(r.h=r.i())}(this.u?this.u:nt),this.g.onreadystatechange=ot(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(g){return void cr(this,g)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)t.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const g of s.keys())t.set(g,s.get(g))}s=Array.from(t.keys()).find(g=>"content-type"==g.toLowerCase()),u=Pt.FormData&&r instanceof Pt.FormData,!(0<=En(Ft,e))||s||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[g,y]of t)this.g.setRequestHeader(g,y);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zr(this),0<this.B&&((this.L=function Wn(r){return Ye&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.ua,this)):this.A=Co(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(g){cr(this,g)}},Ee.ua=function(){typeof Ht<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xe(this,"timeout"),this.abort(8))},Ee.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Xe(this,"complete"),Xe(this,"abort"),si(this))},Ee.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),si(this,!0)),Oe.$.N.call(this)},Ee.La=function(){this.s||(this.G||this.v||this.l?Ni(this):this.kb())},Ee.kb=function(){Ni(this)},Ee.isActive=function(){return!!this.g},Ee.da=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},Ee.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),le(e)}},Ee.Ia=function(){return this.m},Ee.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=ts.prototype).ra=8,Ee.H=1,Ee.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const u=new kt(this,this.l,r);let g=this.s;if(this.U&&(g?(g=nr(g),Bn(g,this.U)):g=this.U),null!==this.o||this.O||(u.I=g,g=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ns(this,u,e),hi(t=ds(this.I),"RID",r),hi(t,"CVER",22),this.F&&hi(t,"X-HTTP-Session-Id",this.F),El(this,t),g&&(this.O?e="headers="+encodeURIComponent(String(vs(g)))+"&"+e:this.o&&Bi(t,this.o,g)),Hi(this.i,u),this.bb&&hi(t,"TYPE","init"),this.P?(hi(t,"$req",e),hi(t,"SID","null"),u.aa=!0,es(u,t,null)):es(u,t,e),this.H=2}}else 3==this.H&&(r?Gl(this,r):0==this.j.length||Li(this.i)||Gl(this))},Ee.Ma=function(){if(this.u=null,Ma(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=xs(ot(this.jb,this),r)}},Ee.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),Fs(this),Ma(this))},Ee.ib=function(){null!=this.v&&(this.v=null,Fs(this),Na(this),Rr(19))},Ee.pb=function(r){r?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},Ee.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ee=Cl.prototype).Ba=function(){},Ee.Aa=function(){},Ee.za=function(){},Ee.ya=function(){},Ee.isActive=function(){return!0},Ee.Va=function(){},ll.prototype.g=function(r,e){return new Ti(r,e)},mt(Ti,Te),Ti.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;Rr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Il(r,null,r.Y),Mo(r)},Ti.prototype.close=function(){bs(this.g)},Ti.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=on(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&Mo(e)},Ti.prototype.N=function(){this.g.h=null,delete this.j,bs(this.g),delete this.g,Ti.$.N.call(this)},mt(Wo,je),mt(Ui,Fe),mt(ja,Cl),ja.prototype.Ba=function(){Xe(this.g,"a")},ja.prototype.Aa=function(r){Xe(this.g,new Wo(r))},ja.prototype.za=function(r){Xe(this.g,new Ui)},ja.prototype.ya=function(){Xe(this.g,"b")},mt(wo,function Qa(){this.blockSize=-1}),wo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},wo.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,u=this.h,g=0;g<e;){if(0==u)for(;g<=t;)au(this,r,g),g+=this.blockSize;if("string"==typeof r){for(;g<e;)if(s[u++]=r.charCodeAt(g++),u==this.blockSize){au(this,s),u=0;break}}else for(;g<e;)if(s[u++]=r[g++],u==this.blockSize){au(this,s),u=0;break}}this.h=u,this.i+=e},wo.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var xu={};function Ja(r){return-128<=r&&128>r?function ar(r,e){var t=xu;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new bi([0|e],0>e?-1:0)}):new bi([0|r],0>r?-1:0)}function Do(r){if(isNaN(r)||!isFinite(r))return K;if(0>r)return Et(Do(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=F;return new bi(e,0)}var F=4294967296,K=Ja(0),U=Ja(1),te=Ja(16777216);function we(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ft(r){return-1==r.h}function Et(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new bi(t,~r.h).add(U)}function Sn(r,e){return r.add(Et(e))}function gi(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Cr(r,e){this.g=r,this.h=e}function jr(r,e){if(we(e))throw Error("division by zero");if(we(r))return new Cr(K,K);if(ft(r))return e=jr(Et(r),e),new Cr(Et(e.g),Et(e.h));if(ft(e))return e=jr(r,Et(e)),new Cr(Et(e.g),e.h);if(30<r.g.length){if(ft(r)||ft(e))throw Error("slowDivide_ only works with positive integers.");for(var t=U,s=e;0>=s.X(r);)t=$n(t),s=$n(s);var u=fi(t,1),g=fi(s,1);for(s=fi(s,2),t=fi(t,2);!we(s);){var y=g.add(s);0>=y.X(r)&&(u=u.add(t),g=y),s=fi(s,1),t=fi(t,1)}return e=Sn(r,u.R(e)),new Cr(u,e)}for(u=K;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),y=(g=Do(t)).R(e);ft(y)||0<y.X(r);)y=(g=Do(t-=s)).R(e);we(g)&&(g=U),u=u.add(g),r=Sn(r,y)}return new Cr(u,r)}function $n(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new bi(t,r.h)}function fi(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,u=[],g=0;g<s;g++)u[g]=0<e?r.D(g+t)>>>e|r.D(g+t+1)<<32-e:r.D(g+t);return new bi(u,r.h)}(Ee=bi.prototype).ea=function(){if(ft(this))return-Et(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:F+s)*e,e*=F}return r},Ee.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(we(this))return"0";if(ft(this))return"-"+Et(this).toString(r);for(var e=Do(Math.pow(r,6)),t=this,s="";;){var u=jr(t,e).g,g=((0<(t=Sn(t,u.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(we(t=u))return g+s;for(;6>g.length;)g="0"+g;s=g+s}},Ee.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ee.X=function(r){return ft(r=Sn(this,r))?-1:we(r)?0:1},Ee.abs=function(){return ft(this)?Et(this):this},Ee.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,u=0;u<=e;u++){var g=s+(65535&this.D(u))+(65535&r.D(u)),y=(g>>>16)+(this.D(u)>>>16)+(r.D(u)>>>16);s=y>>>16,t[u]=(y&=65535)<<16|(g&=65535)}return new bi(t,-2147483648&t[t.length-1]?-1:0)},Ee.R=function(r){if(we(this)||we(r))return K;if(ft(this))return ft(r)?Et(this).R(Et(r)):Et(Et(this).R(r));if(ft(r))return Et(this.R(Et(r)));if(0>this.X(te)&&0>r.X(te))return Do(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<r.g.length;u++){var g=this.D(s)>>>16,y=65535&this.D(s),x=r.D(u)>>>16,j=65535&r.D(u);t[2*s+2*u]+=y*j,gi(t,2*s+2*u),t[2*s+2*u+1]+=g*j,gi(t,2*s+2*u+1),t[2*s+2*u+1]+=y*x,gi(t,2*s+2*u+1),t[2*s+2*u+2]+=g*x,gi(t,2*s+2*u+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new bi(t,0)},Ee.gb=function(r){return jr(this,r).h},Ee.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new bi(t,this.h&r.h)},Ee.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new bi(t,this.h|r.h)},Ee.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new bi(t,this.h^r.h)},ll.prototype.createWebChannel=ll.prototype.g,Ti.prototype.send=Ti.prototype.u,Ti.prototype.open=Ti.prototype.m,Ti.prototype.close=Ti.prototype.close,Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Qs.COMPLETE="complete",Ss.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",Te.prototype.listen=Te.prototype.O,Oe.prototype.listenOnce=Oe.prototype.P,Oe.prototype.getLastError=Oe.prototype.Sa,Oe.prototype.getLastErrorCode=Oe.prototype.Ia,Oe.prototype.getStatus=Oe.prototype.da,Oe.prototype.getResponseJson=Oe.prototype.Wa,Oe.prototype.getResponseText=Oe.prototype.ja,Oe.prototype.send=Oe.prototype.ha,Oe.prototype.setWithCredentials=Oe.prototype.Oa,wo.prototype.digest=wo.prototype.l,wo.prototype.reset=wo.prototype.reset,wo.prototype.update=wo.prototype.j,bi.prototype.add=bi.prototype.add,bi.prototype.multiply=bi.prototype.R,bi.prototype.modulo=bi.prototype.gb,bi.prototype.compare=bi.prototype.X,bi.prototype.toNumber=bi.prototype.ea,bi.prototype.toString=bi.prototype.toString,bi.prototype.getBits=bi.prototype.D,bi.fromNumber=Do,bi.fromString=function Sl(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Et(Sl(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Do(Math.pow(e,8)),s=K,u=0;u<r.length;u+=8){var g=Math.min(8,r.length-u),y=parseInt(r.substring(u,u+g),e);8>g?(g=Do(Math.pow(e,g)),s=s.R(g).add(Do(y))):s=(s=s.R(t)).add(Do(y))}return s};var Wr=Dt.createWebChannelTransport=function(){return new ll},Qi=Dt.getStatEventTarget=function(){return cs()},Kr=Dt.ErrorCode=Xi,xr=Dt.EventType=Qs,As=Dt.Event=us,Ds=Dt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ls=Dt.FetchXmlHttpFactory=Gn,io=Dt.WebChannel=Ss,Ko=Dt.XhrIo=Oe,Pu=Dt.Md5=wo,Ro=Dt.Integer=bi;const sc="@firebase/firestore";class rs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let Xa="9.22.1";const Pa=new Ae.Yd("@firebase/firestore");function so(){return Pa.logLevel}function $t(r,...e){if(Pa.logLevel<=Ae.in.DEBUG){const t=e.map(Xr);Pa.debug(`Firestore (${Xa}): ${r}`,...t)}}function fr(r,...e){if(Pa.logLevel<=Ae.in.ERROR){const t=e.map(Xr);Pa.error(`Firestore (${Xa}): ${r}`,...t)}}function sa(r,...e){if(Pa.logLevel<=Ae.in.WARN){const t=e.map(Xr);Pa.warn(`Firestore (${Xa}): ${r}`,...t)}}function Xr(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function gn(r="Unexpected state"){const e=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: `+r;throw fr(e),new Error(e)}function Dn(r,e){r||gn()}function dn(r,e){return r}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ul{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rs.UNAUTHENTICATED))}shutdown(){}}class lu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Es{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let u=this.i;const g=Z=>this.i!==u?(u=this.i,t(Z)):Promise.resolve();let y=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new qr,e.enqueueRetryable(()=>g(this.currentUser))};const x=()=>{const Z=y;e.enqueueRetryable((0,me.Z)(function*(){yield Z.promise,yield g(s.currentUser)}))},j=Z=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),x()};this.t.onInit(Z=>j(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?j(Z):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new qr)}},0),x()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dn("string"==typeof s.accessToken),new ul(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new rs(e)}}class $l{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new $l(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=g=>{null!=g.error&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const y=g.token!==this.T;return this.T=g.token,$t("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>s(g))};const u=g=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.I.onInit(g=>u(g)),setTimeout(()=>{if(!this.appCheck){const g=this.I.getImmediate({optional:!0});g?u(g):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.T=t.token,new Fu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cu(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class cl{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const u=cu(40);for(let g=0;g<u.length;++g)s.length<20&&u[g]<t&&(s+=e.charAt(u[g]%e.length))}return s}}function dr(r,e){return r<e?-1:r>e?1:0}function oo(r,e,t){return r.length===e.length&&r.every((s,u)=>t(s,e[u]))}function ka(r){return r+"\0"}class Pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pi.fromMillis(Date.now())}static fromDate(e){return Pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dr(this.nanoseconds,e.nanoseconds):dr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new Pi(0,0))}static max(){return new Rn(new Pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dl{constructor(e,t,s){void 0===t?t=0:t>e.length&&gn(),void 0===s?s=e.length-t:s>e.length-t&&gn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===dl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dl?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let u=0;u<s;u++){const g=e.get(u),y=t.get(u);if(g<y)return-1;if(g>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pr extends dl{construct(e,t,s){return new Pr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Bt(_t.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(u=>u.length>0))}return new Pr(t)}static emptyPath(){return new Pr([])}}const yd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends dl{construct(e,t,s){return new is(e,t,s)}static isValidIdentifier(e){return yd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new is(["__name__"])}static fromServerFormat(e){const t=[];let s="",u=0;const g=()=>{if(0===s.length)throw new Bt(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let y=!1;for(;u<e.length;){const x=e[u];if("\\"===x){if(u+1===e.length)throw new Bt(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[u+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new Bt(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=j,u+=2}else"`"===x?(y=!y,u++):"."!==x||y?(s+=x,u++):(g(),u++)}if(g(),y)throw new Bt(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(t)}static emptyPath(){return new is([])}}class Gt{constructor(e){this.path=e}static fromPath(e){return new Gt(Pr.fromString(e))}static fromName(e){return new Gt(Pr.fromString(e).popFirst(5))}static empty(){return new Gt(Pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gt(new Pr(e.slice()))}}class Al{constructor(e,t,s,u){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=u}}function hl(r){return r.fields.find(e=>2===e.kind)}function $a(r){return r.fields.filter(e=>2!==e.kind)}Al.UNKNOWN_ID=-1;class du{constructor(e,t){this.fieldPath=e,this.kind=t}}class hu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hu(0,Ns.min())}}function el(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Rn.fromTimestamp(1e9===s?new Pi(t+1,0):new Pi(t,s));return new Ns(u,Gt.empty(),e)}function Pc(r){return new Ns(r.readTime,r.key,-1)}class Ns{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ns(Rn.min(),Gt.empty(),-1)}static max(){return new Ns(Rn.max(),Gt.empty(),-1)}}function ls(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Gt.comparator(r.documentKey,e.documentKey),0!==t?t:dr(r.largestBatchId,e.largestBatchId))}const fl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ss{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eo(r){return $s.apply(this,arguments)}function $s(){return $s=(0,me.Z)(function*(r){if(r.code!==_t.FAILED_PRECONDITION||r.message!==fl)throw r;$t("LocalStore","Unexpectedly lost primary lease")}),$s.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((s,u)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(s,u)},this.catchCallback=g=>{this.wrapFailure(t,g).next(s,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,s)=>{t(e)})}static reject(e){return new at((t,s)=>{s(e)})}static waitFor(e){return new at((t,s)=>{let u=0,g=0,y=!1;e.forEach(x=>{++u,x.next(()=>{++g,y&&g===u&&t()},j=>s(j))}),y=!0,g===u&&t()})}static or(e){let t=at.resolve(!1);for(const s of e)t=t.next(u=>u?at.resolve(u):s());return t}static forEach(e,t){const s=[];return e.forEach((u,g)=>{s.push(t.call(this,u,g))}),this.waitFor(s)}static mapArray(e,t){return new at((s,u)=>{const g=e.length,y=new Array(g);let x=0;for(let j=0;j<g;j++){const Z=j;t(e[Z]).next(se=>{y[Z]=se,++x,x===g&&s(y)},se=>u(se))}})}static doWhile(e,t){return new at((s,u)=>{const g=()=>{!0===e()?t().next(()=>{g()},u):s()};g()})}}class Ml{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new qr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new T(e,t.error)):this.v.resolve()},this.transaction.onerror=s=>{const u=We(s.target.error);this.v.reject(new T(e,u))}}static open(e,t,s,u){try{return new Ml(t,e.transaction(u,s))}catch(g){throw new T(t,g)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($t("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new H(t)}}class A{constructor(e,t,s){this.name=e,this.version=t,this.V=s,12.2===A.S((0,Qe.z$)())&&fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $t("SimpleDb","Removing database:",e),X(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Qe.hl)())return!1;if(A.C())return!0;const e=(0,Qe.z$)(),t=A.S(e),s=0<t&&t<10,u=A.N(e),g=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||g)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static N(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}$(e){var t=this;return(0,me.Z)(function*(){return t.db||($t("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,u)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=y=>{s(y.target.result)},g.onblocked=()=>{u(new T(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=y=>{const x=y.target.error;u("VersionError"===x.name?new Bt(_t.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===x.name?new Bt(_t.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+x):new T(e,x))},g.onupgradeneeded=y=>{$t("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.V.O(y.target.result,g.transaction,y.oldVersion,t.version).next(()=>{$t("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=s=>t.F(s)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,u){var g=this;return(0,me.Z)(function*(){const y="readonly"===t;let x=0;for(;;){++x;try{g.db=yield g.$(e);const j=Ml.open(g.db,e,y?"readonly":"readwrite",s),Z=u(j).next(se=>(j.P(),se)).catch(se=>(j.abort(se),at.reject(se))).toPromise();return Z.catch(()=>{}),yield j.R,Z}catch(j){const Z=j,se="FirebaseError"!==Z.name&&x<3;if($t("SimpleDb","Transaction failed with error:",Z.message,"Retrying:",se),g.close(),!se)return Promise.reject(Z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class M{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return X(this.L.delete())}}class T extends Bt{constructor(e,t){super(_t.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function k(r){return"IndexedDbTransactionError"===r.name}class H{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?($t("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):($t("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),X(s)}add(e){return $t("SimpleDb","ADD",this.store.name,e,e),X(this.store.add(e))}get(e){return X(this.store.get(e)).next(t=>(void 0===t&&(t=null),$t("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $t("SimpleDb","DELETE",this.store.name,e),X(this.store.delete(e))}count(){return $t("SimpleDb","COUNT",this.store.name),X(this.store.count())}j(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),g=[];return this.W(u,(y,x)=>{g.push(x)}).next(()=>g)}{const u=this.store.getAll(s.range);return new at((g,y)=>{u.onerror=x=>{y(x.target.error)},u.onsuccess=x=>{g(x.target.result)}})}}H(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new at((u,g)=>{s.onerror=y=>{g(y.target.error)},s.onsuccess=y=>{u(y.target.result)}})}J(e,t){$t("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const u=this.cursor(s);return this.W(u,(g,y,x)=>x.delete())}X(e,t){let s;t?s=e:(s={},t=e);const u=this.cursor(s);return this.W(u,t)}Z(e){const t=this.cursor({});return new at((s,u)=>{t.onerror=g=>{const y=We(g.target.error);u(y)},t.onsuccess=g=>{const y=g.target.result;y?e(y.primaryKey,y.value).next(x=>{x?y.continue():s()}):s()}})}W(e,t){const s=[];return new at((u,g)=>{e.onerror=y=>{g(y.target.error)},e.onsuccess=y=>{const x=y.target.result;if(!x)return void u();const j=new M(x),Z=t(x.primaryKey,x.value,j);if(Z instanceof at){const se=Z.catch(Ce=>(j.done(),at.reject(Ce)));s.push(se)}j.isDone?u():null===j.K?x.continue():x.continue(j.K)}}).next(()=>at.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function X(r){return new at((e,t)=>{r.onsuccess=s=>{e(s.target.result)},r.onerror=s=>{const u=We(s.target.error);t(u)}})}let ae=!1;function We(r){const e=A.S((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new Bt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ae||(ae=!0,setTimeout(()=>{throw s},0)),s}}return r}class xt{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$t("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{$t("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(s){k(s)?$t("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Eo(s)}yield t.et(6e4)}))}}class un{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.st(s,e))})()}st(e,t){const s=new Set;let u=t,g=!0;return at.doWhile(()=>!0===g&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return $t("IndexBackiller",`Processing collection: ${y}`),this.it(e,y,u).next(x=>{u-=x,s.add(y)});g=!1})).next(()=>t-u)}it(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,s).next(g=>{const y=g.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.rt(u,g)).next(x=>($t("IndexBackiller",`Updating offset: ${x}`),this.localStore.indexManager.updateCollectionGroup(e,t,x))).next(()=>y.size)}))}rt(e,t){let s=e;return t.changes.forEach((u,g)=>{const y=Pc(g);ls(y,s)>0&&(s=y)}),new Ns(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}let nn=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>s.writeSequenceNumber(u))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function br(r){return null==r}function Ki(r){return 0===r&&1/r==-1/0}function Fa(r){return"number"==typeof r&&Number.isInteger(r)&&!Ki(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Mi(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=qo(e)),e=To(r.get(t),e);return qo(e)}function To(r,e){let t=e;const s=r.length;for(let u=0;u<s;u++){const g=r.charAt(u);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function qo(r){return r+"\x01\x01"}function hs(r){const e=r.length;if(Dn(e>=2),2===e)return Dn("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Pr.emptyPath();const t=e-2,s=[];let u="";for(let g=0;g<e;){const y=r.indexOf("\x01",g);switch((y<0||y>t)&&gn(),r.charAt(y+1)){case"\x01":const x=r.substring(g,y);let j;0===u.length?j=x:(u+=x,j=u,u=""),s.push(j);break;case"\x10":u+=r.substring(g,y),u+="\0";break;case"\x11":u+=r.substring(g,y+1);break;default:gn()}g=y+2}return new Pr(s)}const ao=["userId","batchId"];function Hl(r,e){return[r,Mi(e)]}function Ol(r,e,t){return[r,Mi(e),t]}const vd={},$r=["prefixPath","collectionGroup","readTime","documentId"],kc=["prefixPath","collectionGroup","documentId"],oc=["collectionGroup","readTime","prefixPath","documentId"],Ha=["canonicalId","targetId"],Lu=["targetId","path"],dh=["path","targetId"],fu=["collectionId","parent"],ac=["indexId","uid"],tl=["uid","sequenceNumber"],zl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bd=["indexId","uid","orderedDocumentKey"],hh=["userId","collectionPath","documentId"],wd=["userId","collectionPath","largestBatchId"],Fc=["userId","collectionGroup","largestBatchId"],Lc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],lc=[...Lc,"documentOverlays"],Bc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dd=Bc,pu=[...Dd,"indexConfiguration","indexState","indexEntries"];class uc extends ss{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function lo(r,e){const t=dn(r);return A.M(t.ht,e)}function cc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Wl(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Bu(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class qi{constructor(e,t){this.comparator=e,this.root=t||uo.EMPTY}insert(e,t){return new qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uo.BLACK,null,null))}remove(e){return new qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return t+s.left.size;u<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gu(this.root,e,this.comparator,!0)}}class gu{constructor(e,t,s,u){this.isReverse=u,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?s(e.key,t):1,t&&u&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class uo{constructor(e,t,s,u,g){this.key=e,this.value=t,this.color=s??uo.RED,this.left=u??uo.EMPTY,this.right=g??uo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,u,g){return new uo(e??this.key,t??this.value,s??this.color,u??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let u=this;const g=s(e,u.key);return u=g<0?u.copy(null,null,null,u.left.insert(e,t,s),null):0===g?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return uo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return uo.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gn();const e=this.left.check();if(e!==this.right.check())throw gn();return e+(this.isRed()?0:1)}}uo.EMPTY=null,uo.RED=!0,uo.BLACK=!1,uo.EMPTY=new class{constructor(){this.size=0}get key(){throw gn()}get value(){throw gn()}get color(){throw gn()}get left(){throw gn()}get right(){throw gn()}copy(r,e,t,s,u){return this}insert(r,e,t){return new uo(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ci{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dc(this.data.getIterator())}getIteratorFrom(e){return new dc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,g=s.getNext().key;if(0!==this.comparator(u,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ci(this.comparator);return t.data=e,t}}class dc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pl(r){return r.hasNext()?r.getNext():void 0}class Hs{constructor(e){this.fields=e,e.sort(is.comparator)}static empty(){return new Hs([])}unionWith(e){let t=new Ci(is.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Uu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ms{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Uu("Invalid base64 string: "+u):u}}(e);return new Ms(t)}static fromUint8Array(e){const t=function(s){let u="";for(let g=0;g<s.length;++g)u+=String.fromCharCode(s[g]);return u}(e);return new Ms(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ms.EMPTY_BYTE_STRING=new Ms("");const fh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mu(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=fh.exec(r);if(Dn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:zs(r.seconds),nanos:zs(r.nanos)}}function zs(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function gl(r){return"string"==typeof r?Ms.fromBase64String(r):Ms.fromUint8Array(r)}function Kl(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ml(r){const e=r.mapValue.fields.__previous_value__;return Kl(e)?ml(e):e}function _u(r){const e=mu(r.mapValue.fields.__local_write_time__.timestampValue);return new Pi(e.seconds,e.nanos)}class Td{constructor(e,t,s,u,g,y,x,j,Z){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=u,this.ssl=g,this.forceLongPolling=y,this.autoDetectLongPolling=x,this.longPollingOptions=j,this.useFetchStreams=Z}}class Po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Po&&e.projectId===this.projectId&&e.database===this.database}}const ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uc={nullValue:"NULL_VALUE"};function ba(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kl(r)?4:sn(r)?9007199254740991:10:gn()}function nl(r,e){if(r===e)return!0;const t=ba(r);if(t!==ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(s,u){if("string"==typeof s.timestampValue&&"string"==typeof u.timestampValue&&s.timestampValue.length===u.timestampValue.length)return s.timestampValue===u.timestampValue;const g=mu(s.timestampValue),y=mu(u.timestampValue);return g.seconds===y.seconds&&g.nanos===y.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return u=e,gl(r.bytesValue).isEqual(gl(u.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,u){return zs(s.geoPointValue.latitude)===zs(u.geoPointValue.latitude)&&zs(s.geoPointValue.longitude)===zs(u.geoPointValue.longitude)}(r,e);case 2:return function(s,u){if("integerValue"in s&&"integerValue"in u)return zs(s.integerValue)===zs(u.integerValue);if("doubleValue"in s&&"doubleValue"in u){const g=zs(s.doubleValue),y=zs(u.doubleValue);return g===y?Ki(g)===Ki(y):isNaN(g)&&isNaN(y)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],nl);case 10:return function(s,u){const g=s.mapValue.fields||{},y=u.mapValue.fields||{};if(cc(g)!==cc(y))return!1;for(const x in g)if(g.hasOwnProperty(x)&&(void 0===y[x]||!nl(g[x],y[x])))return!1;return!0}(r,e);default:return gn()}var u}function Vu(r,e){return void 0!==(r.values||[]).find(t=>nl(t,e))}function Rl(r,e){if(r===e)return 0;const t=ba(r),s=ba(e);if(t!==s)return dr(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return dr(r.booleanValue,e.booleanValue);case 2:return function(u,g){const y=zs(u.integerValue||u.doubleValue),x=zs(g.integerValue||g.doubleValue);return y<x?-1:y>x?1:y===x?0:isNaN(y)?isNaN(x)?0:-1:1}(r,e);case 3:return Id(r.timestampValue,e.timestampValue);case 4:return Id(_u(r),_u(e));case 5:return dr(r.stringValue,e.stringValue);case 6:return function(u,g){const y=gl(u),x=gl(g);return y.compareTo(x)}(r.bytesValue,e.bytesValue);case 7:return function(u,g){const y=u.split("/"),x=g.split("/");for(let j=0;j<y.length&&j<x.length;j++){const Z=dr(y[j],x[j]);if(0!==Z)return Z}return dr(y.length,x.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,g){const y=dr(zs(u.latitude),zs(g.latitude));return 0!==y?y:dr(zs(u.longitude),zs(g.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(u,g){const y=u.values||[],x=g.values||[];for(let j=0;j<y.length&&j<x.length;++j){const Z=Rl(y[j],x[j]);if(Z)return Z}return dr(y.length,x.length)}(r.arrayValue,e.arrayValue);case 10:return function(u,g){if(u===ko.mapValue&&g===ko.mapValue)return 0;if(u===ko.mapValue)return 1;if(g===ko.mapValue)return-1;const y=u.fields||{},x=Object.keys(y),j=g.fields||{},Z=Object.keys(j);x.sort(),Z.sort();for(let se=0;se<x.length&&se<Z.length;++se){const Ce=dr(x[se],Z[se]);if(0!==Ce)return Ce;const dt=Rl(y[x[se]],j[Z[se]]);if(0!==dt)return dt}return dr(x.length,Z.length)}(r.mapValue,e.mapValue);default:throw gn()}}function Id(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return dr(r,e);const t=mu(r),s=mu(e),u=dr(t.seconds,s.seconds);return 0!==u?u:dr(t.nanos,s.nanos)}function Gu(r){return Cd(r)}function Cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const u=mu(s);return`time(${u.seconds},${u.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?gl(r.bytesValue).toBase64():"referenceValue"in r?Gt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let u="[",g=!0;for(const y of s.values||[])g?g=!1:u+=",",u+=Cd(y);return u+"]"}(r.arrayValue):"mapValue"in r?function(s){const u=Object.keys(s.fields||{}).sort();let g="{",y=!0;for(const x of u)y?y=!1:g+=",",g+=`${x}:${Cd(s.fields[x])}`;return g+"}"}(r.mapValue):gn();var e}function L(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function q(r){return!!r&&"integerValue"in r}function pe(r){return!!r&&"arrayValue"in r}function Le(r){return!!r&&"nullValue"in r}function et(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lt(r){return!!r&&"mapValue"in r}function jt(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Wl(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=jt(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jt(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sn(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fn(r){return"nullValue"in r?Uc:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?L(Po.empty(),Gt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:gn()}function _r(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?L(Po.empty(),Gt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ko:gn()}function wr(r,e){const t=Rl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Zo(r,e){const t=Rl(r.value,e.value);return 0!==t?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!lt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jt(t)}setAll(e){let t=is.emptyPath(),s={},u=[];e.forEach((y,x)=>{if(!t.isImmediateParentOf(x)){const j=this.getFieldsMap(t);this.applyChanges(j,s,u),s={},u=[],t=x.popLast()}y?s[x.lastSegment()]=jt(y):u.push(x.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,s,u)}delete(e){const t=this.field(e.popLast());lt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=t.mapValue.fields[e.get(s)];lt(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,s){Wl(t,(u,g)=>e[u]=g);for(const u of s)delete e[u]}clone(){return new ei(jt(this.value))}}function hc(r){const e=[];return Wl(r.fields,(t,s)=>{const u=new is([t]);if(lt(s)){const g=hc(s.mapValue).fields;if(0===g.length)e.push(u);else for(const y of g)e.push(u.child(y))}else e.push(u)}),new Hs(e)}class wi{constructor(e,t,s,u,g,y,x){this.key=e,this.documentType=t,this.version=s,this.readTime=u,this.createTime=g,this.data=y,this.documentState=x}static newInvalidDocument(e){return new wi(e,0,Rn.min(),Rn.min(),Rn.min(),ei.empty(),0)}static newFoundDocument(e,t,s,u){return new wi(e,1,t,Rn.min(),s,u,0)}static newNoDocument(e,t){return new wi(e,2,t,Rn.min(),Rn.min(),ei.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,Rn.min(),Rn.min(),ei.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}function aa(r,e,t){let s=0;for(let u=0;u<r.position.length;u++){const g=e[u],y=r.position[u];if(s=g.field.isKeyField()?Gt.comparator(Gt.fromName(y.referenceValue),t.key):Rl(y,t.data.field(g.field)),"desc"===g.dir&&(s*=-1),0!==s)break}return s}function za(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!nl(r.position[t],e.position[t]))return!1;return!0}class Wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function rp(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Vc{}class Ur extends Vc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new sp(e,t,s):"array-contains"===t?new m(e,s):"in"===t?new w(e,s):"not-in"===t?new R(e,s):"array-contains-any"===t?new J(e,s):new Ur(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ig(e,s):new Km(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rl(t,this.value)):null!==t&&ba(this.value)===ba(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Di extends Vc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Di(e,t)}matches(e){return wa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function wa(r){return"and"===r.op}function ql(r){return"or"===r.op}function fc(r){return xl(r)&&wa(r)}function xl(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function _l(r){if(r instanceof Ur)return r.field.canonicalString()+r.op.toString()+Gu(r.value);if(fc(r))return r.filters.map(e=>_l(e)).join(",");{const e=r.filters.map(t=>_l(t)).join(",");return`${r.op}(${e})`}}function Sd(r,e){return r instanceof Ur?(t=r,(s=e)instanceof Ur&&t.op===s.op&&t.field.isEqual(s.field)&&nl(t.value,s.value)):r instanceof Di?function(t,s){return s instanceof Di&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((u,g,y)=>u&&Sd(g,s.filters[y]),!0)}(r,e):void gn();var t,s}function ip(r,e){const t=r.filters.concat(e);return Di.create(t,r.op)}function ph(r){return r instanceof Ur?`${(e=r).field.canonicalString()} ${e.op} ${Gu(e.value)}`:r instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(ph).join(" ,")+"}"}(r):"Filter";var e}class sp extends Ur{constructor(e,t,s){super(e,t,s),this.key=Gt.fromName(s.referenceValue)}matches(e){const t=Gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ig extends Ur{constructor(e,t){super(e,"in",t),this.keys=N(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Km extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=N(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function N(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Gt.fromName(s.referenceValue))}class m extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pe(t)&&Vu(t.arrayValue,this.value)}}class w extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vu(this.value.arrayValue,t)}}class R extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vu(this.value.arrayValue,t)}}class J extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pe(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Vu(this.value.arrayValue,s))}}class ue{constructor(e,t=null,s=[],u=[],g=null,y=null,x=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=u,this.limit=g,this.startAt=y,this.endAt=x,this.dt=null}}function Ke(r,e=null,t=[],s=[],u=null,g=null,y=null){return new ue(r,e,t,s,u,g,y)}function yt(r){const e=dn(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>_l(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(u=s).field.canonicalString()+u.dir;var u}).join(","),br(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Gu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Gu(s)).join(",")),e.dt=t}return e.dt}function Xt(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rp(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Sd(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!za(r.startAt,e.startAt)&&za(r.endAt,e.endAt)}function yn(r){return Gt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function zn(r,e){return r.filters.filter(t=>t instanceof Ur&&t.field.isEqual(e))}function Mr(r,e,t){let s=Uc,u=!0;for(const g of zn(r,e)){let y=Uc,x=!0;switch(g.op){case"<":case"<=":y=Fn(g.value);break;case"==":case"in":case">=":y=g.value;break;case">":y=g.value,x=!1;break;case"!=":case"not-in":y=Uc}wr({value:s,inclusive:u},{value:y,inclusive:x})<0&&(s=y,u=x)}if(null!==t)for(let g=0;g<r.orderBy.length;++g)if(r.orderBy[g].field.isEqual(e)){const y=t.position[g];wr({value:s,inclusive:u},{value:y,inclusive:t.inclusive})<0&&(s=y,u=t.inclusive);break}return{value:s,inclusive:u}}function la(r,e,t){let s=ko,u=!0;for(const g of zn(r,e)){let y=ko,x=!0;switch(g.op){case">=":case">":y=_r(g.value),x=!1;break;case"==":case"in":case"<=":y=g.value;break;case"<":y=g.value,x=!1;break;case"!=":case"not-in":y=ko}Zo({value:s,inclusive:u},{value:y,inclusive:x})>0&&(s=y,u=x)}if(null!==t)for(let g=0;g<r.orderBy.length;++g)if(r.orderBy[g].field.isEqual(e)){const y=t.position[g];Zo({value:s,inclusive:u},{value:y,inclusive:t.inclusive})>0&&(s=y,u=t.inclusive);break}return{value:s,inclusive:u}}class ua{constructor(e,t=null,s=[],u=[],g=null,y="F",x=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=u,this.limit=g,this.limitType=y,this.startAt=x,this.endAt=j,this.wt=null,this._t=null}}function pc(r,e,t,s,u,g,y,x){return new ua(r,e,t,s,u,g,y,x)}function ju(r){return new ua(r)}function Pl(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Ad(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Zl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gc(r){return null!==r.collectionGroup}function kl(r){const e=dn(r);if(null===e.wt){e.wt=[];const t=Zl(e),s=Ad(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Wa(t)),e.wt.push(new Wa(is.keyField(),"asc"));else{let u=!1;for(const g of e.explicitOrderBy)e.wt.push(g),g.field.isKeyField()&&(u=!0);if(!u){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Wa(is.keyField(),g))}}}return e.wt}function Os(r){const e=dn(r);if(!e._t)if("F"===e.limitType)e._t=Ke(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of kl(e))t.push(new Wa(g.field,"desc"===g.dir?"asc":"desc"));const s=e.endAt?new Yo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Yo(e.startAt.position,e.startAt.inclusive):null;e._t=Ke(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}return e._t}function jc(r,e){e.getFirstInequalityField(),Zl(r);const t=r.filters.concat([e]);return new ua(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yu(r,e,t){return new ua(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Yl(r,e){return Xt(Os(r),Os(e))&&r.limitType===e.limitType}function $c(r){return`${yt(Os(r))}|lt:${r.limitType}`}function Hc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>ph(s)).join(", ")}]`),br(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(u=s).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Gu(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Gu(s)).join(",")),`Target(${t})`}(Os(r))}; limitType=${r.limitType})`}function zc(r,e){return e.isFoundDocument()&&function(t,s){const u=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Gt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(r,e)&&function(t,s){for(const u of kl(t))if(!u.field.isKeyField()&&null===s.data.field(u.field))return!1;return!0}(r,e)&&function(t,s){for(const u of t.filters)if(!u.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(u,g,y){const x=aa(u,g,y);return u.inclusive?x<=0:x<0}(t.startAt,kl(t),s)||t.endAt&&!function(u,g,y){const x=aa(u,g,y);return u.inclusive?x>=0:x>0}(t.endAt,kl(t),s)));var t,s}function gc(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Nd(r){return(e,t)=>{let s=!1;for(const u of kl(r)){const g=qm(u,e,t);if(0!==g)return g;s=s||u.field.isKeyField()}return 0}}function qm(r,e,t){const s=r.field.isKeyField()?Gt.comparator(e.key,t.key):function(u,g,y){const x=g.data.field(u),j=y.data.field(u);return null!==x&&null!==j?Rl(x,j):gn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gn()}}class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[u,g]of s)if(this.equalsFn(u,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,t]],void this.innerSize++;for(let g=0;g<u.length;g++)if(this.equalsFn(u[g][0],e))return void(u[g]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[t]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Wl(this.inner,(t,s)=>{for(const[u,g]of s)e(u,g)})}isEmpty(){return Bu(this.inner)}size(){return this.innerSize}}const Zm=new qi(Gt.comparator);function rl(){return Zm}const op=new qi(Gt.comparator);function Md(...r){let e=op;for(const t of r)e=e.insert(t.key,t);return e}function df(r){let e=op;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function yl(){return bu()}function gh(){return bu()}function bu(){return new vu(r=>r.toString(),(r,e)=>r.isEqual(e))}const mh=new qi(Gt.comparator),Od=new Ci(Gt.comparator);function Hr(...r){let e=Od;for(const t of r)e=e.add(t);return e}const Ym=new Ci(dr);function _h(){return Ym}function Cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ki(e)?"-0":e}}function ap(r){return{integerValue:""+r}}function Wc(r,e){return Fa(e)?ap(e):Cg(r,e)}class Kc{constructor(){this._=void 0}}function Qm(r,e,t){return r instanceof vl?function(s,u){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return u&&Kl(u)&&(u=ml(u)),u&&(g.fields.__previous_value__=u),{mapValue:g}}(t,e):r instanceof mc?cp(r,e):r instanceof _c?dp(r,e):function(s,u){const g=up(s,u),y=Ql(g)+Ql(s.gt);return q(g)&&q(s.gt)?ap(y):Cg(s.serializer,y)}(r,e)}function lp(r,e,t){return r instanceof mc?cp(r,e):r instanceof _c?dp(r,e):t}function up(r,e){return r instanceof qc?q(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class vl extends Kc{}class mc extends Kc{constructor(e){super(),this.elements=e}}function cp(r,e){const t=yc(e);for(const s of r.elements)t.some(u=>nl(u,s))||t.push(s);return{arrayValue:{values:t}}}class _c extends Kc{constructor(e){super(),this.elements=e}}function dp(r,e){let t=yc(e);for(const s of r.elements)t=t.filter(u=>!nl(u,s));return{arrayValue:{values:t}}}class qc extends Kc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ql(r){return zs(r.integerValue||r.doubleValue)}function yc(r){return pe(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class hf{constructor(e,t){this.field=e,this.transform=t}}class Jm{constructor(e,t){this.version=e,this.transformResults=t}}class Ws{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ff(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class pf{}function gf(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new bc(r.key,Ws.none()):new vc(r.key,r.data,Ws.none());{const t=r.data,s=ei.empty();let u=new Ci(is.comparator);for(let g of e.fields)if(!u.has(g)){let y=t.field(g);null===y&&g.length>1&&(g=g.popLast(),y=t.field(g)),null===y?s.delete(g):s.set(g,y),u=u.add(g)}return new La(r.key,s,new Hs(u.toArray()),Ws.none())}}function Xm(r,e,t){r instanceof vc?function(s,u,g){const y=s.value.clone(),x=hp(s.fieldTransforms,u,g.transformResults);y.setAll(x),u.convertToFoundDocument(g.version,y).setHasCommittedMutations()}(r,e,t):r instanceof La?function(s,u,g){if(!ff(s.precondition,u))return void u.convertToUnknownDocument(g.version);const y=hp(s.fieldTransforms,u,g.transformResults),x=u.data;x.setAll(Zc(s)),x.setAll(y),u.convertToFoundDocument(g.version,x).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mf(r,e,t,s){return r instanceof vc?function(u,g,y,x){if(!ff(u.precondition,g))return y;const j=u.value.clone(),Z=fp(u.fieldTransforms,x,g);return j.setAll(Z),g.convertToFoundDocument(g.version,j).setHasLocalMutations(),null}(r,e,t,s):r instanceof La?function(u,g,y,x){if(!ff(u.precondition,g))return y;const j=fp(u.fieldTransforms,x,g),Z=g.data;return Z.setAll(Zc(u)),Z.setAll(j),g.convertToFoundDocument(g.version,Z).setHasLocalMutations(),null===y?null:y.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(se=>se.field))}(r,e,t,s):(y=t,ff(r.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):y);var g,y}function cy(r,e){let t=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),g=up(s.transform,u||null);null!=g&&(null===t&&(t=ei.empty()),t.set(s.field,g))}return t||null}function e_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&oo(t,s,(u,g)=>function Sg(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof mc&&s instanceof mc||t instanceof _c&&s instanceof _c?oo(t.elements,s.elements,nl):t instanceof qc&&s instanceof qc?nl(t.gt,s.gt):t instanceof vl&&s instanceof vl);var t,s}(u,g))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class vc extends pf{constructor(e,t,s,u=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class La extends pf{constructor(e,t,s,u,g=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=u,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function Zc(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function hp(r,e,t){const s=new Map;Dn(r.length===t.length);for(let u=0;u<t.length;u++){const g=r[u],y=g.transform,x=e.data.field(g.field);s.set(g.field,lp(y,x,t[u]))}return s}function fp(r,e,t){const s=new Map;for(const u of r){const g=u.transform,y=t.data.field(u.field);s.set(u.field,Qm(g,y,e))}return s}class bc extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ag extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ng{constructor(e,t,s,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const g=this.mutations[u];g.key.isEqual(e.key)&&Xm(g,e,s[u])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mf(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mf(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=gh();return this.mutations.forEach(u=>{const g=e.get(u.key),y=g.overlayedDocument;let x=this.applyToLocalView(y,g.mutatedFields);x=t.has(u.key)?null:x;const j=gf(y,x);null!==j&&s.set(u.key,j),y.isValidDocument()||y.convertToNoDocument(Rn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Hr())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(t,s)=>e_(t,s))&&oo(this.baseMutations,e.baseMutations,(t,s)=>e_(t,s))}}class pp{constructor(e,t,s,u){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=u}static from(e,t,s){Dn(e.mutations.length===s.length);let u=mh;const g=e.mutations;for(let y=0;y<g.length;y++)u=u.insert(g[y].key,s[y].version);return new pp(e,t,s,u)}}class Rd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dy{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fo,Oi;function Mg(r){switch(r){default:return gn();case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0}}function mp(r){if(void 0===r)return fr("GRPC error has no .code"),_t.UNKNOWN;switch(r){case Fo.OK:return _t.OK;case Fo.CANCELLED:return _t.CANCELLED;case Fo.UNKNOWN:return _t.UNKNOWN;case Fo.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Fo.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Fo.INTERNAL:return _t.INTERNAL;case Fo.UNAVAILABLE:return _t.UNAVAILABLE;case Fo.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Fo.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Fo.NOT_FOUND:return _t.NOT_FOUND;case Fo.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Fo.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Fo.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Fo.ABORTED:return _t.ABORTED;case Fo.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Fo.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Fo.DATA_LOSS:return _t.DATA_LOSS;default:return gn()}}(Oi=Fo||(Fo={}))[Oi.OK=0]="OK",Oi[Oi.CANCELLED=1]="CANCELLED",Oi[Oi.UNKNOWN=2]="UNKNOWN",Oi[Oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oi[Oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oi[Oi.NOT_FOUND=5]="NOT_FOUND",Oi[Oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oi[Oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oi[Oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oi[Oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oi[Oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oi[Oi.ABORTED=10]="ABORTED",Oi[Oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oi[Oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oi[Oi.INTERNAL=13]="INTERNAL",Oi[Oi.UNAVAILABLE=14]="UNAVAILABLE",Oi[Oi.DATA_LOSS=15]="DATA_LOSS";class _p{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _f}static getOrCreateInstance(){return null===_f&&(_f=new _p),_f}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let _f=null;function yp(){return new TextEncoder}const yh=new Ro([4294967295,4294967295],0);function vp(r){const e=yp().encode(r),t=new Pu;return t.update(e),new Uint8Array(t.digest())}function yf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),g=e.getUint32(12,!0);return[new Ro([t,s],0),new Ro([u,g],0)]}class bp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Bs(`Invalid padding: ${t}`);if(s<0)throw new Bs(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Bs(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Bs(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ro.fromNumber(this.It)}Et(e,t,s){let u=e.add(t.multiply(Ro.fromNumber(s)));return 1===u.compare(yh)&&(u=new Ro([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=vp(e),[s,u]=yf(t);for(let g=0;g<this.hashCount;g++){const y=this.Et(s,u,g);if(!this.At(y))return!1}return!0}static create(e,t,s){const u=e%8==0?0:8-e%8,g=new Uint8Array(Math.ceil(e/8)),y=new bp(g,u,t);return s.forEach(x=>y.insert(x)),y}insert(e){if(0===this.It)return;const t=vp(e),[s,u]=yf(t);for(let g=0;g<this.hashCount;g++){const y=this.Et(s,u,g);this.Rt(y)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Bs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(e,t,s,u,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const u=new Map;return u.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new vh(Rn.min(),u,new qi(dr),rl(),Hr())}}class xd{constructor(e,t,s,u,g){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xd(s,t,Hr(),Hr(),Hr())}}class bh{constructor(e,t,s,u){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=u}}class Og{constructor(e,t){this.targetId=e,this.Vt=t}}class t_{constructor(e,t,s=Ms.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=u}}class n_{constructor(){this.St=0,this.Dt=Pg(),this.Ct=Ms.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Hr(),t=Hr(),s=Hr();return this.Dt.forEach((u,g)=>{switch(g){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:s=s.add(u);break;default:gn()}}),new xd(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Pg()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Rg{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rl(),this.zt=xg(),this.Wt=new qi(dr)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:gn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,u)=>{this.te(u)&&t(u)})}ne(e){var t;const s=e.targetId,u=e.Vt.count,g=this.se(s);if(g){const y=g.target;if(yn(y))if(0===u){const x=new Gt(y.path);this.Yt(s,x,wi.newNoDocument(x,Rn.min()))}else Dn(1===u);else{const x=this.ie(s);if(x!==u){const j=this.re(e,x);0!==j&&(this.ee(s),this.Wt=this.Wt.insert(s,2===j?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=_p.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(Z,se,Ce){var dt,Nt,Zt,Cn,An,Lr;const Vi={localCacheCount:se,existenceFilterCount:Ce.count},ti=Ce.unchangedNames;return ti&&(Vi.bloomFilter={applied:0===Z,hashCount:null!==(dt=ti?.hashCount)&&void 0!==dt?dt:0,bitmapLength:null!==(Cn=null===(Zt=null===(Nt=ti?.bits)||void 0===Nt?void 0:Nt.bitmap)||void 0===Zt?void 0:Zt.length)&&void 0!==Cn?Cn:0,padding:null!==(Lr=null===(An=ti?.bits)||void 0===An?void 0:An.padding)&&void 0!==Lr?Lr:0}),Vi}(j,x,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:u}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:g="",padding:y=0},hashCount:x=0}=s;let j,Z;try{j=gl(g).toUint8Array()}catch(se){if(se instanceof Uu)return sa("Decoding the base64 bloom filter in existence filter failed ("+se.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw se}try{Z=new bp(j,y,x)}catch(se){return sa(se instanceof Bs?"BloomFilter error: ":"Applying bloom filter failed: ",se),1}return 0===Z.It?1:u!==t-this.oe(e.targetId,Z)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let u=0;return s.forEach(g=>{const y=this.Gt.ue(),x=`projects/${y.projectId}/databases/${y.database}/documents/${g.path.canonicalString()}`;t.vt(x)||(this.Yt(e,g,null),u++)}),u}ce(e){const t=new Map;this.Qt.forEach((g,y)=>{const x=this.se(y);if(x){if(g.current&&yn(x.target)){const j=new Gt(x.target.path);null!==this.jt.get(j)||this.ae(y,j)||this.Yt(y,j,wi.newNoDocument(j,e))}g.Mt&&(t.set(y,g.Ot()),g.Ft())}});let s=Hr();this.zt.forEach((g,y)=>{let x=!0;y.forEachWhile(j=>{const Z=this.se(j);return!Z||"TargetPurposeLimboResolution"===Z.purpose||(x=!1,!1)}),x&&(s=s.add(g))}),this.jt.forEach((g,y)=>y.setReadTime(e));const u=new vh(e,t,this.Wt,this.jt,s);return this.jt=rl(),this.zt=xg(),this.Wt=new qi(dr),u}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,t)?u.Bt(t,1):u.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new n_,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ci(dr),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$t("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new n_),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xg(){return new qi(Gt.comparator)}function Pg(){return new qi(Gt.comparator)}const Cv={asc:"ASCENDING",desc:"DESCENDING"},Sv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wh={and:"AND",or:"OR"};class kg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wp(r,e){return r.useProto3Json||br(e)?e:{value:e}}function Pd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fg(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function r_(r,e){return Pd(r,e.toTimestamp())}function Lo(r){return Dn(!!r),Rn.fromTimestamp(function(e){const t=mu(e);return new Pi(t.seconds,t.nanos)}(r))}function Dp(r,e){return(t=r,new Pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Lg(r){const e=Pr.fromString(r);return Dn(jg(e)),e}function kd(r,e){return Dp(r.databaseId,e.path)}function wc(r,e){const t=Lg(e);if(t.get(1)!==r.databaseId.projectId)throw new Bt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Bt(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Gt(bf(t))}function vf(r,e){return Dp(r.databaseId,e)}function i_(r){const e=Lg(r);return 4===e.length?Pr.emptyPath():bf(e)}function Fd(r){return new Pr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bf(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Ep(r,e,t){return{name:kd(r,e),fields:t.value.mapValue.fields}}function Dc(r,e,t){const s=wc(r,e.name),u=Lo(e.updateTime),g=e.createTime?Lo(e.createTime):Rn.min(),y=new ei({mapValue:{fields:e.fields}}),x=wi.newFoundDocument(s,u,g,y);return t&&x.setHasCommittedMutations(),t?x.setHasCommittedMutations():x}function $u(r,e){let t;if(e instanceof vc)t={update:Ep(r,e.key,e.value)};else if(e instanceof bc)t={delete:kd(r,e.key)};else if(e instanceof La)t={update:Ep(r,e.key,e.data),updateMask:Ap(e.fieldMask)};else{if(!(e instanceof Ag))return gn();t={verify:kd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,g){const y=g.transform;if(y instanceof vl)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof mc)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof _c)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof qc)return{fieldPath:g.field.canonicalString(),increment:y.gt};throw gn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:r_(r,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:gn()),t;var u}function Tp(r,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ws.updateTime(Lo(u.updateTime)):void 0!==u.exists?Ws.exists(u.exists):Ws.none():Ws.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(g,y){let x=null;"setToServerValue"in y?(Dn("REQUEST_TIME"===y.setToServerValue),x=new vl):"appendMissingElements"in y?x=new mc(y.appendMissingElements.values||[]):"removeAllFromArray"in y?x=new _c(y.removeAllFromArray.values||[]):"increment"in y?x=new qc(g,y.increment):gn();const j=is.fromServerFormat(y.fieldPath);return new hf(j,x)}(r,u)):[];var u;if(e.update){const u=wc(r,e.update.name),g=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new Hs((e.updateMask.fieldPaths||[]).map(Z=>is.fromServerFormat(Z)));return new La(u,g,y,t,s)}return new vc(u,g,t,s)}if(e.delete){const u=wc(r,e.delete);return new bc(u,t)}if(e.verify){const u=wc(r,e.verify);return new Ag(u,t)}return gn()}function Dh(r,e){return{documents:[vf(r,e.path)]}}function Hu(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=vf(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vf(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(j){if(0!==j.length)return Gg(Di.create(j,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const g=function(j){if(0!==j.length)return j.map(Z=>{return{field:Yc((se=Z).field),direction:s_(se.dir)};var se})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const y=wp(r,e.limit);var x,j;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(x=e.startAt).inclusive,values:x.position}),e.endAt&&(t.structuredQuery.endAt={before:!(j=e.endAt).inclusive,values:j.position}),t}function Cp(r){let e=i_(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let u=null;if(s>0){Dn(1===s);const se=t.from[0];se.allDescendants?u=se.collectionId:e=e.child(se.collectionId)}let g=[];t.where&&(g=function(se){const Ce=Ug(se);return Ce instanceof Di&&fc(Ce)?Ce.getFilters():[Ce]}(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(se=>{return new Wa(Bd((Ce=se).field),function(dt){switch(dt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ce.direction));var Ce}));let x=null;t.limit&&(x=function(se){let Ce;return Ce="object"==typeof se?se.value:se,br(Ce)?null:Ce}(t.limit));let j=null;var se;t.startAt&&(j=new Yo((se=t.startAt).values||[],!!se.before));let Z=null;return t.endAt&&(Z=function(se){return new Yo(se.values||[],!se.before)}(t.endAt)),pc(e,u,y,g,x,"F",j,Z)}function Ug(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bd(e.unaryFilter.field);return Ur.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Bd(e.unaryFilter.field);return Ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bd(e.unaryFilter.field);return Ur.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Bd(e.unaryFilter.field);return Ur.create(g,"!=",{nullValue:"NULL_VALUE"});default:return gn()}}(r):void 0!==r.fieldFilter?Ur.create(Bd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Di.create(e.compositeFilter.filters.map(t=>Ug(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gn()}}(e.compositeFilter.op))}(r):gn();var e}function s_(r){return Cv[r]}function Vg(r){return Sv[r]}function Ld(r){return wh[r]}function Yc(r){return{fieldPath:r.canonicalString()}}function Bd(r){return is.fromServerFormat(r.fieldPath)}function Gg(r){return r instanceof Ur?function(e){if("=="===e.op){if(et(e.value))return{unaryFilter:{field:Yc(e.field),op:"IS_NAN"}};if(Le(e.value))return{unaryFilter:{field:Yc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(et(e.value))return{unaryFilter:{field:Yc(e.field),op:"IS_NOT_NAN"}};if(Le(e.value))return{unaryFilter:{field:Yc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(e.field),op:Vg(e.op),value:e.value}}}(r):r instanceof Di?function(e){const t=e.getFilters().map(s=>Gg(s));return 1===t.length?t[0]:{compositeFilter:{op:Ld(e.op),filters:t}}}(r):gn()}function Ap(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jg(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class wu{constructor(e,t,s,u,g=Rn.min(),y=Rn.min(),x=Ms.EMPTY_BYTE_STRING,j=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=x,this.expectedCount=j}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $g{constructor(e){this.fe=e}}function o_(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:kd(u=r.fe,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Pd(u,g.version.toTimestamp()),createTime:Pd(u,g.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Jl(e.version)};else{if(!e.isUnknownDocument())return gn();s.unknownDocument={path:t.path.toArray(),version:Jl(e.version)}}var u,g;return s}function wf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Jl(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qc(r){const e=new Pi(r.seconds,r.nanoseconds);return Rn.fromTimestamp(e)}function Fl(r,e){const t=(e.baseMutations||[]).map(g=>Tp(r.fe,g));for(let g=0;g<e.mutations.length-1;++g)g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(e.mutations[g].updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g);const s=e.mutations.map(g=>Tp(r.fe,g)),u=Pi.fromMillis(e.localWriteTimeMs);return new Ng(e.batchId,u,t,s)}function zu(r){const e=Qc(r.readTime),t=void 0!==r.lastLimboFreeSnapshotVersion?Qc(r.lastLimboFreeSnapshotVersion):Rn.min();let s;var u;return void 0!==r.query.documents?(Dn(1===(u=r.query).documents.length),s=Os(ju(i_(u.documents[0])))):s=Os(Cp(r.query)),new wu(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Ms.fromBase64String(r.resumeToken))}function zg(r,e){const t=Jl(e.snapshotVersion),s=Jl(e.lastLimboFreeSnapshotVersion);let u;u=yn(e.target)?Dh(r.fe,e.target):Hu(r.fe,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:yt(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function Df(r){const e=Cp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?yu(e,e.limit,"L"):e}function Np(r,e){return new Rd(e.largestBatchId,Tp(r.fe,e.overlayMutation))}function Wg(r,e){const t=e.path.lastSegment();return[r,Mi(e.path.popLast()),t]}function Kg(r,e,t,s){return{indexId:r,uid:e.uid||"",sequenceNumber:t,readTime:Jl(s.readTime),documentKey:Mi(s.documentKey.path),largestBatchId:s.largestBatchId}}class qg{getBundleMetadata(e,t){return Mp(e).get(t).next(s=>{if(s)return{id:(u=s).bundleId,createTime:Qc(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Mp(e).put({bundleId:(s=t).id,createTime:Jl(Lo(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Ef(e).get(t).next(s=>{if(s)return{name:(u=s).name,query:Df(u.bundledQuery),readTime:Qc(u.readTime)};var u})}saveNamedQuery(e,t){return Ef(e).put({name:(s=t).name,readTime:Jl(Lo(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Mp(r){return lo(r,"bundles")}function Ef(r){return lo(r,"namedQueries")}class Ud{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ud(e,t.uid||"")}getOverlay(e,t){return Tf(e).get(Wg(this.userId,t)).next(s=>s?Np(this.serializer,s):null)}getOverlays(e,t){const s=yl();return at.forEach(t,u=>this.getOverlay(e,u).next(g=>{null!==g&&s.set(u,g)})).next(()=>s)}saveOverlays(e,t,s){const u=[];return s.forEach((g,y)=>{const x=new Rd(t,y);u.push(this.we(e,x))}),at.waitFor(u)}removeOverlaysForBatchId(e,t,s){const u=new Set;t.forEach(y=>u.add(Mi(y.getCollectionPath())));const g=[];return u.forEach(y=>{const x=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);g.push(Tf(e).J("collectionPathOverlayIndex",x))}),at.waitFor(g)}getOverlaysForCollection(e,t,s){const u=yl(),g=Mi(t),y=IDBKeyRange.bound([this.userId,g,s],[this.userId,g,Number.POSITIVE_INFINITY],!0);return Tf(e).j("collectionPathOverlayIndex",y).next(x=>{for(const j of x){const Z=Np(this.serializer,j);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,t,s,u){const g=yl();let y;const x=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tf(e).X({index:"collectionGroupOverlayIndex",range:x},(j,Z,se)=>{const Ce=Np(this.serializer,Z);g.size()<u||Ce.largestBatchId===y?(g.set(Ce.getKey(),Ce),y=Ce.largestBatchId):se.done()}).next(()=>g)}we(e,t){return Tf(e).put(function(s,u,g){const[y,x,j]=Wg(u,g.mutation.key);return{userId:u,collectionPath:x,documentId:j,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:$u(s.fe,g.mutation)}}(this.serializer,this.userId,t))}}function Tf(r){return lo(r,"documentOverlays")}class Wu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(zs(e.integerValue));else if("doubleValue"in e){const s=zs(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Ki(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(gl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?sn(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):gn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const u of Object.keys(s))this.Te(u,t),this.me(s[u],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const u of s)this.me(u,t)}ve(e,t){this.ye(t,37),Gt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Eh(r){if(0===r)return 8;let e=0;return!(r>>4)&&(e+=4,r<<=4),!(r>>6)&&(e+=2,r<<=2),!(r>>7)&&(e+=1),e}function Zg(r){const e=64-function(t){let s=0;for(let u=0;u<8;++u){const g=Eh(255&t[u]);if(s+=g,8!==g)break}return s}(r);return Math.ceil(e/8)}Wu.Ve=new Wu;class Op{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.De(s.value),s=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ne(s.value),s=t.next();this.ke()}Me(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.De(s);else if(s<2048)this.De(960|s>>>6),this.De(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.De(480|s>>>12),this.De(128|63&s>>>6),this.De(128|63&s);else{const u=t.codePointAt(0);this.De(240|u>>>18),this.De(128|63&u>>>12),this.De(128|63&u>>>6),this.De(128|63&u)}}this.Ce()}$e(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ne(s);else if(s<2048)this.Ne(960|s>>>6),this.Ne(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s);else{const u=t.codePointAt(0);this.Ne(240|u>>>18),this.Ne(128|63&u>>>12),this.Ne(128|63&u>>>6),this.Ne(128|63&u)}}this.ke()}Oe(e){const t=this.Fe(e),s=Zg(t);this.Be(1+s),this.buffer[this.position++]=255&s;for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Le(e){const t=this.Fe(e),s=Zg(t);this.Be(1+s),this.buffer[this.position++]=~(255&s);for(let u=t.length-s;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(u){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,u,!1),new Uint8Array(g.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let u=1;u<t.length;++u)t[u]^=s?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Ec{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Yg{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Tc{constructor(){this.je=new Op,this.ze=new Ec(this.je),this.We=new Yg(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ku{constructor(e,t,s,u){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=u}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Ku(this.indexId,this.documentKey,this.arrayValue,s)}}function Du(r,e){let t=r.indexId-e.indexId;return 0!==t?t:(t=Qo(r.arrayValue,e.arrayValue),0!==t?t:(t=Qo(r.directionalValue,e.directionalValue),0!==t?t:Gt.comparator(r.documentKey,e.documentKey)))}function Qo(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(0!==s)return s}return r.length-e.length}class Eu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const s=t;s.isInequality()?this.Ze=s:this.Xe.push(s)}}tn(e){Dn(e.collectionGroup===this.collectionId);const t=hl(e);if(void 0!==t&&!this.en(t))return!1;const s=$a(e);let u=0,g=0;for(;u<s.length&&this.en(s[u]);++u);if(u===s.length)return!0;if(void 0!==this.Ze){const y=s[u];if(!this.nn(this.Ze,y)||!this.sn(this.Ye[g++],y))return!1;++u}for(;u<s.length;++u)if(g>=this.Ye.length||!this.sn(this.Ye[g++],s[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function If(r){var e,t;if(Dn(r instanceof Ur||r instanceof Di),r instanceof Ur){if(r instanceof w){const u=(null===(t=null===(e=r.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(g=>Ur.create(r.field,"==",g)))||[];return Di.create(u,"or")}return r}const s=r.filters.map(u=>If(u));return Di.create(s,r.op)}function Qg(r){if(0===r.getFilters().length)return[];const e=Xg(If(r));return Dn(Jg(e)),Rp(e)||Cf(e)?[e]:e.getFilters()}function Rp(r){return r instanceof Ur}function Cf(r){return r instanceof Di&&fc(r)}function Jg(r){return Rp(r)||Cf(r)||function(e){if(e instanceof Di&&ql(e)){for(const t of e.getFilters())if(!Rp(t)&&!Cf(t))return!1;return!0}return!1}(r)}function Xg(r){if(Dn(r instanceof Ur||r instanceof Di),r instanceof Ur)return r;if(1===r.filters.length)return Xg(r.filters[0]);const e=r.filters.map(s=>Xg(s));let t=Di.create(e,r.op);return t=Af(t),Jg(t)?t:(Dn(t instanceof Di),Dn(wa(t)),Dn(t.filters.length>1),t.filters.reduce((s,u)=>Tu(s,u)))}function Tu(r,e){let t;return Dn(r instanceof Ur||r instanceof Di),Dn(e instanceof Ur||e instanceof Di),t=r instanceof Ur?e instanceof Ur?Di.create([r,e],"and"):Sf(r,e):e instanceof Ur?Sf(e,r):function(s,u){if(Dn(s.filters.length>0&&u.filters.length>0),wa(s)&&wa(u))return ip(s,u.getFilters());const g=ql(s)?s:u,y=ql(s)?u:s,x=g.filters.map(j=>Tu(j,y));return Di.create(x,"or")}(r,e),Af(t)}function Sf(r,e){if(wa(e))return ip(e,r.getFilters());{const t=e.filters.map(s=>Tu(r,s));return Di.create(t,"or")}}function Af(r){if(Dn(r instanceof Ur||r instanceof Di),r instanceof Ur)return r;const e=r.getFilters();if(1===e.length)return Af(e[0]);if(xl(r))return r;const t=e.map(u=>Af(u)),s=[];return t.forEach(u=>{u instanceof Ur?s.push(u):u instanceof Di&&(u.op===r.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Di.create(s,r.op)}class a_{constructor(){this.rn=new xp}addToCollectionParentIndex(e,t){return this.rn.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getIndexType(e,t){return at.resolve(0)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,t){return at.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,t){return at.resolve(Ns.min())}updateCollectionGroup(e,t,s){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class xp{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t]||new Ci(Pr.comparator),g=!u.has(s);return this.index[t]=u.add(s),g}has(e){const t=e.lastSegment(),s=e.popLast(),u=this.index[t];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ci(Pr.comparator)).toArray()}}const Th=new Uint8Array(0);class Ll{constructor(e,t){this.user=e,this.databaseId=t,this.on=new xp,this.un=new vu(s=>yt(s),(s,u)=>Xt(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const g={collectionId:s,parent:Mi(u)};return l_(e).put(g)}return at.resolve()}getCollectionParents(e,t){const s=[],u=IDBKeyRange.bound([t,""],[ka(t),""],!1,!0);return l_(e).j(u).next(g=>{for(const y of g){if(y.collectionId!==t)break;s.push(hs(y.parent))}return s})}addFieldIndex(e,t){const s=Vd(e),u={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(x=>[x.fieldPath.canonicalString(),x.kind])};var y;delete u.indexId;const g=s.add(u);if(t.indexState){const y=Ih(e);return g.next(x=>{y.put(Kg(x,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const s=Vd(e),u=Ih(e),g=Jc(e);return s.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Jc(e);let u=!0;const g=new Map;return at.forEach(this.cn(t),y=>this.an(e,y).next(x=>{u&&(u=!!x),g.set(y,x)})).next(()=>{if(u){let y=Hr();const x=[];return at.forEach(g,(j,Z)=>{var se;$t("IndexedDbIndexManager",`Using index ${se=j,`id=${se.indexId}|cg=${se.collectionGroup}|f=${se.fields.map(ti=>`${ti.fieldPath}:${ti.kind}`).join(",")}`} to execute ${yt(t)}`);const Ce=function(ti,Io){const Is=hl(Io);if(void 0===Is)return null;for(const ps of zn(ti,Is.fieldPath))switch(ps.op){case"array-contains-any":return ps.value.arrayValue.values||[];case"array-contains":return[ps.value]}return null}(Z,j),dt=function(ti,Io){const Is=new Map;for(const ps of $a(Io))for(const il of zn(ti,ps.fieldPath))switch(il.op){case"==":case"in":Is.set(ps.fieldPath.canonicalString(),il.value);break;case"not-in":case"!=":return Is.set(ps.fieldPath.canonicalString(),il.value),Array.from(Is.values())}return null}(Z,j),Nt=function(ti,Io){const Is=[];let ps=!0;for(const il of $a(Io)){const uf=0===il.kind?Mr(ti,il.fieldPath,ti.startAt):la(ti,il.fieldPath,ti.startAt);Is.push(uf.value),ps&&(ps=uf.inclusive)}return new Yo(Is,ps)}(Z,j),Zt=function(ti,Io){const Is=[];let ps=!0;for(const il of $a(Io)){const uf=0===il.kind?la(ti,il.fieldPath,ti.endAt):Mr(ti,il.fieldPath,ti.endAt);Is.push(uf.value),ps&&(ps=uf.inclusive)}return new Yo(Is,ps)}(Z,j),Cn=this.hn(j,Z,Nt),An=this.hn(j,Z,Zt),Lr=this.ln(j,Z,dt),Vi=this.fn(j.indexId,Ce,Cn,Nt.inclusive,An,Zt.inclusive,Lr);return at.forEach(Vi,ti=>s.H(ti,t.limit).next(Io=>{Io.forEach(Is=>{const ps=Gt.fromSegments(Is.documentKey);y.has(ps)||(y=y.add(ps),x.push(ps))})}))}).next(()=>x)}return at.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Qg(Di.create(e.filters,"and")).map(s=>Ke(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,s,u,g,y,x){const j=(null!=t?t.length:1)*Math.max(s.length,g.length),Z=j/(null!=t?t.length:1),se=[];for(let Ce=0;Ce<j;++Ce){const dt=t?this.dn(t[Ce/Z]):Th,Nt=this.wn(e,dt,s[Ce%Z],u),Zt=this._n(e,dt,g[Ce%Z],y),Cn=x.map(An=>this.wn(e,dt,An,!0));se.push(...this.createRange(Nt,Zt,Cn))}return se}wn(e,t,s,u){const g=new Ku(e,Gt.empty(),t,s);return u?g:g.Je()}_n(e,t,s,u){const g=new Ku(e,Gt.empty(),t,s);return u?g.Je():g}an(e,t){const s=new Eu(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(g=>{let y=null;for(const x of g)s.tn(x)&&(!y||x.fields.length>y.fields.length)&&(y=x);return y})}getIndexType(e,t){let s=2;const u=this.cn(t);return at.forEach(u,g=>this.an(e,g).next(y=>{y?0!==s&&y.fields.length<function(x){let j=new Ci(is.comparator),Z=!1;for(const se of x.filters)for(const Ce of se.getFlattenedFilters())Ce.field.isKeyField()||("array-contains"===Ce.op||"array-contains-any"===Ce.op?Z=!0:j=j.add(Ce.field));for(const se of x.orderBy)se.field.isKeyField()||(j=j.add(se.field));return j.size+(Z?1:0)}(g)&&(s=1):s=0})).next(()=>null!==t.limit&&u.length>1&&2===s?1:s)}mn(e,t){const s=new Tc;for(const u of $a(e)){const g=t.data.field(u.fieldPath);if(null==g)return null;const y=s.He(u.kind);Wu.Ve._e(g,y)}return s.Qe()}dn(e){const t=new Tc;return Wu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const s=new Tc;return Wu.Ve._e(L(this.databaseId,t),s.He(function(u){const g=$a(u);return 0===g.length?0:g[g.length-1].kind}(e))),s.Qe()}ln(e,t,s){if(null===s)return[];let u=[];u.push(new Tc);let g=0;for(const y of $a(e)){const x=s[g++];for(const j of u)if(this.yn(t,y.fieldPath)&&pe(x))u=this.pn(u,y,x);else{const Z=j.He(y.kind);Wu.Ve._e(x,Z)}}return this.In(u)}hn(e,t,s){return this.ln(e,t,s.position)}In(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Qe();return t}pn(e,t,s){const u=[...e],g=[];for(const y of s.arrayValue.values||[])for(const x of u){const j=new Tc;j.seed(x.Qe()),Wu.Ve._e(y,j.He(t.kind)),g.push(j)}return g}yn(e,t){return!!e.filters.find(s=>s instanceof Ur&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=Vd(e),u=Ih(e);return(t?s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.j()).next(g=>{const y=[];return at.forEach(g,x=>u.get([x.indexId,this.uid]).next(j=>{y.push(function(Z,se){const Ce=se?new hu(se.sequenceNumber,new Ns(Qc(se.readTime),new Gt(hs(se.documentKey)),se.largestBatchId)):hu.empty(),dt=Z.fields.map(([Nt,Zt])=>new du(is.fromServerFormat(Nt),Zt));return new Al(Z.indexId,Z.collectionGroup,dt,Ce)}(x,j))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,u)=>{const g=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==g?g:dr(s.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const u=Vd(e),g=Ih(e);return this.Tn(e).next(y=>u.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(x=>at.forEach(x,j=>g.put(Kg(j.indexId,this.user,y,s)))))}updateIndexEntries(e,t){const s=new Map;return at.forEach(t,(u,g)=>{const y=s.get(u.collectionGroup);return(y?at.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(x=>(s.set(u.collectionGroup,x),at.forEach(x,j=>this.En(e,u,j).next(Z=>{const se=this.An(g,j);return Z.isEqual(se)?at.resolve():this.vn(e,g,j,Z,se)}))))})}Rn(e,t,s,u){return Jc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.gn(s,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,s,u){return Jc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.gn(s,t.key),t.key.path.toArray()])}En(e,t,s){const u=Jc(e);let g=new Ci(Du);return u.X({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.gn(s,t)])},(y,x)=>{g=g.add(new Ku(s.indexId,t,x.arrayValue,x.directionalValue))}).next(()=>g)}An(e,t){let s=new Ci(Du);const u=this.mn(t,e);if(null==u)return s;const g=hl(t);if(null!=g){const y=e.data.field(g.fieldPath);if(pe(y))for(const x of y.arrayValue.values||[])s=s.add(new Ku(t.indexId,e.key,this.dn(x),u))}else s=s.add(new Ku(t.indexId,e.key,Th,u));return s}vn(e,t,s,u,g){$t("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(x,j,Z,se,Ce){const dt=x.getIterator(),Nt=j.getIterator();let Zt=pl(dt),Cn=pl(Nt);for(;Zt||Cn;){let An=!1,Lr=!1;if(Zt&&Cn){const Vi=Z(Zt,Cn);Vi<0?Lr=!0:Vi>0&&(An=!0)}else null!=Zt?Lr=!0:An=!0;An?(se(Cn),Cn=pl(Nt)):Lr?(Ce(Zt),Zt=pl(dt)):(Zt=pl(dt),Cn=pl(Nt))}}(u,g,Du,x=>{y.push(this.Rn(e,t,s,x))},x=>{y.push(this.Pn(e,t,s,x))}),at.waitFor(y)}Tn(e){let t=1;return Ih(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,g)=>{g.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((y,x)=>Du(y,x)).filter((y,x,j)=>!x||0!==Du(y,j[x-1]));const u=[];u.push(e);for(const y of s){const x=Du(y,e),j=Du(y,t);if(0===x)u[0]=e.Je();else if(x>0&&j<0)u.push(y),u.push(y.Je());else if(j>0)break}u.push(t);const g=[];for(let y=0;y<u.length;y+=2){if(this.bn(u[y],u[y+1]))return[];g.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,Th,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,Th,[]]))}return g}bn(e,t){return Du(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pp)}getMinOffset(e,t){return at.mapArray(this.cn(t),s=>this.an(e,s).next(u=>u||gn())).next(Pp)}}function l_(r){return lo(r,"collectionParents")}function Jc(r){return lo(r,"indexEntries")}function Vd(r){return lo(r,"indexConfiguration")}function Ih(r){return lo(r,"indexState")}function Pp(r){Dn(0!==r.length);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const u=r[s].indexState.offset;ls(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Ns(e.readTime,e.documentKey,t)}const em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ch(r,e,t){const s=r.store("mutations"),u=r.store("documentMutations"),g=[],y=IDBKeyRange.only(t.batchId);let x=0;const j=s.X({range:y},(se,Ce,dt)=>(x++,dt.delete()));g.push(j.next(()=>{Dn(1===x)}));const Z=[];for(const se of t.mutations){const Ce=Ol(e,se.key.path,t.batchId);g.push(u.delete(Ce)),Z.push(se.key)}return at.waitFor(g).next(()=>Z)}function Xc(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw gn();e=r.noDocument}return JSON.stringify(e).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class ed{constructor(e,t,s,u){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=u,this.Vn={}}static de(e,t,s,u){Dn(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new ed(g,t,s,u)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).X({index:"userMutationsIndex",range:s},(u,g,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,s,u){const g=Ka(e),y=Xl(e);return y.add({}).next(x=>{Dn("number"==typeof x);const j=new Ng(x,t,s,u),Z=function(dt,Nt,Zt){const Cn=Zt.baseMutations.map(Lr=>$u(dt.fe,Lr)),An=Zt.mutations.map(Lr=>$u(dt.fe,Lr));return{userId:Nt,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:Cn,mutations:An}}(this.serializer,this.userId,j),se=[];let Ce=new Ci((dt,Nt)=>dr(dt.canonicalString(),Nt.canonicalString()));for(const dt of u){const Nt=Ol(this.userId,dt.key.path,x);Ce=Ce.add(dt.key.path.popLast()),se.push(y.put(Z)),se.push(g.put(Nt,vd))}return Ce.forEach(dt=>{se.push(this.indexManager.addToCollectionParentIndex(e,dt))}),e.addOnCommittedListener(()=>{this.Vn[x]=j.keys()}),at.waitFor(se).next(()=>j)})}lookupMutationBatch(e,t){return Xl(e).get(t).next(s=>s?(Dn(s.userId===this.userId),Fl(this.serializer,s)):null)}Sn(e,t){return this.Vn[t]?at.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const u=s.keys();return this.Vn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]);let g=null;return Xl(e).X({index:"userMutationsIndex",range:u},(y,x,j)=>{x.userId===this.userId&&(Dn(x.batchId>=s),g=Fl(this.serializer,x)),j.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Xl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(u,g,y)=>{s=g.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xl(e).j("userMutationsIndex",t).next(s=>s.map(u=>Fl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Hl(this.userId,t.path),u=IDBKeyRange.lowerBound(s),g=[];return Ka(e).X({range:u},(y,x,j)=>{const[Z,se,Ce]=y,dt=hs(se);if(Z===this.userId&&t.path.isEqual(dt))return Xl(e).get(Ce).next(Nt=>{if(!Nt)throw gn();Dn(Nt.userId===this.userId),g.push(Fl(this.serializer,Nt))});j.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ci(dr);const u=[];return t.forEach(g=>{const y=Hl(this.userId,g.path),x=IDBKeyRange.lowerBound(y),j=Ka(e).X({range:x},(Z,se,Ce)=>{const[dt,Nt,Zt]=Z,Cn=hs(Nt);dt===this.userId&&g.path.isEqual(Cn)?s=s.add(Zt):Ce.done()});u.push(j)}),at.waitFor(u).next(()=>this.Dn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1,g=Hl(this.userId,s),y=IDBKeyRange.lowerBound(g);let x=new Ci(dr);return Ka(e).X({range:y},(j,Z,se)=>{const[Ce,dt,Nt]=j,Zt=hs(dt);Ce===this.userId&&s.isPrefixOf(Zt)?Zt.length===u&&(x=x.add(Nt)):se.done()}).next(()=>this.Dn(e,x))}Dn(e,t){const s=[],u=[];return t.forEach(g=>{u.push(Xl(e).get(g).next(y=>{if(null===y)throw gn();Dn(y.userId===this.userId),s.push(Fl(this.serializer,y))}))}),at.waitFor(u).next(()=>s)}removeMutationBatch(e,t){return Ch(e.ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),at.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Ka(e).X({range:s},(g,y,x)=>{if(g[0]===this.userId){const j=hs(g[1]);u.push(j)}else x.done()}).next(()=>{Dn(0===u.length)})})}containsKey(e,t){return kr(e,this.userId,t)}xn(e){return Sh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kr(r,e,t){const s=Hl(e,t.path),u=s[1],g=IDBKeyRange.lowerBound(s);let y=!1;return Ka(r).X({range:g,Y:!0},(x,j,Z)=>{const[se,Ce,dt]=x;se===e&&Ce===u&&(y=!0),Z.done()}).next(()=>y)}function Xl(r){return lo(r,"mutations")}function Ka(r){return lo(r,"documentMutations")}function Sh(r){return lo(r,"mutationQueues")}class Iu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Iu(0)}static Mn(){return new Iu(-1)}}class u_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const s=new Iu(t.highestTargetId);return t.highestTargetId=s.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Rn.fromTimestamp(new Pi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.$n(e).next(u=>(u.highestListenSequenceNumber=t,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.On(e,u)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(s=>(s.targetCount+=1,this.Bn(t,s),this.On(e,s))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>eu(e).delete(t.targetId)).next(()=>this.$n(e)).next(s=>(Dn(s.targetCount>0),s.targetCount-=1,this.On(e,s)))}removeTargets(e,t,s){let u=0;const g=[];return eu(e).X((y,x)=>{const j=zu(x);j.sequenceNumber<=t&&null===s.get(j.targetId)&&(u++,g.push(this.removeTargetData(e,j)))}).next(()=>at.waitFor(g)).next(()=>u)}forEachTarget(e,t){return eu(e).X((s,u)=>{const g=zu(u);t(g)})}$n(e){return kp(e).get("targetGlobalKey").next(t=>(Dn(null!==t),t))}On(e,t){return kp(e).put("targetGlobalKey",t)}Fn(e,t){return eu(e).put(zg(this.serializer,t))}Bn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const s=yt(t),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let g=null;return eu(e).X({range:u,index:"queryTargetsIndex"},(y,x,j)=>{const Z=zu(x);Xt(t,Z.target)&&(g=Z,j.done())}).next(()=>g)}addMatchingKeys(e,t,s){const u=[],g=qu(e);return t.forEach(y=>{const x=Mi(y.path);u.push(g.put({targetId:s,path:x})),u.push(this.referenceDelegate.addReference(e,s,y))}),at.waitFor(u)}removeMatchingKeys(e,t,s){const u=qu(e);return at.forEach(t,g=>{const y=Mi(g.path);return at.waitFor([u.delete([s,y]),this.referenceDelegate.removeReference(e,s,g)])})}removeMatchingKeysForTargetId(e,t){const s=qu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),u=qu(e);let g=Hr();return u.X({range:s,Y:!0},(y,x,j)=>{const Z=hs(y[1]),se=new Gt(Z);g=g.add(se)}).next(()=>g)}containsKey(e,t){const s=Mi(t.path),u=IDBKeyRange.bound([s],[ka(s)],!1,!0);let g=0;return qu(e).X({index:"documentTargetsIndex",Y:!0,range:u},([y,x],j,Z)=>{0!==y&&(g++,Z.done())}).next(()=>g>0)}le(e,t){return eu(e).get(t).next(s=>s?zu(s):null)}}function eu(r){return lo(r,"targets")}function kp(r){return lo(r,"targetGlobal")}function qu(r){return lo(r,"targetDocuments")}function Fp([r,e],[t,s]){const u=dr(r,t);return 0===u?dr(e,s):u}class Ic{constructor(e){this.Ln=e,this.buffer=new Ci(Fp),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Fp(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tm{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;$t("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){k(s)?$t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Eo(s)}yield t.Qn(3e5)}))}}class Lp{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return at.resolve(nn.ct);const s=new Ic(t);return this.jn.forEachTarget(e,u=>s.Kn(u.sequenceNumber)).next(()=>this.jn.Wn(e,u=>s.Kn(u))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.jn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(em)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?($t("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),em):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let s,u,g,y,x,j,Z;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?($t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),u=this.params.maximumSequenceNumbersToCollect):u=Ce,y=Date.now(),this.nthSequenceNumber(e,u))).next(Ce=>(s=Ce,x=Date.now(),this.removeTargets(e,s,t))).next(Ce=>(g=Ce,j=Date.now(),this.removeOrphanedDocuments(e,s))).next(Ce=>(Z=Date.now(),so()<=Ae.in.DEBUG&&$t("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-se}ms\n\tDetermined least recently used ${u} in `+(x-y)+`ms\n\tRemoved ${g} targets in `+(j-x)+`ms\n\tRemoved ${Ce} documents in `+(Z-j)+`ms\nTotal Duration: ${Z-se}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:g,documentsRemoved:Ce})))}}class bl{constructor(e,t){this.db=e,this.garbageCollector=function Bl(r,e){return new Lp(r,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(u=>s+u))}Jn(e){let t=0;return this.Wn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(s,u)=>t(u))}addReference(e,t,s){return Cc(e,s)}removeReference(e,t,s){return Cc(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Cc(e,t)}Xn(e,t){return function(s,u){let g=!1;return Sh(s).Z(y=>kr(s,y,u).next(x=>(x&&(g=!0),at.resolve(!x)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let g=0;return this.Yn(e,(y,x)=>{if(x<=t){const j=this.Xn(e,y).next(Z=>{if(!Z)return g++,s.getEntry(e,y).next(()=>(s.removeEntry(y,Rn.min()),qu(e).delete([0,Mi(y.path)])))});u.push(j)}}).next(()=>at.waitFor(u)).next(()=>s.apply(e)).next(()=>g)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Cc(e,t)}Yn(e,t){const s=qu(e);let u,g=nn.ct;return s.X({index:"documentTargetsIndex"},([y,x],{path:j,sequenceNumber:Z})=>{0===y?(g!==nn.ct&&t(new Gt(hs(u)),g),g=Z,u=j):g=nn.ct}).next(()=>{g!==nn.ct&&t(new Gt(hs(u)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cc(r,e){return qu(r).put((s=r.currentSequenceNumber,{targetId:0,path:Mi(e.path),sequenceNumber:s}));var s}class Nf{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?at.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ah{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Gd(e).put(s)}removeEntry(e,t,s){return Gd(e).delete(function(u,g){const y=u.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],wf(g),y[y.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Zn(e,s)))}getEntry(e,t){let s=wi.newInvalidDocument(t);return Gd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(u,g)=>{s=this.ts(t,g)}).next(()=>s)}es(e,t){let s={size:0,document:wi.newInvalidDocument(t)};return Gd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(td(t))},(u,g)=>{s={document:this.ts(t,g),size:Xc(g)}}).next(()=>s)}getEntries(e,t){let s=rl();return this.ns(e,t,(u,g)=>{const y=this.ts(u,g);s=s.insert(u,y)}).next(()=>s)}ss(e,t){let s=rl(),u=new qi(Gt.comparator);return this.ns(e,t,(g,y)=>{const x=this.ts(g,y);s=s.insert(g,x),u=u.insert(g,Xc(y))}).next(()=>({documents:s,rs:u}))}ns(e,t,s){if(t.isEmpty())return at.resolve();let u=new Ci(c_);t.forEach(j=>u=u.add(j));const g=IDBKeyRange.bound(td(u.first()),td(u.last())),y=u.getIterator();let x=y.getNext();return Gd(e).X({index:"documentKeyIndex",range:g},(j,Z,se)=>{const Ce=Gt.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;x&&c_(x,Ce)<0;)s(x,null),x=y.getNext();x&&x.isEqual(Ce)&&(s(x,Z),x=y.hasNext()?y.getNext():null),x?se.G(td(x)):se.done()}).next(()=>{for(;x;)s(x,null),x=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(e,t,s,u){const g=t.path,y=[g.popLast().toArray(),g.lastSegment(),wf(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],x=[g.popLast().toArray(),g.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Gd(e).j(IDBKeyRange.bound(y,x,!0)).next(j=>{let Z=rl();for(const se of j){const Ce=this.ts(Gt.fromSegments(se.prefixPath.concat(se.collectionGroup,se.documentId)),se);Ce.isFoundDocument()&&(zc(t,Ce)||u.has(Ce.key))&&(Z=Z.insert(Ce.key,Ce))}return Z})}getAllFromCollectionGroup(e,t,s,u){let g=rl();const y=Up(t,s),x=Up(t,Ns.max());return Gd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,x,!0)},(j,Z,se)=>{const Ce=this.ts(Gt.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);g=g.insert(Ce.key,Ce),g.size===u&&se.done()}).next(()=>g)}newChangeBuffer(e){return new Mf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Of(e).get("remoteDocumentGlobalKey").next(t=>(Dn(!!t),t))}Zn(e,t){return Of(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const s=function Hg(r,e){let t;if(e.document)t=Dc(r.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Gt.fromSegments(e.noDocument.path),u=Qc(e.noDocument.readTime);t=wi.newNoDocument(s,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gn();{const s=Gt.fromSegments(e.unknownDocument.path),u=Qc(e.unknownDocument.version);t=wi.newUnknownDocument(s,u)}}return e.readTime&&t.setReadTime(function(s){const u=new Pi(s[0],s[1]);return Rn.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!s.isNoDocument()||!s.version.isEqual(Rn.min()))return s}return wi.newInvalidDocument(e)}}function Bp(r){return new Ah(r)}class Mf extends Nf{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new vu(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const t=[];let s=0,u=new Ci((g,y)=>dr(g.canonicalString(),y.canonicalString()));return this.changes.forEach((g,y)=>{const x=this.us.get(g);if(t.push(this.os.removeEntry(e,g,x.readTime)),y.isValidDocument()){const j=o_(this.os.serializer,y);u=u.add(g.path.popLast());const Z=Xc(j);s+=Z-x.size,t.push(this.os.addEntry(e,g,j))}else if(s-=x.size,this.trackRemovals){const j=o_(this.os.serializer,y.convertToNoDocument(Rn.min()));t.push(this.os.addEntry(e,g,j))}}),u.forEach(g=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.os.updateMetadata(e,s)),at.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(s=>(this.us.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:s,rs:u})=>(u.forEach((g,y)=>{this.us.set(g,{size:y,readTime:s.get(g).readTime})}),s))}}function Of(r){return lo(r,"remoteDocumentGlobal")}function Gd(r){return lo(r,"remoteDocumentsV14")}function td(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Up(r,e){const t=e.documentKey.path.toArray();return[r,wf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function c_(r,e){const t=r.path.toArray(),s=e.path.toArray();let u=0;for(let g=0;g<t.length-2&&g<s.length-2;++g)if(u=dr(t[g],s[g]),u)return u;return u=dr(t.length,s.length),u||(u=dr(t[t.length-2],s[s.length-2]),u||dr(t[t.length-1],s[s.length-1]))}class d_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xo{constructor(e,t,s,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==s&&mf(s.mutation,u,Hs.empty(),Pi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Hr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Hr()){const u=yl();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,s).next(g=>{let y=Md();return g.forEach((x,j)=>{y=y.insert(x,j.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const s=yl();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Hr()))}populateOverlays(e,t,s){const u=[];return s.forEach(g=>{t.has(g)||u.push(g)}),this.documentOverlayCache.getOverlays(e,u).next(g=>{g.forEach((y,x)=>{t.set(y,x)})})}computeViews(e,t,s,u){let g=rl();const y=bu(),x=bu();return t.forEach((j,Z)=>{const se=s.get(Z.key);u.has(Z.key)&&(void 0===se||se.mutation instanceof La)?g=g.insert(Z.key,Z):void 0!==se?(y.set(Z.key,se.mutation.getFieldMask()),mf(se.mutation,Z,se.mutation.getFieldMask(),Pi.now())):y.set(Z.key,Hs.empty())}),this.recalculateAndSaveOverlays(e,g).next(j=>(j.forEach((Z,se)=>y.set(Z,se)),t.forEach((Z,se)=>{var Ce;return x.set(Z,new d_(se,null!==(Ce=y.get(Z))&&void 0!==Ce?Ce:null))}),x))}recalculateAndSaveOverlays(e,t){const s=bu();let u=new qi((y,x)=>y-x),g=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const x of y)x.keys().forEach(j=>{const Z=t.get(j);if(null===Z)return;let se=s.get(j)||Hs.empty();se=x.applyToLocalView(Z,se),s.set(j,se);const Ce=(u.get(x.batchId)||Hr()).add(j);u=u.insert(x.batchId,Ce)})}).next(()=>{const y=[],x=u.getReverseIterator();for(;x.hasNext();){const j=x.getNext(),Z=j.key,se=j.value,Ce=gh();se.forEach(dt=>{if(!g.has(dt)){const Nt=gf(t.get(dt),s.get(dt));null!==Nt&&Ce.set(dt,Nt),g=g.add(dt)}}),y.push(this.documentOverlayCache.saveOverlays(e,Z,Ce))}return at.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Gt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var u}getNextDocuments(e,t,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,u).next(g=>{const y=u-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,u-g.size):at.resolve(yl());let x=-1,j=g;return y.next(Z=>at.forEach(Z,(se,Ce)=>(x<Ce.largestBatchId&&(x=Ce.largestBatchId),g.get(se)?at.resolve():this.remoteDocumentCache.getEntry(e,se).next(dt=>{j=j.insert(se,dt)}))).next(()=>this.populateOverlays(e,Z,g)).next(()=>this.computeViews(e,j,Z,Hr())).next(se=>({batchId:x,changes:df(se)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gt(t)).next(s=>{let u=Md();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const u=t.collectionGroup;let g=Md();return this.indexManager.getCollectionParents(e,u).next(y=>at.forEach(y,x=>{const j=(Z=t,se=x.child(u),new ua(se,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,se;return this.getDocumentsMatchingCollectionQuery(e,j,s).next(Z=>{Z.forEach((se,Ce)=>{g=g.insert(se,Ce)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,s){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(g=>(u=g,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u))).next(g=>{u.forEach((x,j)=>{const Z=j.getKey();null===g.get(Z)&&(g=g.insert(Z,wi.newInvalidDocument(Z)))});let y=Md();return g.forEach((x,j)=>{const Z=u.get(x);void 0!==Z&&mf(Z.mutation,j,Hs.empty(),Pi.now()),zc(t,j)&&(y=y.insert(x,j))}),y})}}class nm{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return at.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Lo(s.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Df(s.bundledQuery),readTime:Lo(s.readTime)}),at.resolve();var s}}class Nh{constructor(){this.overlays=new qi(Gt.comparator),this.ls=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}getOverlays(e,t){const s=yl();return at.forEach(t,u=>this.getOverlay(e,u).next(g=>{null!==g&&s.set(u,g)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((u,g)=>{this.we(e,t,g)}),at.resolve()}removeOverlaysForBatchId(e,t,s){const u=this.ls.get(s);return void 0!==u&&(u.forEach(g=>this.overlays=this.overlays.remove(g)),this.ls.delete(s)),at.resolve()}getOverlaysForCollection(e,t,s){const u=yl(),g=t.length+1,y=new Gt(t.child("")),x=this.overlays.getIteratorFrom(y);for(;x.hasNext();){const j=x.getNext().value,Z=j.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===g&&j.largestBatchId>s&&u.set(j.getKey(),j)}return at.resolve(u)}getOverlaysForCollectionGroup(e,t,s,u){let g=new qi((Z,se)=>Z-se);const y=this.overlays.getIterator();for(;y.hasNext();){const Z=y.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>s){let se=g.get(Z.largestBatchId);null===se&&(se=yl(),g=g.insert(Z.largestBatchId,se)),se.set(Z.getKey(),Z)}}const x=yl(),j=g.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((Z,se)=>x.set(Z,se)),!(x.size()>=u)););return at.resolve(x)}we(e,t,s){const u=this.overlays.get(s.key);if(null!==u){const y=this.ls.get(u.largestBatchId).delete(s.key);this.ls.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new Rd(t,s));let g=this.ls.get(t);void 0===g&&(g=Hr(),this.ls.set(t,g)),this.ls.set(t,g.add(s.key))}}class Zu{constructor(){this.fs=new Ci(ca.ds),this.ws=new Ci(ca._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new ca(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new ca(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Gt(new Pr([])),s=new ca(t,e),u=new ca(t,e+1),g=[];return this.ws.forEachInRange([s,u],y=>{this.ys(y),g.push(y.key)}),g}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Gt(new Pr([])),s=new ca(t,e),u=new ca(t,e+1);let g=Hr();return this.ws.forEachInRange([s,u],y=>{g=g.add(y.key)}),g}containsKey(e){const t=new ca(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class ca{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Gt.comparator(e.key,t.key)||dr(e.As,t.As)}static _s(e,t){return dr(e.As,t.As)||Gt.comparator(e.key,t.key)}}class rm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ci(ca.ds)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,u){const g=this.vs;this.vs++;const y=new Ng(g,t,s,u);this.mutationQueue.push(y);for(const x of u)this.Rs=this.Rs.add(new ca(x.key,g)),this.indexManager.addToCollectionParentIndex(e,x.key.path.popLast());return at.resolve(y)}lookupMutationBatch(e,t){return at.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.bs(t+1),g=u<0?0:u;return at.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new ca(t,0),u=new ca(t,Number.POSITIVE_INFINITY),g=[];return this.Rs.forEachInRange([s,u],y=>{const x=this.Ps(y.As);g.push(x)}),at.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ci(dr);return t.forEach(u=>{const g=new ca(u,0),y=new ca(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([g,y],x=>{s=s.add(x.As)})}),at.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,u=s.length+1;let g=s;Gt.isDocumentKey(g)||(g=g.child(""));const y=new ca(new Gt(g),0);let x=new Ci(dr);return this.Rs.forEachWhile(j=>{const Z=j.key.path;return!!s.isPrefixOf(Z)&&(Z.length===u&&(x=x.add(j.As)),!0)},y),at.resolve(this.Vs(x))}Vs(e){const t=[];return e.forEach(s=>{const u=this.Ps(s);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Dn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return at.forEach(t.mutations,u=>{const g=new ca(u.key,t.batchId);return s=s.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new ca(t,0),u=this.Rs.firstAfterOrEqual(s);return at.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return at.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class h_{constructor(e){this.Ds=e,this.docs=new qi(Gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,u=this.docs.get(s),g=u?u.size:0,y=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:y}),this.size+=y-g,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return at.resolve(s?s.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let s=rl();return t.forEach(u=>{const g=this.docs.get(u);s=s.insert(u,g?g.document.mutableCopy():wi.newInvalidDocument(u))}),at.resolve(s)}getDocumentsMatchingQuery(e,t,s,u){let g=rl();const y=t.path,x=new Gt(y.child("")),j=this.docs.getIteratorFrom(x);for(;j.hasNext();){const{key:Z,value:{document:se}}=j.getNext();if(!y.isPrefixOf(Z.path))break;Z.path.length>y.length+1||ls(Pc(se),s)<=0||(u.has(se.key)||zc(t,se))&&(g=g.insert(se.key,se.mutableCopy()))}return at.resolve(g)}getAllFromCollectionGroup(e,t,s,u){gn()}Cs(e,t){return at.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new hy(this)}getSize(e){return at.resolve(this.size)}}class hy extends Nf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?t.push(this.os.addEntry(e,u)):this.os.removeEntry(s)}),at.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class fy{constructor(e){this.persistence=e,this.xs=new vu(t=>yt(t),Xt),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zu,this.targetCount=0,this.Ms=Iu.kn()}forEachTarget(e,t){return this.xs.forEach((s,u)=>t(u)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),at.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Fn(t),at.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,s){let u=0;const g=[];return this.xs.forEach((y,x)=>{x.sequenceNumber<=t&&null===s.get(x.targetId)&&(this.xs.delete(y),g.push(this.removeMatchingKeysForTargetId(e,x.targetId)),u++)}),at.waitFor(g).next(()=>u)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return at.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),at.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const u=this.persistence.referenceDelegate,g=[];return u&&t.forEach(y=>{g.push(u.markPotentiallyOrphaned(e,y))}),at.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),at.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return at.resolve(s)}containsKey(e,t){return at.resolve(this.ks.containsKey(t))}}class jd{constructor(e,t){this.$s={},this.overlays={},this.Os=new nn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fy(this),this.indexManager=new a_,this.remoteDocumentCache=new h_(s=>this.referenceDelegate.Ls(s)),this.serializer=new $g(t),this.qs=new nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Nh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new rm(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){$t("MemoryPersistence","Starting transaction:",e);const u=new f_(this.Os.next());return this.referenceDelegate.Us(),s(u).next(g=>this.referenceDelegate.Ks(u).next(()=>g)).toPromise().then(g=>(u.raiseOnCommittedEvent(),g))}Gs(e,t){return at.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class f_ extends ss{constructor(e){super(),this.currentSequenceNumber=e}}class Mh{constructor(e){this.persistence=e,this.Qs=new Zu,this.js=null}static zs(e){return new Mh(e)}get Ws(){if(this.js)return this.js;throw gn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),at.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),at.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(u=>this.Ws.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(g=>this.Ws.add(g.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ws,s=>{const u=Gt.fromPath(s);return this.Hs(e,u).next(g=>{g||t.removeEntry(u,Rn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return at.or([()=>at.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Oh{constructor(e){this.serializer=e}O(e,t,s,u){const g=new Ml("createOrUpgrade",t);var x;s<1&&u>=1&&(e.createObjectStore("owner"),(x=e).createObjectStore("mutationQueues",{keyPath:"userId"}),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ao,{unique:!0}),x.createObjectStore("documentMutations"),$d(e),function(x){x.createObjectStore("remoteDocuments")}(e));let y=at.resolve();return s<3&&u>=3&&(0!==s&&(function(x){x.deleteObjectStore("targetDocuments"),x.deleteObjectStore("targets"),x.deleteObjectStore("targetGlobal")}(e),$d(e)),y=y.next(()=>function(x){const j=x.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",Z)}(g))),s<4&&u>=4&&(0!==s&&(y=y.next(()=>function(x,j){return j.store("mutations").j().next(Z=>{x.deleteObjectStore("mutations"),x.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ao,{unique:!0});const se=j.store("mutations"),Ce=Z.map(dt=>se.put(dt));return at.waitFor(Ce)})}(e,g))),y=y.next(()=>{!function(x){x.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(y=y.next(()=>this.Ys(g))),s<6&&u>=6&&(y=y.next(()=>(function(x){x.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(g)))),s<7&&u>=7&&(y=y.next(()=>this.Zs(g))),s<8&&u>=8&&(y=y.next(()=>this.ti(e,g))),s<9&&u>=9&&(y=y.next(()=>{!function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(y=y.next(()=>this.ei(g))),s<11&&u>=11&&(y=y.next(()=>{(function(x){x.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(x){x.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(y=y.next(()=>{!function(x){const j=x.createObjectStore("documentOverlays",{keyPath:hh});j.createIndex("collectionPathOverlayIndex",wd,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Fc,{unique:!1})}(e)})),s<13&&u>=13&&(y=y.next(()=>function(x){const j=x.createObjectStore("remoteDocumentsV14",{keyPath:$r});j.createIndex("documentKeyIndex",kc),j.createIndex("collectionGroupIndex",oc)}(e)).next(()=>this.ni(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(y=y.next(()=>this.si(e,g))),s<15&&u>=15&&(y=y.next(()=>function(x){x.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),x.createObjectStore("indexState",{keyPath:ac}).createIndex("sequenceNumberIndex",tl,{unique:!1}),x.createObjectStore("indexEntries",{keyPath:zl}).createIndex("documentKeyIndex",bd,{unique:!1})}(e))),y}Xs(e){let t=0;return e.store("remoteDocuments").X((s,u)=>{t+=Xc(u)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Ys(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.j().next(u=>at.forEach(u,g=>{const y=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return s.j("userMutationsIndex",y).next(x=>at.forEach(x,j=>{Dn(j.userId===g.userId);const Z=Fl(this.serializer,j);return Ch(e,g.userId,Z).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const g=[];return s.X((y,x)=>{const j=new Pr(y),Z=[0,Mi(j)];g.push(t.get(Z).next(se=>se?at.resolve():t.put({targetId:0,path:Mi(j),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(g))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:fu});const s=t.store("collectionParents"),u=new xp,g=y=>{if(u.add(y)){const x=y.lastSegment(),j=y.popLast();return s.put({collectionId:x,parent:Mi(j)})}};return t.store("remoteDocuments").X({Y:!0},(y,x)=>{const j=new Pr(y);return g(j.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([y,x,j],Z)=>{const se=hs(x);return g(se.popLast())}))}ei(e){const t=e.store("targets");return t.X((s,u)=>{const g=zu(u),y=zg(this.serializer,g);return t.put(y)})}ni(e,t){const s=t.store("remoteDocuments"),u=[];return s.X((g,y)=>{const x=t.store("remoteDocumentsV14"),j=(Z=y,Z.document?new Gt(Pr.fromString(Z.document.name).popFirst(5)):Z.noDocument?Gt.fromSegments(Z.noDocument.path):Z.unknownDocument?Gt.fromSegments(Z.unknownDocument.path):gn()).path.toArray();var Z;const se={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};u.push(x.put(se))}).next(()=>at.waitFor(u))}si(e,t){const s=t.store("mutations"),u=Bp(this.serializer),g=new jd(Mh.zs,this.serializer.fe);return s.j().next(y=>{const x=new Map;return y.forEach(j=>{var Z;let se=null!==(Z=x.get(j.userId))&&void 0!==Z?Z:Hr();Fl(this.serializer,j).keys().forEach(Ce=>se=se.add(Ce)),x.set(j.userId,se)}),at.forEach(x,(j,Z)=>{const se=new rs(Z),Ce=Ud.de(this.serializer,se),dt=g.getIndexManager(se),Nt=ed.de(se,this.serializer,dt,g.referenceDelegate);return new Xo(u,Nt,Ce,dt).recalculateAndSaveOverlaysForDocumentKeys(new uc(t,nn.ct),j).next()})})}}function $d(r){r.createObjectStore("targetDocuments",{keyPath:Lu}).createIndex("documentTargetsIndex",dh,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ha,{unique:!0}),r.createObjectStore("targetGlobal")}const Hd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vp{constructor(e,t,s,u,g,y,x,j,Z,se,Ce=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.ii=g,this.window=y,this.document=x,this.ri=Z,this.oi=se,this.ui=Ce,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=dt=>Promise.resolve(),!Vp.D())throw new Bt(_t.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bl(this,u),this.di=t+"main",this.serializer=new $g(j),this.wi=new A(this.di,this.ui,new Oh(this.serializer)),this.Bs=new u_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Bp(this.serializer),this.qs=new qg,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===se&&fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bt(_t.FAILED_PRECONDITION,Hd);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new nn(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var s=(0,me.Z)(function*(u){if(t.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,me.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(k(e))return $t("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return nd(e).get("owner").next(t=>at.resolve(this.Ri(t)))}Pi(e){return zd(e).delete(this.clientId)}bi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=lo(s,"clientMetadata");return u.j().next(g=>{const y=e.Si(g,18e5),x=g.filter(j=>-1===y.indexOf(j));return at.forEach(x,j=>u.delete(j.clientId)).next(()=>x)})}).catch(()=>[]);if(e._i)for(const s of t)e._i.removeItem(e.Di(s.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?at.resolve(!0):nd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Bt(_t.FAILED_PRECONDITION,Hd);return!1}}return!(!this.networkEnabled||!this.inForeground)||zd(e).j().next(s=>void 0===this.Si(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(t=>(this.isPrimary!==t&&$t("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new uc(t,nn.ct);return e.Ai(s).next(()=>e.Pi(s))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(s=>this.Vi(s.updateTimeMs,t)&&!this.Ci(s.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>zd(e).j().next(t=>this.Si(t,18e5).map(s=>s.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ed.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ll(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ud.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,s){$t("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",g=15===(y=this.ui)?pu:14===y?Dd:13===y?Bc:12===y?lc:11===y?Lc:void gn();var y;let x;return this.wi.runTransaction(e,u,g,j=>(x=new uc(j,this.Os?this.Os.next():nn.ct),"readwrite-primary"===t?this.Ti(x).next(Z=>!!Z||this.Ei(x)).next(Z=>{if(!Z)throw fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Bt(_t.FAILED_PRECONDITION,fl);return s(x)}).next(Z=>this.vi(x).next(()=>Z)):this.Oi(x).next(()=>s(x)))).then(j=>(x.raiseOnCommittedEvent(),j))}Oi(e){return nd(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bt(_t.FAILED_PRECONDITION,Hd)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nd(e).put("owner",t)}static D(){return A.D()}Ai(e){const t=nd(e);return t.get("owner").next(s=>this.Ri(s)?($t("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}Vi(e,t){const s=Date.now();return!(e<s-t||e>s&&(fr(`Detected an update time that is in the future: ${e} > ${s}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Qe.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const s=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return $t("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return fr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){fr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nd(r){return lo(r,"owner")}function zd(r){return lo(r,"clientMetadata")}function Gp(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Sc{constructor(e,t,s,u){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=u}static Li(e,t){let s=Hr(),u=Hr();for(const g of t.docChanges)switch(g.type){case 0:s=s.add(g.doc.key);break;case 1:u=u.add(g.doc.key)}return new Sc(e,t.fromCache,s,u)}}class jp{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,u){return this.Ki(e,t).next(g=>g||this.Gi(e,t,u,s)).next(g=>g||this.Qi(e,t))}Ki(e,t){if(Pl(t))return at.resolve(null);let s=Os(t);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=yu(t,null,"F"),s=Os(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(g=>{const y=Hr(...g);return this.Ui.getDocuments(e,y).next(x=>this.indexManager.getMinOffset(e,s).next(j=>{const Z=this.ji(t,x);return this.zi(t,Z,y,j.readTime)?this.Ki(e,yu(t,null,"F")):this.Wi(e,Z,t,j)}))})))}Gi(e,t,s,u){return Pl(t)||u.isEqual(Rn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(g=>{const y=this.ji(t,g);return this.zi(t,y,s,u)?this.Qi(e,t):(so()<=Ae.in.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Hc(t)),this.Wi(e,y,t,el(u,-1)))})}ji(e,t){let s=new Ci(Nd(e));return t.forEach((u,g)=>{zc(e,g)&&(s=s.add(g))}),s}zi(e,t,s,u){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(u)>0)}Qi(e,t){return so()<=Ae.in.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",Hc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ns.min())}Wi(e,t,s,u){return this.Ui.getDocumentsMatchingQuery(e,s,u).next(g=>(t.forEach(y=>{g=g.insert(y.key,y)}),g))}}class p_{constructor(e,t,s,u){this.persistence=e,this.Hi=t,this.serializer=u,this.Ji=new qi(dr),this.Yi=new vu(g=>yt(g),Xt),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xo(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function $p(r,e,t,s){return new p_(r,e,t,s)}function im(r,e){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,me.Z)(function*(r,e){const t=dn(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let u;return t.mutationQueue.getAllMutationBatches(s).next(g=>(u=g,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(g=>{const y=[],x=[];let j=Hr();for(const Z of u){y.push(Z.batchId);for(const se of Z.mutations)j=j.add(se.key)}for(const Z of g){x.push(Z.batchId);for(const se of Z.mutations)j=j.add(se.key)}return t.localDocuments.getDocuments(s,j).next(Z=>({er:Z,removedBatchIds:y,addedBatchIds:x}))})})}),Hp.apply(this,arguments)}function Yu(r){const e=dn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Qu(r,e,t){let s=Hr(),u=Hr();return t.forEach(g=>s=s.add(g)),e.getEntries(r,s).next(g=>{let y=rl();return t.forEach((x,j)=>{const Z=g.get(x);j.isFoundDocument()!==Z.isFoundDocument()&&(u=u.add(x)),j.isNoDocument()&&j.version.isEqual(Rn.min())?(e.removeEntry(x,j.readTime),y=y.insert(x,j)):!Z.isValidDocument()||j.version.compareTo(Z.version)>0||0===j.version.compareTo(Z.version)&&Z.hasPendingWrites?(e.addEntry(j),y=y.insert(x,j)):$t("LocalStore","Ignoring outdated watch update for ",x,". Current version:",Z.version," Watch version:",j.version)}),{nr:y,sr:u}})}function zp(r,e){const t=dn(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ju(r,e){const t=dn(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return t.Bs.getTargetData(s,e).next(g=>g?(u=g,at.resolve(u)):t.Bs.allocateTargetId(s).next(y=>(u=new wu(e,y,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=t.Ji.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}function rd(r,e,t){return xh.apply(this,arguments)}function xh(){return xh=(0,me.Z)(function*(r,e,t){const s=dn(r),u=s.Ji.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",g,y=>s.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!k(y))throw y;$t("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(u.target)}),xh.apply(this,arguments)}function Wd(r,e,t){const s=dn(r);let u=Rn.min(),g=Hr();return s.persistence.runTransaction("Execute query","readonly",y=>function(x,j,Z){const se=dn(x),Ce=se.Yi.get(Z);return void 0!==Ce?at.resolve(se.Ji.get(Ce)):se.Bs.getTargetData(j,Z)}(s,y,Os(e)).next(x=>{if(x)return u=x.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(y,x.targetId).next(j=>{g=j})}).next(()=>s.Hi.getDocumentsMatchingQuery(y,e,t?u:Rn.min(),t?g:Hr())).next(x=>(id(s,gc(e),x),{documents:x,ir:g})))}function Kd(r,e){const t=dn(r),s=dn(t.Bs),u=t.Ji.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",g=>s.le(g,e).next(y=>y?y.target:null))}function Wp(r,e){const t=dn(r),s=t.Xi.get(e)||Rn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Zi.getAllFromCollectionGroup(u,e,el(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(id(t,e,u),u))}function id(r,e,t){let s=r.Xi.get(e)||Rn.min();t.forEach((u,g)=>{g.readTime.compareTo(s)>0&&(s=g.readTime)}),r.Xi.set(e,s)}function qd(){return qd=(0,me.Z)(function*(r,e,t,s){const u=dn(r);let g=Hr(),y=rl();for(const Z of t){const se=e.rr(Z.metadata.name);Z.document&&(g=g.add(se));const Ce=e.ur(Z);Ce.setReadTime(e.cr(Z.metadata.readTime)),y=y.insert(se,Ce)}const x=u.Zi.newChangeBuffer({trackRemovals:!0}),j=yield Ju(u,(Z=s,Os(ju(Pr.fromString(`__bundle__/docs/${Z}`)))));var Z;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>Qu(Z,x,y).next(se=>(x.apply(Z),se)).next(se=>u.Bs.removeMatchingKeysForTargetId(Z,j.targetId).next(()=>u.Bs.addMatchingKeys(Z,g,j.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Z,se.nr,se.sr)).next(()=>se.nr)))}),qd.apply(this,arguments)}function sm(r,e){return xf.apply(this,arguments)}function xf(){return xf=(0,me.Z)(function*(r,e,t=Hr()){const s=yield Ju(r,Os(Df(e.bundledQuery))),u=dn(r);return u.persistence.runTransaction("Save named query","readwrite",g=>{const y=Lo(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return u.qs.saveNamedQuery(g,e);const x=s.withResumeToken(Ms.EMPTY_BYTE_STRING,y);return u.Ji=u.Ji.insert(x.targetId,x),u.Bs.updateTargetData(g,x).next(()=>u.Bs.removeMatchingKeysForTargetId(g,s.targetId)).next(()=>u.Bs.addMatchingKeys(g,t,s.targetId)).next(()=>u.qs.saveNamedQuery(g,e))})}),xf.apply(this,arguments)}function qp(r,e){return`firestore_clients_${r}_${e}`}function om(r,e,t){let s=`firestore_mutations_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Ph(r,e){return`firestore_targets_${r}_${e}`}class Zp{constructor(e,t,s,u){this.user=e,this.batchId=t,this.state=s,this.error=u}static ar(e,t,s){const u=JSON.parse(s);let g,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(g=new Bt(u.error.code,u.error.message))),y?new Zp(e,t,u.state,g):(fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Da{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static ar(e,t){const s=JSON.parse(t);let u,g="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return g&&s.error&&(g="string"==typeof s.error.message&&"string"==typeof s.error.code,g&&(u=new Bt(s.error.code,s.error.message))),g?new Da(e,s.state,u):(fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const s=JSON.parse(t);let u="object"==typeof s&&s.activeTargetIds instanceof Array,g=_h();for(let y=0;u&&y<s.activeTargetIds.length;++y)u=Fa(s.activeTargetIds[y]),g=g.add(s.activeTargetIds[y]);return u?new Pf(e,g):(fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class kf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new kf(t.clientId,t.onlineState):(fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ff{constructor(){this.activeTargetIds=_h()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zd{constructor(e,t,s,u,g){this.window=e,this.ii=t,this.persistenceKey=s,this.wr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new qi(dr),this.started=!1,this.yr=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.pr=qp(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Ff),this.Tr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(x){return`firestore_bundle_loaded_v2_${x}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.$i();for(const u of t){if(u===e.wr)continue;const g=e.getItem(qp(e.persistenceKey,u));if(g){const y=Pf.ar(u,g);y&&(e.gr=e.gr.insert(y.clientId,y))}}e.Pr();const s=e.storage.getItem(e.vr);if(s){const u=e.br(s);u&&e.Vr(u)}for(const u of e.yr)e.mr(u);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((s,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,s){this.Dr(e,t,s),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Ph(this.persistenceKey,e));if(s){const u=Da.ar(e,s);u&&(t=u.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ph(this.persistenceKey,e))}updateQueryState(e,t,s){this.kr(e,t,s)}handleUserChange(e,t,s){t.forEach(u=>{this.Cr(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $t("SharedClientState","READ",e,t),t}setItem(e,t){$t("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$t("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const s=e;if(s.storageArea===this.storage){if($t("SharedClientState","EVENT",s.key,s.newValue),s.key===this.pr)return void fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==s.key)if(t.Tr.test(s.key)){if(null==s.newValue){const u=t.Or(s.key);return t.Fr(u,null)}{const u=t.Br(s.key,s.newValue);if(u)return t.Fr(u.clientId,u)}}else if(t.Er.test(s.key)){if(null!==s.newValue){const u=t.Lr(s.key,s.newValue);if(u)return t.qr(u)}}else if(t.Ar.test(s.key)){if(null!==s.newValue){const u=t.Ur(s.key,s.newValue);if(u)return t.Kr(u)}}else if(s.key===t.vr){if(null!==s.newValue){const u=t.br(s.newValue);if(u)return t.Vr(u)}}else if(s.key===t.Ir){const u=function(g){let y=nn.ct;if(null!=g)try{const x=JSON.parse(g);Dn("number"==typeof x),y=x}catch(x){fr("SharedClientState","Failed to read sequence number from WebStorage",x)}return y}(s.newValue);u!==nn.ct&&t.sequenceNumberHandler(u)}else if(s.key===t.Rr){const u=t.Gr(s.newValue);yield Promise.all(u.map(g=>t.syncEngine.Qr(g)))}}else t.yr.push(s)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,s){const u=new Zp(this.currentUser,e,t,s),g=om(this.persistenceKey,this.currentUser,e);this.setItem(g,u.hr())}Cr(e){const t=om(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,s){const u=Ph(this.persistenceKey,e),g=new Da(e,t,s);this.setItem(u,g.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const s=this.Or(e);return Pf.ar(s,t)}Lr(e,t){const s=this.Er.exec(e),u=Number(s[1]);return Zp.ar(new rs(void 0!==s[2]?s[2]:null),u,t)}Ur(e,t){const s=this.Ar.exec(e),u=Number(s[1]);return Da.ar(u,t)}br(e){return kf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);$t("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const s=t?this.gr.insert(e,t):this.gr.remove(e),u=this.Sr(this.gr),g=this.Sr(s),y=[],x=[];return g.forEach(j=>{u.has(j)||y.push(j)}),u.forEach(j=>{g.has(j)||x.push(j)}),this.syncEngine.Wr(y,x).then(()=>{this.gr=s})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=_h();return e.forEach((s,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class am{constructor(){this.Hr=new Ff,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ff,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g_{Yr(e){}shutdown(){}}class lm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lf=null;function Bf(){return null===Lf?Lf=268435456+Math.round(2147483648*Math.random()):Lf++,"0x"+Lf.toString(16)}const m_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ea="WebChannelConnection";class y_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,u,g){const y=Bf(),x=this.To(e,t);$t("RestConnection",`Sending RPC '${e}' ${y}:`,x,s);const j={};return this.Eo(j,u,g),this.Ao(e,x,j,s).then(Z=>($t("RestConnection",`Received RPC '${e}' ${y}: `,Z),Z),Z=>{throw sa("RestConnection",`RPC '${e}' ${y} failed with error: `,Z,"url: ",x,"request:",s),Z})}vo(e,t,s,u,g,y){return this.Io(e,t,s,u,g)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Xa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,g)=>e[g]=u),s&&s.headers.forEach((u,g)=>e[g]=u)}To(e,t){return`${this.mo}/v1/${t}:${m_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,u){const g=Bf();return new Promise((y,x)=>{const j=new Ko;j.setWithCredentials(!0),j.listenOnce(xr.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case Kr.NO_ERROR:const se=j.getResponseJson();$t(ea,`XHR for RPC '${e}' ${g} received:`,JSON.stringify(se)),y(se);break;case Kr.TIMEOUT:$t(ea,`RPC '${e}' ${g} timed out`),x(new Bt(_t.DEADLINE_EXCEEDED,"Request time out"));break;case Kr.HTTP_ERROR:const Ce=j.getStatus();if($t(ea,`RPC '${e}' ${g} failed with status:`,Ce,"response text:",j.getResponseText()),Ce>0){let dt=j.getResponseJson();Array.isArray(dt)&&(dt=dt[0]);const Nt=dt?.error;if(Nt&&Nt.status&&Nt.message){const Zt=function(Cn){const An=Cn.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(An)>=0?An:_t.UNKNOWN}(Nt.status);x(new Bt(Zt,Nt.message))}else x(new Bt(_t.UNKNOWN,"Server responded with status "+j.getStatus()))}else x(new Bt(_t.UNAVAILABLE,"Connection failed."));break;default:gn()}}finally{$t(ea,`RPC '${e}' ${g} completed.`)}});const Z=JSON.stringify(u);$t(ea,`RPC '${e}' ${g} sending request:`,u),j.send(t,"POST",Z,s,15)})}Ro(e,t,s){const u=Bf(),g=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],y=Wr(),x=Qi(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Z=this.longPollingOptions.timeoutSeconds;void 0!==Z&&(j.longPollingTimeout=Math.round(1e3*Z)),this.useFetchStreams&&(j.xmlHttpFactory=new Ls({})),this.Eo(j.initMessageHeaders,t,s),j.encodeInitMessageHeaders=!0;const se=g.join("");$t(ea,`Creating RPC '${e}' stream ${u}: ${se}`,j);const Ce=y.createWebChannel(se,j);let dt=!1,Nt=!1;const Zt=new __({ro:An=>{Nt?$t(ea,`Not sending because RPC '${e}' stream ${u} is closed:`,An):(dt||($t(ea,`Opening RPC '${e}' stream ${u} transport.`),Ce.open(),dt=!0),$t(ea,`RPC '${e}' stream ${u} sending:`,An),Ce.send(An))},oo:()=>Ce.close()}),Cn=(An,Lr,Vi)=>{An.listen(Lr,ti=>{try{Vi(ti)}catch(Io){setTimeout(()=>{throw Io},0)}})};return Cn(Ce,io.EventType.OPEN,()=>{Nt||$t(ea,`RPC '${e}' stream ${u} transport opened.`)}),Cn(Ce,io.EventType.CLOSE,()=>{Nt||(Nt=!0,$t(ea,`RPC '${e}' stream ${u} transport closed`),Zt.wo())}),Cn(Ce,io.EventType.ERROR,An=>{Nt||(Nt=!0,sa(ea,`RPC '${e}' stream ${u} transport errored:`,An),Zt.wo(new Bt(_t.UNAVAILABLE,"The operation could not be completed")))}),Cn(Ce,io.EventType.MESSAGE,An=>{var Lr;if(!Nt){const Vi=An.data[0];Dn(!!Vi);const Io=Vi.error||(null===(Lr=Vi[0])||void 0===Lr?void 0:Lr.error);if(Io){$t(ea,`RPC '${e}' stream ${u} received error:`,Io);const Is=Io.status;let ps=function(uf){const ly=Fo[uf];if(void 0!==ly)return mp(ly)}(Is),il=Io.message;void 0===ps&&(ps=_t.INTERNAL,il="Unknown error status: "+Is+" with message "+Io.message),Nt=!0,Zt.wo(new Bt(ps,il)),Ce.close()}else $t(ea,`RPC '${e}' stream ${u} received:`,Vi),Zt._o(Vi)}}),Cn(x,As.STAT_EVENT,An=>{An.stat===Ds.PROXY?$t(ea,`RPC '${e}' stream ${u} detected buffering proxy`):An.stat===Ds.NOPROXY&&$t(ea,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Zt.fo()},0),Zt}}function um(){return typeof window<"u"?window:null}function kh(){return typeof document<"u"?document:null}function Fh(r){return new kg(r,!0)}class Lh{constructor(e,t,s=1e3,u=1.5,g=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=u,this.Vo=g,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),u=Math.max(0,t-s);u>0&&$t("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class tu{constructor(e,t,s,u,g,y,x,j){this.ii=e,this.$o=s,this.Oo=u,this.connection=g,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=x,this.listener=j,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Lh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,me.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,me.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,me.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===_t.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===_t.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Fo===t&&this.Zo(s,u)},s=>{e(()=>{const u=new Bt(_t.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(u)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{s(()=>this.tu(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,me.Z)(function*(){e.state=0,e.start()}))}tu(e){return $t("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yp extends tu{constructor(e,t,s,u,g,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,u,y),this.serializer=g}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Bg(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:gn(),u=e.targetChange.targetIds||[],g=function(j,Z){return j.useProto3Json?(Dn(void 0===Z||"string"==typeof Z),Ms.fromBase64String(Z||"")):(Dn(void 0===Z||Z instanceof Uint8Array),Ms.fromUint8Array(Z||new Uint8Array))}(r,e.targetChange.resumeToken),y=e.targetChange.cause,x=y&&function(j){const Z=void 0===j.code?_t.UNKNOWN:mp(j.code);return new Bt(Z,j.message||"")}(y);t=new t_(s,u,g,x||null)}else if("documentChange"in e){const s=e.documentChange,u=wc(r,s.document.name),g=Lo(s.document.updateTime),y=s.document.createTime?Lo(s.document.createTime):Rn.min(),x=new ei({mapValue:{fields:s.document.fields}}),j=wi.newFoundDocument(u,g,y,x);t=new bh(s.targetIds||[],s.removedTargetIds||[],j.key,j)}else if("documentDelete"in e){const s=e.documentDelete,u=wc(r,s.document),g=s.readTime?Lo(s.readTime):Rn.min(),y=wi.newNoDocument(u,g);t=new bh([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,u=wc(r,s.document);t=new bh([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return gn();{const s=e.filter,{count:u=0,unchangedNames:g}=s,y=new dy(u,g);t=new Og(s.targetId,y)}}var j;return t}(this.serializer,e),s=function(u){if(!("targetChange"in u))return Rn.min();const g=u.targetChange;return g.targetIds&&g.targetIds.length?Rn.min():g.readTime?Lo(g.readTime):Rn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Fd(this.serializer),t.addTarget=function(u,g){let y;const x=g.target;if(y=yn(x)?{documents:Dh(u,x)}:{query:Hu(u,x)},y.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){y.resumeToken=Fg(u,g.resumeToken);const j=wp(u,g.expectedCount);null!==j&&(y.expectedCount=j)}else if(g.snapshotVersion.compareTo(Rn.min())>0){y.readTime=Pd(u,g.snapshotVersion.toTimestamp());const j=wp(u,g.expectedCount);null!==j&&(y.expectedCount=j)}return y}(this.serializer,e);const s=function Sp(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Fd(this.serializer),t.removeTarget=e,this.Wo(t)}}class v_ extends tu{constructor(e,t,s,u,g,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,u,y),this.serializer=g,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ip(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(s,u){let g=Lo(s.updateTime?s.updateTime:u);return g.isEqual(Rn.min())&&(g=Lo(u)),new Jm(g,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Lo(e.commitTime);return this.listener.cu(s,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$u(this.serializer,s))};this.Wo(t)}}class b_ extends class{}{constructor(e,t,s,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new Bt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.Io(e,t,s,u,g)).catch(u=>{throw"FirebaseError"===u.name?(u.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Bt(_t.UNKNOWN,u.toString())})}vo(e,t,s,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.connection.vo(e,t,s,g,y,u)).catch(g=>{throw"FirebaseError"===g.name?(g.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Bt(_t.UNKNOWN,g.toString())})}terminate(){this.lu=!0}}class Ul{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fr(t),this.mu=!1):$t("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Xp{constructor(e,t,s,u,g){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=g,this.Pu.Yr(x=>{s.enqueueAndForget((0,me.Z)(function*(){var j;Su(y)&&($t("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,me.Z)(function*(Z){const se=dn(Z);se.vu.add(4),yield Yd(se),se.bu.set("Unknown"),se.vu.delete(4),yield nu(se)}),function(Z){return j.apply(this,arguments)})(y))}))}),this.bu=new Ul(s,u)}}function nu(r){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,me.Z)(function*(r){if(Su(r))for(const e of r.Ru)yield e(!0)}),Bh.apply(this,arguments)}function Yd(r){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,me.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),Qd.apply(this,arguments)}function Xu(r,e){const t=dn(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Uh(t)?dm(t):th(t).Ko()&&cm(t,e))}function Ac(r,e){const t=dn(r),s=th(t);t.Au.delete(e),s.Ko()&&sd(t,e),0===t.Au.size&&(s.Ko()?s.jo():Su(t)&&t.bu.set("Unknown"))}function cm(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}th(r).su(e)}function sd(r,e){r.Vu.qt(e),th(r).iu(e)}function dm(r){r.Vu=new Rg({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),th(r).start(),r.bu.gu()}function Uh(r){return Su(r)&&!th(r).Uo()&&r.Au.size>0}function Su(r){return 0===dn(r).vu.size}function Uf(r){r.Vu=void 0}function wl(r){return Au.apply(this,arguments)}function Au(){return Au=(0,me.Z)(function*(r){r.Au.forEach((e,t)=>{cm(r,e)})}),Au.apply(this,arguments)}function ec(r,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,me.Z)(function*(r,e){Uf(r),Uh(r)?(r.bu.Iu(e),dm(r)):r.bu.set("Unknown")}),Jd.apply(this,arguments)}function Vh(r,e,t){return od.apply(this,arguments)}function od(){return od=(0,me.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof t_&&2===e.state&&e.cause)try{yield(s=(0,me.Z)(function*(u,g){const y=g.cause;for(const x of g.targetIds)u.Au.has(x)&&(yield u.remoteSyncer.rejectListen(x,y),u.Au.delete(x),u.Vu.removeTarget(x))}),function(u,g){return s.apply(this,arguments)})(r,e)}catch(s){$t("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Gh(r,s)}else if(e instanceof bh?r.Vu.Ht(e):e instanceof Og?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Rn.min()))try{const s=yield Yu(r.localStore);t.compareTo(s)>=0&&(yield function(u,g){const y=u.Vu.ce(g);return y.targetChanges.forEach((x,j)=>{if(x.resumeToken.approximateByteSize()>0){const Z=u.Au.get(j);Z&&u.Au.set(j,Z.withResumeToken(x.resumeToken,g))}}),y.targetMismatches.forEach((x,j)=>{const Z=u.Au.get(x);if(!Z)return;u.Au.set(x,Z.withResumeToken(Ms.EMPTY_BYTE_STRING,Z.snapshotVersion)),sd(u,x);const se=new wu(Z.target,x,j,Z.sequenceNumber);cm(u,se)}),u.remoteSyncer.applyRemoteEvent(y)}(r,t))}catch(s){$t("RemoteStore","Failed to raise snapshot:",s),yield Gh(r,s)}var s}),od.apply(this,arguments)}function Gh(r,e,t){return ad.apply(this,arguments)}function ad(){return ad=(0,me.Z)(function*(r,e,t){if(!k(e))throw e;r.vu.add(1),yield Yd(r),r.bu.set("Offline"),t||(t=()=>Yu(r.localStore)),r.asyncQueue.enqueueRetryable((0,me.Z)(function*(){$t("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield nu(r)}))}),ad.apply(this,arguments)}function eg(r,e){return e().catch(t=>Gh(r,t,e))}function Xd(r){return jh.apply(this,arguments)}function jh(){return jh=(0,me.Z)(function*(r){const e=dn(r),t=tc(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$h(e);)try{const u=yield zp(e.localStore,s);if(null===u){0===e.Eu.length&&t.jo();break}s=u.batchId,hm(e,u)}catch(u){yield Gh(e,u)}w_(e)&&fm(e)}),jh.apply(this,arguments)}function $h(r){return Su(r)&&r.Eu.length<10}function hm(r,e){r.Eu.push(e);const t=tc(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function w_(r){return Su(r)&&!tc(r).Uo()&&r.Eu.length>0}function fm(r){tc(r).start()}function D_(r){return tg.apply(this,arguments)}function tg(){return tg=(0,me.Z)(function*(r){tc(r).hu()}),tg.apply(this,arguments)}function pm(r){return eh.apply(this,arguments)}function eh(){return eh=(0,me.Z)(function*(r){const e=tc(r);for(const t of r.Eu)e.uu(t.mutations)}),eh.apply(this,arguments)}function gm(r,e,t){return ng.apply(this,arguments)}function ng(){return ng=(0,me.Z)(function*(r,e,t){const s=r.Eu.shift(),u=pp.from(s,e,t);yield eg(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),yield Xd(r)}),ng.apply(this,arguments)}function rg(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,me.Z)(function*(r,e){var t;e&&tc(r).ou&&(yield(t=(0,me.Z)(function*(s,u){if(Mg(g=u.code)&&g!==_t.ABORTED){const y=s.Eu.shift();tc(s).Qo(),yield eg(s,()=>s.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield Xd(s)}var g}),function(s,u){return t.apply(this,arguments)})(r,e)),w_(r)&&fm(r)}),Hh.apply(this,arguments)}function mm(r,e){return zh.apply(this,arguments)}function zh(){return zh=(0,me.Z)(function*(r,e){const t=dn(r);t.asyncQueue.verifyOperationInProgress(),$t("RemoteStore","RemoteStore received new credentials");const s=Su(t);t.vu.add(3),yield Yd(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield nu(t)}),zh.apply(this,arguments)}function ig(r,e){return sg.apply(this,arguments)}function sg(){return sg=(0,me.Z)(function*(r,e){const t=dn(r);e?(t.vu.delete(2),yield nu(t)):e||(t.vu.add(2),yield Yd(t),t.bu.set("Unknown"))}),sg.apply(this,arguments)}function th(r){return r.Su||(r.Su=function(e,t,s){const u=dn(e);return u.fu(),new Yp(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{uo:wl.bind(null,r),ao:ec.bind(null,r),nu:Vh.bind(null,r)}),r.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(r.Su.Qo(),Uh(r)?dm(r):r.bu.set("Unknown")):(yield r.Su.stop(),Uf(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function tc(r){return r.Du||(r.Du=function(e,t,s){const u=dn(e);return u.fu(),new v_(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,s)}(r.datastore,r.asyncQueue,{uo:D_.bind(null,r),ao:rg.bind(null,r),au:pm.bind(null,r),cu:gm.bind(null,r)}),r.Ru.push(function(){var e=(0,me.Z)(function*(t){t?(r.Du.Qo(),yield Xd(r)):(yield r.Du.stop(),r.Eu.length>0&&($t("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Wh{constructor(e,t,s,u,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=u,this.removalCallback=g,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,s,u,g){const y=Date.now()+s,x=new Wh(e,t,y,u,g);return x.start(s),x}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bt(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ld(r,e){if(fr("AsyncQueue",`${e}: ${r}`),k(r))return new Bt(_t.UNAVAILABLE,`${e}: ${r}`);throw r}class ud{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Gt.comparator(t.key,s.key):(t,s)=>Gt.comparator(t.key,s.key),this.keyedMap=Md(),this.sortedSet=new qi(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,g=s.getNext().key;if(!u.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new ud;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class _m{constructor(){this.Cu=new qi(Gt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):gn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class nh{constructor(e,t,s,u,g,y,x,j,Z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=g,this.fromCache=y,this.syncStateChanged=x,this.excludesMetadataChanges=j,this.hasCachedResults=Z}static fromInitialDocuments(e,t,s,u,g){const y=[];return t.forEach(x=>{y.push({type:0,doc:x})}),new nh(e,t,ud.emptySet(t),y,s,u,!0,!1,g)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==s[u].type||!t[u].doc.isEqual(s[u].doc))return!1;return!0}}class py{constructor(){this.Nu=void 0,this.listeners=[]}}class gy{constructor(){this.queries=new vu(e=>$c(e),Yl),this.onlineState="Unknown",this.ku=new Set}}function Vf(r,e){return ym.apply(this,arguments)}function ym(){return ym=(0,me.Z)(function*(r,e){const t=dn(r),s=e.query;let u=!1,g=t.queries.get(s);if(g||(u=!0,g=new py),u)try{g.Nu=yield t.onListen(s)}catch(y){const x=ld(y,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(x)}t.queries.set(s,g),g.listeners.push(e),e.Mu(t.onlineState),g.Nu&&e.$u(g.Nu)&&d(t)}),ym.apply(this,arguments)}function rh(r,e){return l.apply(this,arguments)}function l(){return l=(0,me.Z)(function*(r,e){const t=dn(r),s=e.query;let u=!1;const g=t.queries.get(s);if(g){const y=g.listeners.indexOf(e);y>=0&&(g.listeners.splice(y,1),u=0===g.listeners.length)}if(u)return t.queries.delete(s),t.onUnlisten(s)}),l.apply(this,arguments)}function c(r,e){const t=dn(r);let s=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const x of y.listeners)x.$u(u)&&(s=!0);y.Nu=u}}s&&d(t)}function o(r,e,t){const s=dn(r),u=s.queries.get(e);if(u)for(const g of u.listeners)g.onError(t);s.queries.delete(e)}function d(r){r.ku.forEach(e=>{e.next()})}class v{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new nh(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=nh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class S{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ${constructor(e){this.serializer=e}rr(e){return wc(this.serializer,e)}ur(e){return e.metadata.exists?Dc(this.serializer,e.document,!1):wi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Lo(e)}}class Q{constructor(e,t,s){this.ju=e,this.localStore=t,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=re(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const s=Pr.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,s=new $(this.serializer);for(const u of e)if(u.metadata.queries){const g=s.rr(u.metadata.name);for(const y of u.metadata.queries){const x=(t.get(y)||Hr()).add(g);t.set(y,x)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function Kp(r,e,t,s){return qd.apply(this,arguments)}(e.localStore,new $(e.serializer),e.documents,e.ju.id),s=e.Wu(e.documents);for(const u of e.queries)yield sm(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function re(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class he{constructor(e){this.key=e}}class xe{constructor(e){this.key=e}}class vt{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hr(),this.mutatedKeys=Hr(),this.tc=Nd(e),this.ec=new ud(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new _m,u=t?t.ec:this.ec;let g=t?t.mutatedKeys:this.mutatedKeys,y=u,x=!1;const j="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((se,Ce)=>{const dt=u.get(se),Nt=zc(this.query,Ce)?Ce:null,Zt=!!dt&&this.mutatedKeys.has(dt.key),Cn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let An=!1;dt&&Nt?dt.data.isEqual(Nt.data)?Zt!==Cn&&(s.track({type:3,doc:Nt}),An=!0):this.rc(dt,Nt)||(s.track({type:2,doc:Nt}),An=!0,(j&&this.tc(Nt,j)>0||Z&&this.tc(Nt,Z)<0)&&(x=!0)):!dt&&Nt?(s.track({type:0,doc:Nt}),An=!0):dt&&!Nt&&(s.track({type:1,doc:dt}),An=!0,(j||Z)&&(x=!0)),An&&(Nt?(y=y.add(Nt),g=Cn?g.add(se):g.delete(se)):(y=y.delete(se),g=g.delete(se)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const se="F"===this.query.limitType?y.last():y.first();y=y.delete(se.key),g=g.delete(se.key),s.track({type:1,doc:se})}return{ec:y,ic:s,zi:x,mutatedKeys:g}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const g=e.ic.xu();g.sort((Z,se)=>function(Ce,dt){const Nt=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gn()}};return Nt(Ce)-Nt(dt)}(Z.type,se.type)||this.tc(Z.doc,se.doc)),this.oc(s);const y=t?this.uc():[],x=0===this.Zu.size&&this.current?1:0,j=x!==this.Xu;return this.Xu=x,0!==g.length||j?{snapshot:new nh(this.query,e.ec,u,g,e.mutatedKeys,0===x,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:y}:{cc:y}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _m,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Hr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new xe(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new he(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Hr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return nh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class St{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Lt{constructor(e){this.key=e,this.fc=!1}}class en{constructor(e,t,s,u,g,y){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=u,this.currentUser=g,this.maxConcurrentLimboResolutions=y,this.dc={},this.wc=new vu(x=>$c(x),Yl),this._c=new Map,this.mc=new Set,this.gc=new qi(Gt.comparator),this.yc=new Map,this.Ic=new Zu,this.Tc={},this.Ec=new Map,this.Ac=Iu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Kt(r,e){return vn.apply(this,arguments)}function vn(){return vn=(0,me.Z)(function*(r,e){const t=Qh(r);let s,u;const g=t.wc.get(e);if(g)s=g.targetId,t.sharedClientState.addLocalQueryTarget(s),u=g.view.lc();else{const y=yield Ju(t.localStore,Os(e)),x=t.sharedClientState.addLocalQueryTarget(y.targetId);s=y.targetId,u=yield xn(t,e,s,"current"===x,y.resumeToken),t.isPrimaryClient&&Xu(t.remoteStore,y)}return u}),vn.apply(this,arguments)}function xn(r,e,t,s,u){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,me.Z)(function*(r,e,t,s,u){r.Rc=(Ce,dt,Nt)=>{return(Zt=(0,me.Z)(function*(Cn,An,Lr,Vi){let ti=An.view.sc(Lr);ti.zi&&(ti=yield Wd(Cn.localStore,An.query,!1).then(({documents:ps})=>An.view.sc(ps,ti)));const Io=Vi&&Vi.targetChanges.get(An.targetId),Is=An.view.applyChanges(ti,Cn.isPrimaryClient,Io);return Ks(Cn,An.targetId,Is.cc),Is.snapshot}),function(Cn,An,Lr,Vi){return Zt.apply(this,arguments)})(r,Ce,dt,Nt);var Zt};const g=yield Wd(r.localStore,e,!0),y=new vt(e,g.ir),x=y.sc(g.documents),j=xd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,u),Z=y.applyChanges(x,r.isPrimaryClient,j);Ks(r,t,Z.cc);const se=new St(e,t,y);return r.wc.set(e,se),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),Z.snapshot}),Kn.apply(this,arguments)}function Fr(r,e){return tr.apply(this,arguments)}function tr(){return tr=(0,me.Z)(function*(r,e){const t=dn(r),s=t.wc.get(e),u=t._c.get(s.targetId);if(u.length>1)return t._c.set(s.targetId,u.filter(g=>!Yl(g,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield rd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Ac(t.remoteStore,s.targetId),fs(t,s.targetId)}).catch(Eo))):(fs(t,s.targetId),yield rd(t.localStore,s.targetId,!0))}),tr.apply(this,arguments)}function Vr(){return Vr=(0,me.Z)(function*(r,e,t){const s=Jh(r);try{const u=yield function(g,y){const x=dn(g),j=Pi.now(),Z=y.reduce((dt,Nt)=>dt.add(Nt.key),Hr());let se,Ce;return x.persistence.runTransaction("Locally write mutations","readwrite",dt=>{let Nt=rl(),Zt=Hr();return x.Zi.getEntries(dt,Z).next(Cn=>{Nt=Cn,Nt.forEach((An,Lr)=>{Lr.isValidDocument()||(Zt=Zt.add(An))})}).next(()=>x.localDocuments.getOverlayedDocuments(dt,Nt)).next(Cn=>{se=Cn;const An=[];for(const Lr of y){const Vi=cy(Lr,se.get(Lr.key).overlayedDocument);null!=Vi&&An.push(new La(Lr.key,Vi,hc(Vi.value.mapValue),Ws.exists(!0)))}return x.mutationQueue.addMutationBatch(dt,j,An,y)}).next(Cn=>{Ce=Cn;const An=Cn.applyToLocalDocumentSet(se,Zt);return x.documentOverlayCache.saveOverlays(dt,Cn.batchId,An)})}).then(()=>({batchId:Ce.batchId,changes:df(se)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(g,y,x){let j=g.Tc[g.currentUser.toKey()];j||(j=new qi(dr)),j=j.insert(y,x),g.Tc[g.currentUser.toKey()]=j}(s,u.batchId,t),yield ho(s,u.changes),yield Xd(s.remoteStore)}catch(u){const g=ld(u,"Failed to persist write");t.reject(g)}}),Vr.apply(this,arguments)}function Zr(r,e){return mi.apply(this,arguments)}function mi(){return mi=(0,me.Z)(function*(r,e){const t=dn(r);try{const s=yield function Rh(r,e){const t=dn(r),s=e.snapshotVersion;let u=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const y=t.Zi.newChangeBuffer({trackRemovals:!0});u=t.Ji;const x=[];e.targetChanges.forEach((se,Ce)=>{const dt=u.get(Ce);if(!dt)return;x.push(t.Bs.removeMatchingKeys(g,se.removedDocuments,Ce).next(()=>t.Bs.addMatchingKeys(g,se.addedDocuments,Ce)));let Nt=dt.withSequenceNumber(g.currentSequenceNumber);var Zt,Cn,An;null!==e.targetMismatches.get(Ce)?Nt=Nt.withResumeToken(Ms.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):se.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(se.resumeToken,s)),u=u.insert(Ce,Nt),Cn=Nt,An=se,(0===(Zt=dt).resumeToken.approximateByteSize()||Cn.snapshotVersion.toMicroseconds()-Zt.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&x.push(t.Bs.updateTargetData(g,Nt))});let j=rl(),Z=Hr();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&x.push(t.persistence.referenceDelegate.updateLimboDocument(g,se))}),x.push(Qu(g,y,e.documentUpdates).next(se=>{j=se.nr,Z=se.sr})),!s.isEqual(Rn.min())){const se=t.Bs.getLastRemoteSnapshotVersion(g).next(Ce=>t.Bs.setTargetsMetadata(g,g.currentSequenceNumber,s));x.push(se)}return at.waitFor(x).next(()=>y.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,j,Z)).next(()=>j)}).then(g=>(t.Ji=u,g))}(t.localStore,e);e.targetChanges.forEach((u,g)=>{const y=t.yc.get(g);y&&(Dn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.fc=!0:u.modifiedDocuments.size>0?Dn(y.fc):u.removedDocuments.size>0&&(Dn(y.fc),y.fc=!1))}),yield ho(t,s,e)}catch(s){yield Eo(s)}}),mi.apply(this,arguments)}function os(r,e,t){const s=dn(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const u=[];s.wc.forEach((g,y)=>{const x=y.view.Mu(e);x.snapshot&&u.push(x.snapshot)}),function(g,y){const x=dn(g);x.onlineState=y;let j=!1;x.queries.forEach((Z,se)=>{for(const Ce of se.listeners)Ce.Mu(y)&&(j=!0)}),j&&d(x)}(s.eventManager,e),u.length&&s.dc.nu(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function as(r,e,t){return co.apply(this,arguments)}function co(){return co=(0,me.Z)(function*(r,e,t){const s=dn(r);s.sharedClientState.updateQueryState(e,"rejected",t);const u=s.yc.get(e),g=u&&u.key;if(g){let y=new qi(Gt.comparator);y=y.insert(g,wi.newNoDocument(g,Rn.min()));const x=Hr().add(g),j=new vh(Rn.min(),new Map,new qi(dr),y,x);yield Zr(s,j),s.gc=s.gc.remove(g),s.yc.delete(e),Zi(s)}else yield rd(s.localStore,e,!1).then(()=>fs(s,e,t)).catch(Eo)}),co.apply(this,arguments)}function da(r,e){return Us.apply(this,arguments)}function Us(){return Us=(0,me.Z)(function*(r,e){const t=dn(r),s=e.batch.batchId;try{const u=yield function Cu(r,e){const t=dn(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),g=t.Zi.newChangeBuffer({trackRemovals:!0});return function(y,x,j,Z){const se=j.batch,Ce=se.keys();let dt=at.resolve();return Ce.forEach(Nt=>{dt=dt.next(()=>Z.getEntry(x,Nt)).next(Zt=>{const Cn=j.docVersions.get(Nt);Dn(null!==Cn),Zt.version.compareTo(Cn)<0&&(se.applyToRemoteDocument(Zt,j),Zt.isValidDocument()&&(Zt.setReadTime(j.commitVersion),Z.addEntry(Zt)))})}),dt.next(()=>y.mutationQueue.removeMutationBatch(x,se))}(t,s,e,g).next(()=>g.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let x=Hr();for(let j=0;j<y.mutationResults.length;++j)y.mutationResults[j].transformResults.length>0&&(x=x.add(y.batch.mutations[j].key));return x}(e))).next(()=>t.localDocuments.getDocuments(s,u))})}(t.localStore,e);Gr(t,s,null),sr(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ho(t,u)}catch(u){yield Eo(u)}}),Us.apply(this,arguments)}function Nu(r,e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,me.Z)(function*(r,e,t){const s=dn(r);try{const u=yield function(g,y){const x=dn(g);return x.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let Z;return x.mutationQueue.lookupMutationBatch(j,y).next(se=>(Dn(null!==se),Z=se.keys(),x.mutationQueue.removeMutationBatch(j,se))).next(()=>x.mutationQueue.performConsistencyCheck(j)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(j,Z,y)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,Z)).next(()=>x.localDocuments.getDocuments(j,Z))})}(s.localStore,e);Gr(s,e,t),sr(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ho(s,u)}catch(u){yield Eo(u)}}),Dl.apply(this,arguments)}function Ln(){return Ln=(0,me.Z)(function*(r,e){const t=dn(r);Su(t.remoteStore)||$t("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(g){const y=dn(g);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",x=>y.mutationQueue.getHighestUnacknowledgedBatchId(x))}(t.localStore);if(-1===s)return void e.resolve();const u=t.Ec.get(s)||[];u.push(e),t.Ec.set(s,u)}catch(s){const u=ld(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Ln.apply(this,arguments)}function sr(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Gr(r,e,t){const s=dn(r);let u=s.Tc[s.currentUser.toKey()];if(u){const g=u.get(e);g&&(t?g.reject(t):g.resolve(),u=u.remove(e)),s.Tc[s.currentUser.toKey()]=u}}function fs(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||ha(r,s)})}function ha(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Ac(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Zi(r))}function Ks(r,e,t){for(const s of t)s instanceof he?(r.Ic.addReference(s.key,e),qa(r,s)):s instanceof xe?($t("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||ha(r,s.key)):gn()}function qa(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||($t("SyncEngine","New document in limbo: "+t),r.mc.add(s),Zi(r))}function Zi(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Gt(Pr.fromString(e)),s=r.Ac.next();r.yc.set(s,new Lt(t)),r.gc=r.gc.insert(t,s),Xu(r.remoteStore,new wu(Os(ju(t.path)),s,"TargetPurposeLimboResolution",nn.ct))}}function ho(r,e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,me.Z)(function*(r,e,t){const s=dn(r),u=[],g=[],y=[];var x;s.wc.isEmpty()||(s.wc.forEach((x,j)=>{y.push(s.Rc(j,e,t).then(Z=>{if((Z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(j.targetId,Z?.fromCache?"not-current":"current"),Z){u.push(Z);const se=Sc.Li(j.targetId,Z);g.push(se)}}))}),yield Promise.all(y),s.dc.nu(u),yield(x=(0,me.Z)(function*(j,Z){const se=dn(j);try{yield se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ce=>at.forEach(Z,dt=>at.forEach(dt.Fi,Nt=>se.persistence.referenceDelegate.addReference(Ce,dt.targetId,Nt)).next(()=>at.forEach(dt.Bi,Nt=>se.persistence.referenceDelegate.removeReference(Ce,dt.targetId,Nt)))))}catch(Ce){if(!k(Ce))throw Ce;$t("LocalStore","Failed to update sequence numbers: "+Ce)}for(const Ce of Z){const dt=Ce.targetId;if(!Ce.fromCache){const Nt=se.Ji.get(dt),Cn=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);se.Ji=se.Ji.insert(dt,Cn)}}}),function(j,Z){return x.apply(this,arguments)})(s.localStore,g))}),Vl.apply(this,arguments)}function fo(r,e){return fa.apply(this,arguments)}function fa(){return fa=(0,me.Z)(function*(r,e){const t=dn(r);if(!t.currentUser.isEqual(e)){$t("SyncEngine","User change. New user:",e.toKey());const s=yield im(t.localStore,e);t.currentUser=e,(u=t).Ec.forEach(y=>{y.forEach(x=>{x.reject(new Bt(_t.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ho(t,s.er)}var u}),fa.apply(this,arguments)}function pa(r,e){const t=dn(r),s=t.yc.get(e);if(s&&s.fc)return Hr().add(s.key);{let u=Hr();const g=t._c.get(e);if(!g)return u;for(const y of g){const x=t.wc.get(y);u=u.unionWith(x.view.nc)}return u}}function cd(r,e){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,me.Z)(function*(r,e){const t=dn(r),s=yield Wd(t.localStore,e.query,!0),u=e.view.hc(s);return t.isPrimaryClient&&Ks(t,e.targetId,u.cc),u}),Mu.apply(this,arguments)}function og(r,e){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,me.Z)(function*(r,e){const t=dn(r);return Wp(t.localStore,e).then(s=>ho(t,s))}),Kh.apply(this,arguments)}function E_(r,e,t,s){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,me.Z)(function*(r,e,t,s){const u=dn(r),g=yield function(y,x){const j=dn(y),Z=dn(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",se=>Z.Sn(se,x).next(Ce=>Ce?j.localDocuments.getDocuments(se,Ce):at.resolve(null)))}(u.localStore,e);var x;null!==g?("pending"===t?yield Xd(u.remoteStore):"acknowledged"===t||"rejected"===t?(Gr(u,e,s||null),sr(u,e),x=e,dn(dn(u.localStore).mutationQueue).Cn(x)):gn(),yield ho(u,g)):$t("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gf.apply(this,arguments)}function qh(){return qh=(0,me.Z)(function*(r,e){const t=dn(r);if(Qh(t),Jh(t),!0===e&&!0!==t.vc){const s=t.sharedClientState.getAllActiveQueryTargets(),u=yield lg(t,s.toArray());t.vc=!0,yield ig(t.remoteStore,!0);for(const g of u)Xu(t.remoteStore,g)}else if(!1===e&&!1!==t.vc){const s=[];let u=Promise.resolve();t._c.forEach((g,y)=>{t.sharedClientState.isLocalQueryTarget(y)?s.push(y):u=u.then(()=>(fs(t,y),rd(t.localStore,y,!0))),Ac(t.remoteStore,y)}),yield u,yield lg(t,s),function(g){const y=dn(g);y.yc.forEach((x,j)=>{Ac(y.remoteStore,j)}),y.Ic.Ts(),y.yc=new Map,y.gc=new qi(Gt.comparator)}(t),t.vc=!1,yield ig(t.remoteStore,!1)}}),qh.apply(this,arguments)}function lg(r,e,t){return ug.apply(this,arguments)}function ug(){return ug=(0,me.Z)(function*(r,e,t){const s=dn(r),u=[],g=[];for(const y of e){let x;const j=s._c.get(y);if(j&&0!==j.length){x=yield Ju(s.localStore,Os(j[0]));for(const Z of j){const se=s.wc.get(Z),Ce=yield cd(s,se);Ce.snapshot&&g.push(Ce.snapshot)}}else{const Z=yield Kd(s.localStore,y);x=yield Ju(s.localStore,Z),yield xn(s,nc(Z),y,!1,x.resumeToken)}u.push(x)}return s.dc.nu(g),u}),ug.apply(this,arguments)}function nc(r){return pc(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Zh(r){const e=dn(r);return dn(dn(e.localStore).persistence).$i()}function jf(r,e,t,s){return dd.apply(this,arguments)}function dd(){return dd=(0,me.Z)(function*(r,e,t,s){const u=dn(r);if(u.vc)return void $t("SyncEngine","Ignoring unexpected query state notification.");const g=u._c.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const y=yield Wp(u.localStore,gc(g[0])),x=vh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ms.EMPTY_BYTE_STRING);yield ho(u,y,x);break}case"rejected":yield rd(u.localStore,e,!0),fs(u,e,s);break;default:gn()}}),dd.apply(this,arguments)}function $f(r,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,me.Z)(function*(r,e,t){const s=Qh(r);if(s.vc){for(const u of e){if(s._c.has(u)){$t("SyncEngine","Adding an already active target "+u);continue}const g=yield Kd(s.localStore,u),y=yield Ju(s.localStore,g);yield xn(s,nc(g),y.targetId,!1,y.resumeToken),Xu(s.remoteStore,y)}for(const u of t)s._c.has(u)&&(yield rd(s.localStore,u,!1).then(()=>{Ac(s.remoteStore,u),fs(s,u)}).catch(Eo))}}),Yh.apply(this,arguments)}function Qh(r){const e=dn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zr.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pa.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=as.bind(null,e),e.dc.nu=c.bind(null,e.eventManager),e.dc.Pc=o.bind(null,e.eventManager),e}function Jh(r){const e=dn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=da.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nu.bind(null,e),e}class Hf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.serializer=Fh(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $p(this.persistence,new jp,e.initialUser,this.serializer)}createPersistence(e){return new jd(Mh.zs,this.serializer)}createSharedClientState(e){return new am}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vm extends Hf{constructor(e,t,s){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield t().call(s,e),yield s.Vc.initialize(s,e),yield Jh(s.Vc.syncEngine),yield Xd(s.Vc.remoteStore),yield s.persistence.Ii(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $p(this.persistence,new jp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new tm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const s=new un(t,this.persistence);return new xt(e.asyncQueue,s)}createPersistence(e){const t=Gp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new Vp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,um(),kh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new am}}class dg extends vm{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,me.Z)(function*(){yield t().call(s,e);const u=s.Vc.syncEngine;s.sharedClientState instanceof Zd&&(s.sharedClientState.syncEngine={jr:E_.bind(null,u),zr:jf.bind(null,u),Wr:$f.bind(null,u),$i:Zh.bind(null,u),Qr:og.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.Ii(function(){var g=(0,me.Z)(function*(y){yield function ag(r,e){return qh.apply(this,arguments)}(s.Vc.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return g.apply(this,arguments)}}())})()}createSharedClientState(e){const t=um();if(!Zd.D(t))throw new Bt(_t.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Gp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zd(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class ru{initialize(e,t){var s=this;return(0,me.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>os(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=fo.bind(null,s.syncEngine),yield ig(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new gy}createDatastore(e){const t=Fh(e.databaseInfo.databaseId),s=new y_(e.databaseInfo);return new b_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,u=e.asyncQueue,g=x=>os(this.syncEngine,x,0),y=lm.D()?new lm:new g_,new Xp(t,s,u,g,y);var t,s,u,g,y}createSyncEngine(e,t){return function(s,u,g,y,x,j,Z){const se=new en(s,u,g,y,x,j);return Z&&(se.vc=!0),se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const s=dn(t);$t("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield Yd(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _y(r,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<r.byteLength){const s={value:r.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class T_{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new qr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(s=>{s&&s.Qu()?this.metadata.resolve(s.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.Gu)}`))},s=>this.metadata.reject(s))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,me.Z)(function*(){const t=yield e.kc();if(null===t)return null;const s=e.xc.decode(t),u=Number(s);isNaN(u)&&e.Mc(`length string (${s}) is not valid number`);const g=yield e.$c(u);return new S(JSON.parse(g),t.length+u)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,me.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}$c(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const s=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class Xh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Bt(_t.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,me.Z)(function*(g,y){const x=dn(g),j=Fd(x.serializer)+"/documents",Z={documents:y.map(Nt=>kd(x.serializer,Nt))},se=yield x.vo("BatchGetDocuments",j,Z,y.length),Ce=new Map;se.forEach(Nt=>{const Zt=function Rs(r,e){return"found"in e?function(t,s){Dn(!!s.found);const u=wc(t,s.found.name),g=Lo(s.found.updateTime),y=s.found.createTime?Lo(s.found.createTime):Rn.min(),x=new ei({mapValue:{fields:s.found.fields}});return wi.newFoundDocument(u,g,y,x)}(r,e):"missing"in e?function(t,s){Dn(!!s.missing),Dn(!!s.readTime);const u=wc(t,s.missing),g=Lo(s.readTime);return wi.newNoDocument(u,g)}(r,e):gn()}(x.serializer,Nt);Ce.set(Zt.key.toString(),Zt)});const dt=[];return y.forEach(Nt=>{const Zt=Ce.get(Nt.toString());Dn(!!Zt),dt.push(Zt)}),dt}),function(g,y){return u.apply(this,arguments)})(t.datastore,e);var u;return s.forEach(u=>t.recordVersion(u)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new bc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,u)=>{const g=Gt.fromPath(u);e.mutations.push(new Ag(g,e.precondition(g)))}),yield(s=(0,me.Z)(function*(u,g){const y=dn(u),x=Fd(y.serializer)+"/documents",j={writes:g.map(Z=>$u(y.serializer,Z))};yield y.Io("Commit",x,j)}),function(u,g){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gn();t=Rn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Bt(_t.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rn.min())?Ws.exists(!1):Ws.updateTime(t):Ws.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rn.min()))throw new Bt(_t.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ws.updateTime(t)}return Ws.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class I_{constructor(e,t,s,u,g){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=u,this.deferred=g,this.Bc=s.maxAttempts,this.qo=new Lh(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,me.Z)(function*(){const t=new Xh(e.datastore),s=e.qc(t);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(g=>{e.Uc(g)}))}).catch(u=>{e.Uc(u)})}))}qc(e){try{const t=this.updateFunction(e);return!br(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Mg(t)}return!1}}class Av{constructor(e,t,s,u){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=u,this.user=rs.UNAUTHENTICATED,this.clientId=cl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,me.Z)(function*(x){$t("FirestoreClient","Received user=",x.uid),yield g.authCredentialListener(x),g.user=x});return function(x){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>($t("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bt(_t.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const u=ld(s,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function zf(r,e){return yy.apply(this,arguments)}function yy(){return yy=(0,me.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),$t("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var u=(0,me.Z)(function*(g){s.isEqual(g)||(yield im(e.localStore,g),s=g)});return function(g){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),yy.apply(this,arguments)}function vy(r,e){return C_.apply(this,arguments)}function C_(){return C_=(0,me.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield wm(r);$t("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(u=>mm(e.remoteStore,u)),r.setAppCheckTokenChangeListener((u,g)=>mm(e.remoteStore,g)),r._onlineComponents=e}),C_.apply(this,arguments)}function by(r){return"FirebaseError"===r.name?r.code===_t.FAILED_PRECONDITION||r.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function wm(r){return S_.apply(this,arguments)}function S_(){return S_=(0,me.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){$t("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!by(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),yield zf(r,new Hf)}}else $t("FirestoreClient","Using default OfflineComponentProvider"),yield zf(r,new Hf);return r._offlineComponents}),S_.apply(this,arguments)}function Bo(r){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,me.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?($t("FirestoreClient","Using user provided OnlineComponentProvider"),yield vy(r,r._uninitializedComponentsProvider._online)):($t("FirestoreClient","Using default OnlineComponentProvider"),yield vy(r,new ru))),r._onlineComponents}),Dm.apply(this,arguments)}function wy(r){return wm(r).then(e=>e.persistence)}function Em(r){return wm(r).then(e=>e.localStore)}function A_(r){return Bo(r).then(e=>e.remoteStore)}function N_(r){return Bo(r).then(e=>e.syncEngine)}function ef(r){return ih.apply(this,arguments)}function ih(){return ih=(0,me.Z)(function*(r){const e=yield Bo(r),t=e.eventManager;return t.onListen=Kt.bind(null,e.syncEngine),t.onUnlisten=Fr.bind(null,e.syncEngine),t}),ih.apply(this,arguments)}function Ey(r,e,t={}){const s=new qr;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(u,g,y,x,j){const Z=new bm({next:Ce=>{g.enqueueAndForget(()=>rh(u,se));const dt=Ce.docs.has(y);!dt&&Ce.fromCache?j.reject(new Bt(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):dt&&Ce.fromCache&&x&&"server"===x.source?j.reject(new Bt(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),se=new v(ju(y.path),Z,{includeMetadataChanges:!0,Ku:!0});return Vf(u,se)}(yield ef(r),r.asyncQueue,e,t,s)})),s.promise}function Ov(r,e,t={}){const s=new qr;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(u,g,y,x,j){const Z=new bm({next:Ce=>{g.enqueueAndForget(()=>rh(u,se)),Ce.fromCache&&"server"===x.source?j.reject(new Bt(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ce)},error:Ce=>j.reject(Ce)}),se=new v(y,Z,{includeMetadataChanges:!0,Ku:!0});return Vf(u,se)}(yield ef(r),r.asyncQueue,e,t,s)})),s.promise}function x_(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const rc=new Map;function iu(r,e,t){if(!t)throw new Bt(_t.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ou(r,e,t,s){if(!0===e&&!0===s)throw new Bt(_t.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function P_(r){if(!Gt.isDocumentKey(r))throw new Bt(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function k_(r){if(Gt.isDocumentKey(r))throw new Bt(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tm(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":gn()}function ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Bt(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tm(r);throw new Bt(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Iy(r,e){if(e<=0)throw new Bt(_t.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Cy{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Bt(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Bt(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ou("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=x_(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new Bt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Bt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Bt(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,t,s,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bt(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Bt(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wi;switch(t.type){case"firstParty":return new oa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Bt(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rc.get(e);t&&($t("ComponentProvider","Removing Datastore"),rc.delete(e),t.terminate())}(this),Promise.resolve()}}class no{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new no(this.firestore,e,this._key)}}class Ba{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class Mc extends Ba{constructor(e,t,s){super(e,t,ju(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new no(this.firestore,null,new Gt(e))}withConverter(e){return new Mc(this.firestore,e,this._path)}}function Sy(r,e,...t){if(r=(0,Qe.m9)(r),iu("collection","path",e),r instanceof tf){const s=Pr.fromString(e,...t);return k_(s),new Mc(r,null,s)}{if(!(r instanceof no||r instanceof Mc))throw new Bt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return k_(s),new Mc(r.firestore,null,s)}}function hg(r,e,...t){if(r=(0,Qe.m9)(r),1===arguments.length&&(e=cl.A()),iu("doc","path",e),r instanceof tf){const s=Pr.fromString(e,...t);return P_(s),new no(r,null,new Gt(s))}{if(!(r instanceof no||r instanceof Mc))throw new Bt(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Pr.fromString(e,...t));return P_(s),new no(r.firestore,r instanceof Mc?r.converter:null,new Gt(s))}}function fg(r,e){return r=(0,Qe.m9)(r),e=(0,Qe.m9)(e),(r instanceof no||r instanceof Mc)&&(e instanceof no||e instanceof Mc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function F_(r,e){return r=(0,Qe.m9)(r),e=(0,Qe.m9)(e),r instanceof Ba&&e instanceof Ba&&r.firestore===e.firestore&&Yl(r._query,e._query)&&r.converter===e.converter}class Ny{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Lh(this,"async_queue_retry"),this.Xc=()=>{const t=kh();t&&$t("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=kh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=kh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,me.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!k(t))throw t;$t("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,fr("INTERNAL UNHANDLED ERROR: ",function(g){let y=g.message||"";return g.stack&&(y=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),y}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const u=Wh.createAndSchedule(this,e,t,s,g=>this.na(g));return this.zc.push(u),u}Zc(){this.Wc&&gn()}verifyOperationInProgress(){}sa(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Im(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const u of["next","error","complete"])if(u in s&&"function"==typeof s[u])return!0;return!1}(r)}class L_{constructor(){this._progressObserver={},this._taskCompletionResolver=new qr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qs extends tf{constructor(e,t,s,u){super(e,t,s,u),this.type="firestore",this._queue=new Ny,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||B_(this),this._firestoreClient.terminate()}}function Uo(r){return r._firestoreClient||B_(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function B_(r){var e,t,s;const u=r._freezeSettings(),g=(x=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Td(r._databaseId,x,r._persistenceKey,(Z=u).host,Z.ssl,Z.experimentalForceLongPolling,Z.experimentalAutoDetectLongPolling,x_(Z.experimentalLongPollingOptions),Z.useFetchStreams));var x,Z;r._firestoreClient=new Av(r._authCredentials,r._appCheckCredentials,r._queue,g),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=u.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}function U_(r,e,t){const s=new qr;return r.asyncQueue.enqueue((0,me.Z)(function*(){try{yield zf(r,t),yield vy(r,e),s.resolve()}catch(u){const g=u;if(!by(g))throw g;sa("Error enabling indexeddb cache. Falling back to memory cache: "+g),s.reject(g)}})).then(()=>s.promise)}function xy(r){if(r._initialized||r._terminated)throw new Bt(_t.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Ms.fromBase64String(e))}catch(t){throw new Bt(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oc(Ms.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Bt(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nf{constructor(e){this._methodName=e}}class Sm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dr(this._lat,e._lat)||dr(this._long,e._long)}}const Gv=/^__.*__$/;class jv{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class Py{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new La(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gn()}}class gg{constructor(e,t,s,u,g,y){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===g&&this.ua(),this.fieldTransforms=g||[],this.fieldMask=y||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:s,la:!1});return u.fa(e),u}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.aa({path:s,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pr(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(V_(this.ca)&&Gv.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ky{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Fh(e)}ya(e,t,s,u=!1){return new gg({ca:e,methodName:t,ga:s,path:is.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sh(r){const e=r._freezeSettings(),t=Fh(r._databaseId);return new ky(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mg(r,e,t,s,u,g={}){const y=r.ya(g.merge||g.mergeFields?2:0,e,t,u);Uy("Data must be an object, but it was:",y,s);const x=$v(s,y);let j,Z;if(g.merge)j=new Hs(y.fieldMask),Z=y.fieldTransforms;else if(g.mergeFields){const se=[];for(const Ce of g.mergeFields){const dt=qf(e,Ce,t);if(!y.contains(dt))throw new Bt(_t.INVALID_ARGUMENT,`Field '${dt}' is specified in your field mask but missing from your input data.`);Gy(se,dt)||se.push(dt)}j=new Hs(se),Z=y.fieldTransforms.filter(Ce=>j.covers(Ce.field))}else j=null,Z=y.fieldTransforms;return new jv(new ei(x),j,Z)}class Kf extends nf{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function G_(r,e,t){return new gg({ca:3,ga:e.settings.ga,methodName:r._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Am extends nf{_toFieldTransform(e){return new hf(e.path,new vl)}isEqual(e){return e instanceof Am}}class Fy extends nf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=G_(this,e,!0),s=this.pa.map(g=>Ru(g,t)),u=new mc(s);return new hf(e.path,u)}isEqual(e){return this===e}}class j_ extends nf{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=G_(this,e,!0),s=this.pa.map(g=>Ru(g,t)),u=new _c(s);return new hf(e.path,u)}isEqual(e){return this===e}}class Ly extends nf{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new qc(e.serializer,Wc(e.serializer,this.Ia));return new hf(e.path,t)}isEqual(e){return this===e}}function fd(r,e,t,s){const u=r.ya(1,e,t);Uy("Data must be an object, but it was:",u,s);const g=[],y=ei.empty();Wl(s,(j,Z)=>{const se=H_(e,j,t);Z=(0,Qe.m9)(Z);const Ce=u.da(se);if(Z instanceof Kf)g.push(se);else{const dt=Ru(Z,Ce);null!=dt&&(g.push(se),y.set(se,dt))}});const x=new Hs(g);return new Py(y,x,u.fieldTransforms)}function $_(r,e,t,s,u,g){const y=r.ya(1,e,t),x=[qf(e,s,t)],j=[u];if(g.length%2!=0)throw new Bt(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let dt=0;dt<g.length;dt+=2)x.push(qf(e,g[dt])),j.push(g[dt+1]);const Z=[],se=ei.empty();for(let dt=x.length-1;dt>=0;--dt)if(!Gy(Z,x[dt])){const Nt=x[dt];let Zt=j[dt];Zt=(0,Qe.m9)(Zt);const Cn=y.da(Nt);if(Zt instanceof Kf)Z.push(Nt);else{const An=Ru(Zt,Cn);null!=An&&(Z.push(Nt),se.set(Nt,An))}}const Ce=new Hs(Z);return new Py(se,Ce,y.fieldTransforms)}function By(r,e,t,s=!1){return Ru(t,r.ya(s?4:3,e))}function Ru(r,e){if(Nm(r=(0,Qe.m9)(r)))return Uy("Unsupported field value:",e,r),$v(r,e);if(r instanceof nf)return function(t,s){if(!V_(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(s);u&&s.fieldTransforms.push(u)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const u=[];let g=0;for(const y of t){let x=Ru(y,s.wa(g));null==x&&(x={nullValue:"NULL_VALUE"}),u.push(x),g++}return{arrayValue:{values:u}}}(r,e)}return function(t,s){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Wc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Pi.fromDate(t);return{timestampValue:Pd(s.serializer,u)}}if(t instanceof Pi){const u=new Pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pd(s.serializer,u)}}if(t instanceof Sm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oc)return{bytesValue:Fg(s.serializer,t._byteString)};if(t instanceof no){const u=s.databaseId,g=t.firestore._databaseId;if(!g.isEqual(u))throw s._a(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Tm(t)}`)}(r,e)}function $v(r,e){const t={};return Bu(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wl(r,(s,u)=>{const g=Ru(u,e.ha(s));null!=g&&(t[s]=g)}),{mapValue:{fields:t}}}function Nm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Pi||r instanceof Sm||r instanceof Oc||r instanceof no||r instanceof nf)}function Uy(r,e,t){if(!Nm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Tm(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function qf(r,e,t){if((e=(0,Qe.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return H_(r,e);throw pr("Field path arguments must be of type string or ",r,!1,void 0,t)}const Vy=new RegExp("[~\\*/\\[\\]]");function H_(r,e,t){if(e.search(Vy)>=0)throw pr(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw pr(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function pr(r,e,t,s,u){const g=s&&!s.isEmpty(),y=void 0!==u;let x=`Function ${e}() called with invalid data`;t&&(x+=" (via `toFirestore()`)"),x+=". ";let j="";return(g||y)&&(j+=" (found",g&&(j+=` in field ${s}`),y&&(j+=` in document ${u}`),j+=")"),new Bt(_t.INVALID_ARGUMENT,x+r+j)}function Gy(r,e){return r.some(t=>t.isEqual(e))}class _g{constructor(e,t,s,u,g){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=u,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new no(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hv extends _g{data(){return super.data()}}function pd(r,e){return"string"==typeof e?H_(r,e):e instanceof hd?e._internalPath:e._delegate._internalPath}function jy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Bt(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zf{}class oh extends Zf{}function Ts(r,e,...t){let s=[];e instanceof Zf&&s.push(e),s=s.concat(t),function(u){const g=u.filter(x=>x instanceof rf).length,y=u.filter(x=>x instanceof Mm).length;if(g>1||g>0&&y>0)throw new Bt(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)r=u._apply(r);return r}class Mm extends oh{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Mm(e,t,s)}_apply(e){const t=this._parse(e);return zy(e._query,t),new Ba(e.firestore,e.converter,jc(e._query,t))}_parse(e){const t=sh(e.firestore);return function(u,g,y,x,j,Z,se){let Ce;if(j.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new Bt(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){K_(se,Z);const dt=[];for(const Nt of se)dt.push(W_(x,u,Nt));Ce={arrayValue:{values:dt}}}else Ce=W_(x,u,se)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||K_(se,Z),Ce=By(y,"where",se,"in"===Z||"not-in"===Z);return Ur.create(j,Z,Ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class rf extends Zf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rf(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Di.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,u){let g=s;const y=u.getFlattenedFilters();for(const x of y)zy(g,x),g=jc(g,x)}(e._query,t),new Ba(e.firestore,e.converter,jc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Om extends oh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Om(e,t)}_apply(e){const t=function(s,u,g){if(null!==s.startAt)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new Wa(u,g);return function(x,j){if(null===Ad(x)){const Z=Zl(x);null!==Z&&Yf(0,Z,j.field)}}(s,y),y}(e._query,this._field,this._direction);return new Ba(e.firestore,e.converter,function(s,u){const g=s.explicitOrderBy.concat([u]);return new ua(s.path,s.collectionGroup,g,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class yg extends oh{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new yg(e,t,s)}_apply(e){return new Ba(e.firestore,e.converter,yu(e._query,this._limit,this._limitType))}}class Rm extends oh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Rm(e,t,s)}_apply(e){const t=z_(e,this.type,this._docOrFields,this._inclusive);return new Ba(e.firestore,e.converter,(u=t,new ua((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)));var s,u}}class xm extends oh{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new xm(e,t,s)}_apply(e){const t=z_(e,this.type,this._docOrFields,this._inclusive);return new Ba(e.firestore,e.converter,(u=t,new ua((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)));var s,u}}function z_(r,e,t,s){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof _g)return function(u,g,y,x,j){if(!x)throw new Bt(_t.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const Z=[];for(const se of kl(u))if(se.field.isKeyField())Z.push(L(g,x.key));else{const Ce=x.data.field(se.field);if(Kl(Ce))throw new Bt(_t.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+se.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ce){const dt=se.field.canonicalString();throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${dt}' (used as the orderBy) does not exist.`)}Z.push(Ce)}return new Yo(Z,j)}(r._query,r.firestore._databaseId,e,t[0]._document,s);{const u=sh(r.firestore);return function(g,y,x,j,Z,se){const Ce=g.explicitOrderBy;if(Z.length>Ce.length)throw new Bt(_t.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const dt=[];for(let Nt=0;Nt<Z.length;Nt++){const Zt=Z[Nt];if(Ce[Nt].field.isKeyField()){if("string"!=typeof Zt)throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Zt}`);if(!Gc(g)&&-1!==Zt.indexOf("/"))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Zt}' contains a slash.`);const Cn=g.path.child(Pr.fromString(Zt));if(!Gt.isDocumentKey(Cn))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Cn}' is not because it contains an odd number of segments.`);const An=new Gt(Cn);dt.push(L(y,An))}else{const Cn=By(x,j,Zt);dt.push(Cn)}}return new Yo(dt,se)}(r._query,r.firestore._databaseId,u,e,t,s)}}function W_(r,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new Bt(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gc(e)&&-1!==t.indexOf("/"))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Pr.fromString(t));if(!Gt.isDocumentKey(s))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L(r,new Gt(s))}if(t instanceof no)return L(r,t._key);throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(t)}.`)}function K_(r,e){if(!Array.isArray(r)||0===r.length)throw new Bt(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zy(r,e){if(e.isInequality()){const s=Zl(r),u=e.field;if(null!==s&&!s.isEqual(u))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const g=Ad(r);null!==g&&Yf(0,u,g)}const t=function(s,u){for(const g of s)for(const y of g.getFlattenedFilters())if(u.indexOf(y.op)>=0)return y.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Bt(_t.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Yf(r,e,t){if(!t.isEqual(e))throw new Bt(_t.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class q_{convertValue(e,t="none"){switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Wl(e,(u,g)=>{s[u]=this.convertValue(g,t)}),s}convertGeoPoint(e){return new Sm(zs(e.latitude),zs(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ml(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const t=mu(e);return new Pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Pr.fromString(e);Dn(jg(s));const u=new Po(s.get(1),s.get(3)),g=new Gt(s.popFirst(5));return u.isEqual(t)||fr(`Document ${g} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function km(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Yv extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new no(this.firestore,null,t)}}class sf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends _g{constructor(e,t,s,u,g,y){super(e,t,s,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(pd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Fm extends gd{data(e={}){return super.data(e)}}class af{constructor(e,t,s,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new sf(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Fm(this._firestore,this._userDataWriter,s.key,s,new sf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,u){if(s._snapshot.oldDocs.isEmpty()){let g=0;return s._snapshot.docChanges.map(y=>({type:"added",doc:new Fm(s._firestore,s._userDataWriter,y.doc.key,y.doc,new sf(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:g++}))}{let g=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const x=new Fm(s._firestore,s._userDataWriter,y.doc.key,y.doc,new sf(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter);let j=-1,Z=-1;return 0!==y.type&&(j=g.indexOf(y.doc.key),g=g.delete(y.doc.key)),1!==y.type&&(g=g.add(y.doc),Z=g.indexOf(y.doc.key)),{type:nb(y.type),doc:x,oldIndex:j,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gn()}}function e0(r,e){return r instanceof gd&&e instanceof gd?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof af&&e instanceof af&&r._firestore===e._firestore&&F_(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}class ic extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new no(this.firestore,null,t)}}function Zy(r,e,t){r=ki(r,no);const s=ki(r.firestore,qs),u=km(r.converter,e,t);return Jf(s,[mg(sh(s),"setDoc",r._key,u,null!==r.converter,t).toMutation(r._key,Ws.none())])}function Yy(r,e,t,...s){r=ki(r,no);const u=ki(r.firestore,qs),g=sh(u);let y;return y="string"==typeof(e=(0,Qe.m9)(e))||e instanceof hd?$_(g,"updateDoc",r._key,e,t,s):fd(g,"updateDoc",r._key,e),Jf(u,[y.toMutation(r._key,Ws.exists(!0))])}function Qy(r,...e){var t,s,u;r=(0,Qe.m9)(r);let g={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Im(e[y])||(g=e[y],y++);const x={includeMetadataChanges:g.includeMetadataChanges};if(Im(e[y])){const Ce=e[y];e[y]=null===(t=Ce.next)||void 0===t?void 0:t.bind(Ce),e[y+1]=null===(s=Ce.error)||void 0===s?void 0:s.bind(Ce),e[y+2]=null===(u=Ce.complete)||void 0===u?void 0:u.bind(Ce)}let j,Z,se;if(r instanceof no)Z=ki(r.firestore,qs),se=ju(r._key.path),j={next:Ce=>{e[y]&&e[y](Z_(Z,r,Ce))},error:e[y+1],complete:e[y+2]};else{const Ce=ki(r,Ba);Z=ki(Ce.firestore,qs),se=Ce._query;const dt=new ic(Z);j={next:Nt=>{e[y]&&e[y](new af(Z,dt,Ce,Nt))},error:e[y+1],complete:e[y+2]},jy(r._query)}return function(Ce,dt,Nt,Zt){const Cn=new bm(Zt),An=new v(dt,Cn,Nt);return Ce.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return Vf(yield ef(Ce),An)})),()=>{Cn.Dc(),Ce.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return rh(yield ef(Ce),An)}))}}(Uo(Z),se,x,j)}function Jf(r,e){return function(t,s){const u=new qr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function oi(r,e,t){return Vr.apply(this,arguments)}(yield N_(t),s,u)})),u.promise}(Uo(r),e)}function Z_(r,e,t){const s=t.docs.get(e._key),u=new ic(r);return new gd(r,u,e._key,s,new sf(t.hasPendingWrites,t.fromCache),e.converter)}const d0={maxAttempts:5};class Bm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sh(e)}set(e,t,s){this._verifyNotCommitted();const u=ah(e,this._firestore),g=km(u.converter,t,s),y=mg(this._dataReader,"WriteBatch.set",u._key,g,null!==u.converter,s);return this._mutations.push(y.toMutation(u._key,Ws.none())),this}update(e,t,s,...u){this._verifyNotCommitted();const g=ah(e,this._firestore);let y;return y="string"==typeof(t=(0,Qe.m9)(t))||t instanceof hd?$_(this._dataReader,"WriteBatch.update",g._key,t,s,u):fd(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(y.toMutation(g._key,Ws.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ah(e,this._firestore);return this._mutations=this._mutations.concat(new bc(t._key,Ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Bt(_t.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ah(r,e){if((r=(0,Qe.m9)(r)).firestore!==e)throw new Bt(_t.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class iv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sh(e)}get(e){const t=ah(e,this._firestore),s=new Yv(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return gn();const g=u[0];if(g.isFoundDocument())return new _g(this._firestore,s,g.key,g,t.converter);if(g.isNoDocument())return new _g(this._firestore,s,t._key,null,t.converter);throw gn()})}set(e,t,s){const u=ah(e,this._firestore),g=km(u.converter,t,s),y=mg(this._dataReader,"Transaction.set",u._key,g,null!==u.converter,s);return this._transaction.set(u._key,y),this}update(e,t,s,...u){const g=ah(e,this._firestore);let y;return y="string"==typeof(t=(0,Qe.m9)(t))||t instanceof hd?$_(this._dataReader,"Transaction.update",g._key,t,s,u):fd(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,y),this}delete(e){const t=ah(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ah(e,this._firestore),s=new ic(this._firestore);return super.get(e).then(u=>new gd(this._firestore,s,t._key,u._document,new sf(!1,!1),t.converter))}}!function(r,e=!0){Xa=ht.SDK_VERSION,(0,ht._registerComponent)(new Me.wA("firestore",(t,{instanceIdentifier:s,options:u})=>{const g=t.getProvider("app").getImmediate(),y=new qs(new Es(t.getProvider("auth-internal")),new uu(t.getProvider("app-check-internal")),function(x,j){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Bt(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(x.options.projectId,j)}(g,s),g);return u=Object.assign({useFetchStreams:e},u),y._setSettings(u),y},"PUBLIC").setMultipleInstances(!0)),(0,ht.registerVersion)(sc,"3.12.1",r),(0,ht.registerVersion)(sc,"3.12.1","esm2017")}();function Q_(r,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Bt("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return e}function Um(){if(typeof Uint8Array>"u")throw new Bt("unimplemented","Uint8Arrays are not available in this environment.")}function J_(){if(!function Ed(){return typeof atob<"u"}())throw new Bt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class wg{constructor(e){this._delegate=e}static fromBase64String(e){return J_(),new wg(Oc.fromBase64String(e))}static fromUint8Array(e){return Um(),new wg(Oc.fromUint8Array(e))}toBase64(){return J_(),this._delegate.toBase64()}toUint8Array(){return Um(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function X_(r){return function ey(r,e){if("object"!=typeof r||null===r)return!1;const t=r;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(r,["next","error","complete"])}class ty{enableIndexedDbPersistence(e,t){return function My(r,e){xy(r=ki(r,qs));const t=Uo(r);if(t._uninitializedComponentsProvider)throw new Bt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");sa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=r._freezeSettings(),u=new ru;return U_(t,u,new vm(u,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Oy(r){xy(r=ki(r,qs));const e=Uo(r);if(e._uninitializedComponentsProvider)throw new Bt(_t.FAILED_PRECONDITION,"SDK cache is already specified.");sa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings(),s=new ru;return U_(e,s,new dg(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function kv(r){if(r._initialized&&!r._terminated)throw new Bt(_t.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(s){if(!A.D())return Promise.resolve();const u=s+"main";yield A.delete(u)}),function(s){return t.apply(this,arguments)})(Gp(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ny{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Po||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&sa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Wf(r,e,t,s={}){var u;const g=(r=ki(r,tf))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&sa("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let y,x;if("string"==typeof s.mockUserToken)y=s.mockUserToken,x=rs.MOCK_USER;else{y=(0,Qe.Sg)(s.mockUserToken,null===(u=r._app)||void 0===u?void 0:u.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new Bt(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new rs(j)}r._authCredentials=new lu(new ul(y,x))}}(this._delegate,e,t,s)}enableNetwork(){return function Fv(r){return function Nv(r){return r.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield wy(r),t=yield A_(r);return e.setNetworkEnabled(!0),function(s){const u=dn(s);return u.vu.delete(0),nu(u)}(t)}))}(Uo(r=ki(r,qs)))}(this._delegate)}disableNetwork(){return function Lv(r){return function Mv(r){return r.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield wy(r),t=yield A_(r);return e.setNetworkEnabled(!1),(s=(0,me.Z)(function*(u){const g=dn(u);g.vu.add(0),yield Yd(g),g.bu.set("Offline")}),function(u){return s.apply(this,arguments)})(t);var s}))}(Uo(r=ki(r,qs)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Ou("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ry(r){return function(e){const t=new qr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function In(r,e){return Ln.apply(this,arguments)}(yield N_(e),t)})),t.promise}(Uo(r=ki(r,qs)))}(this._delegate)}onSnapshotsInSync(e){return function Jy(r,e){return function O_(r,e){const t=new bm(e);return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield ef(r),u=t,dn(s).ku.add(u),void u.next();var s,u})),()=>{t.Dc(),r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return s=yield ef(r),u=t,void dn(s).ku.delete(u);var s,u}))}}(Uo(r=ki(r,qs)),Im(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Bt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tp(this,Sy(this._delegate,e))}catch(t){throw ga(t,"collection()","Firestore.collection()")}}doc(e){try{return new su(this,hg(this._delegate,e))}catch(t){throw ga(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Za(this,function Ay(r,e){if(r=ki(r,tf),iu("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Bt(_t.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ba(r,null,(t=e,new ua(Pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ga(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function h0(r,e,t){r=ki(r,qs);const s=Object.assign(Object.assign({},d0),t);return function(u){if(u.maxAttempts<1)throw new Bt(_t.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(u,g,y){const x=new qr;return u.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const j=yield function M_(r){return Bo(r).then(e=>e.datastore)}(u);new I_(u.asyncQueue,j,y,g,x).run()})),x.promise}(Uo(r),u=>e(new iv(r,u)),s)}(this._delegate,t=>e(new av(this,t)))}batch(){return Uo(this._delegate),new Vm(new Bm(this._delegate,e=>Jf(this._delegate,e)))}loadBundle(e){return function Bv(r,e){const t=Uo(r=ki(r,qs)),s=new L_;return function R_(r,e,t,s){const u=function(g,y){let x;return x="string"==typeof g?yp().encode(g):g,j=function(j,Z){if(j instanceof Uint8Array)return _y(j,Z);if(j instanceof ArrayBuffer)return _y(new Uint8Array(j),Z);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(x),new T_(j,y);var j}(t,Fh(e));r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function cg(r,e,t){const s=dn(r);var u;(u=(0,me.Z)(function*(g,y,x){try{const j=yield y.getMetadata();if(yield function(dt,Nt){const Zt=dn(dt),Cn=Lo(Nt.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",An=>Zt.qs.getBundleMetadata(An,Nt.id)).then(An=>!!An&&An.createTime.compareTo(Cn)>=0)}(g.localStore,j))return yield y.close(),x._completeWith({taskState:"Success",documentsLoaded:(dt=j).totalDocuments,bytesLoaded:dt.totalBytes,totalDocuments:dt.totalDocuments,totalBytes:dt.totalBytes}),Promise.resolve(new Set);x._updateProgress(re(j));const Z=new Q(j,g.localStore,y.serializer);let se=yield y.bc();for(;se;){const dt=yield Z.zu(se);dt&&x._updateProgress(dt),se=yield y.bc()}const Ce=yield Z.complete();return yield ho(g,Ce.Ju,void 0),yield function(dt,Nt){const Zt=dn(dt);return Zt.persistence.runTransaction("Save bundle","readwrite",Cn=>Zt.qs.saveBundleMetadata(Cn,Nt))}(g.localStore,j),x._completeWith(Ce.progress),Promise.resolve(Ce.Hu)}catch(j){return sa("SyncEngine",`Loading bundle failed with ${j}`),x._failWith(j),Promise.resolve(new Set)}var dt}),function(g,y,x){return u.apply(this,arguments)})(s,e,t).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield N_(r),u,s)}))}(t,r._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Uv(r,e){return function Nc(r,e){return r.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,s){const u=dn(t);return u.persistence.runTransaction("Get named query","readonly",g=>u.qs.getNamedQuery(g,s))}(yield Em(r),e)}))}(Uo(r=ki(r,qs)),e).then(t=>t?new Ba(r,null,t.query):null)}(this._delegate,e).then(t=>t?new Za(this,t):null)}}class Xf extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new wg(new Oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return su.forKey(t,this.firestore,null)}}class av{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}get(e){const t=lh(e);return this._delegate.get(t).then(s=>new Gm(this._firestore,new gd(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const u=lh(e);return s?(Q_("Transaction.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const g=lh(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...u),this}delete(e){const t=lh(e);return this._delegate.delete(t),this}}class Vm{constructor(e){this._delegate=e}set(e,t,s){const u=lh(e);return s?(Q_("WriteBatch.set",s),this._delegate.set(u,t,s)):this._delegate.set(u,t),this}update(e,t,s,...u){const g=lh(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,s,...u),this}delete(e){const t=lh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lf{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new Fm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ep(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=lf.INSTANCES;let u=s.get(e);u||(u=new WeakMap,s.set(e,u));let g=u.get(t);return g||(g=new lf(e,new Xf(e),t),u.set(t,g)),g}}lf.INSTANCES=new WeakMap;class su{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Bt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new su(t,new no(t._delegate,s,new Gt(e)))}static forKey(e,t,s){return new su(t,new no(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new tp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tp(this.firestore,Sy(this._delegate,e))}catch(t){throw ga(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof no&&fg(this._delegate,e)}set(e,t){t=Q_("DocumentReference.set",t);try{return t?Zy(this._delegate,e,t):Zy(this._delegate,e)}catch(s){throw ga(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Yy(this._delegate,e):Yy(this._delegate,e,t,...s)}catch(u){throw ga(u,"updateDoc()","DocumentReference.update()")}}delete(){return function s0(r){return Jf(ki(r.firestore,qs),[new bc(r._key,Ws.none())])}(this._delegate)}onSnapshot(...e){const t=ry(e),s=lv(e,u=>new Gm(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Qy(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function t0(r){r=ki(r,no);const e=ki(r.firestore,qs),t=Uo(e),s=new ic(e);return function Dy(r,e){const t=new qr;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(u,g,y){try{const x=yield function(j,Z){const se=dn(j);return se.persistence.runTransaction("read document","readonly",Ce=>se.localDocuments.getDocument(Ce,Z))}(u,g);x.isFoundDocument()?y.resolve(x):x.isNoDocument()?y.resolve(null):y.reject(new Bt(_t.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(x){const j=ld(x,`Failed to get document '${g} from cache`);y.reject(j)}}),function(u,g,y){return s.apply(this,arguments)})(yield Em(r),e,t);var s})),t.promise}(t,r._key).then(u=>new gd(e,s,r._key,u,new sf(null!==u&&u.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===e?.source?function n0(r){r=ki(r,no);const e=ki(r.firestore,qs);return Ey(Uo(e),r._key,{source:"server"}).then(t=>Z_(e,r,t))}(this._delegate):function Ky(r){r=ki(r,no);const e=ki(r.firestore,qs);return Ey(Uo(e),r._key).then(t=>Z_(e,r,t))}(this._delegate),t.then(s=>new Gm(this.firestore,new gd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new su(this.firestore,this._delegate.withConverter(e?lf.getInstance(this.firestore,e):null))}}function ga(r,e,t){return r.message=r.message.replace(e,t),r}function ry(r){for(const e of r)if("object"==typeof e&&!X_(e))return e;return{}}function lv(r,e){var t,s;let u;return u=X_(r[0])?r[0]:X_(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:g=>{u.next&&u.next(e(g))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class Gm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new su(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return e0(this._delegate,e._delegate)}}class ep extends Gm{data(e){const t=this._delegate.data(e);return function ku(r,e){r||gn()}(void 0!==t),t}}class Za{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Xf(e)}where(e,t,s){try{return new Za(this.firestore,Ts(this._delegate,function $y(r,e,t){const s=e,u=pd("where",r);return Mm._create(u,s,t)}(e,t,s)))}catch(u){throw ga(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Za(this.firestore,Ts(this._delegate,function Hy(r,e="asc"){const t=e,s=pd("orderBy",r);return Om._create(s,t)}(e,t)))}catch(s){throw ga(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Za(this.firestore,Ts(this._delegate,function Wv(r){return Iy("limit",r),yg._create("limit",r,"F")}(e)))}catch(t){throw ga(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Za(this.firestore,Ts(this._delegate,function Kv(r){return Iy("limitToLast",r),yg._create("limitToLast",r,"L")}(e)))}catch(t){throw ga(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Za(this.firestore,Ts(this._delegate,function vg(...r){return Rm._create("startAt",r,!0)}(...e)))}catch(t){throw ga(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Za(this.firestore,Ts(this._delegate,function qv(...r){return Rm._create("startAfter",r,!1)}(...e)))}catch(t){throw ga(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Za(this.firestore,Ts(this._delegate,function Zv(...r){return xm._create("endBefore",r,!1)}(...e)))}catch(t){throw ga(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Za(this.firestore,Ts(this._delegate,function Pm(...r){return xm._create("endAt",r,!0)}(...e)))}catch(t){throw ga(t,"endAt()","Query.endAt()")}}isEqual(e){return F_(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function bg(r){r=ki(r,Ba);const e=ki(r.firestore,qs),t=Uo(e),s=new ic(e);return function Ty(r,e){const t=new qr;return r.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(s=(0,me.Z)(function*(u,g,y){try{const x=yield Wd(u,g,!0),j=new vt(g,x.ir),Z=j.sc(x.documents),se=j.applyChanges(Z,!1);y.resolve(se.snapshot)}catch(x){const j=ld(x,`Failed to execute query '${g} against cache`);y.reject(j)}}),function(u,g,y){return s.apply(this,arguments)})(yield Em(r),e,t);var s})),t.promise}(t,r._query).then(u=>new af(e,s,r,u))}(this._delegate):"server"===e?.source?function r0(r){r=ki(r,Ba);const e=ki(r.firestore,qs),t=Uo(e),s=new ic(e);return Ov(t,r._query,{source:"server"}).then(u=>new af(e,s,r,u))}(this._delegate):function qy(r){r=ki(r,Ba);const e=ki(r.firestore,qs),t=Uo(e),s=new ic(e);return jy(r._query),Ov(t,r._query).then(u=>new af(e,s,r,u))}(this._delegate),t.then(s=>new Dg(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=ry(e),s=lv(e,u=>new Dg(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Qy(this._delegate,t,s)}withConverter(e){return new Za(this.firestore,this._delegate.withConverter(e?lf.getInstance(this.firestore,e):null))}}class v0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ep(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Za(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ep(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new v0(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new ep(this._firestore,s))})}isEqual(e){return e0(this._delegate,e._delegate)}}class tp extends Za{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new su(this.firestore,e):null}doc(e){try{return new su(this.firestore,void 0===e?hg(this._delegate):hg(this._delegate,e))}catch(t){throw ga(t,"doc()","CollectionReference.doc()")}}add(e){return function rb(r,e){const t=ki(r.firestore,qs),s=hg(r),u=km(r.converter,e);return Jf(t,[mg(sh(r.firestore),"addDoc",s._key,u,null!==r.converter,{}).toMutation(s._key,Ws.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new su(this.firestore,t))}isEqual(e){return fg(this._delegate,e._delegate)}withConverter(e){return new tp(this.firestore,this._delegate.withConverter(e?lf.getInstance(this.firestore,e):null))}}function lh(r){return ki(r,no)}class Eg{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new Eg(is.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class uh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function p0(){return new Am("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new uh(e)}static delete(){const e=function f0(){return new Kf("deleteField")}();return e._methodName="FieldValue.delete",new uh(e)}static arrayUnion(...e){const t=function g0(...r){return new Fy("arrayUnion",r)}(...e);return t._methodName="FieldValue.arrayUnion",new uh(t)}static arrayRemove(...e){const t=function m0(...r){return new j_("arrayRemove",r)}(...e);return t._methodName="FieldValue.arrayRemove",new uh(t)}static increment(e){const t=function _0(r){return new Ly("increment",r)}(e);return t._methodName="FieldValue.increment",new uh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const uv={Firestore:ny,GeoPoint:Sm,Timestamp:Pi,Blob:wg,Transaction:av,WriteBatch:Vm,DocumentReference:su,DocumentSnapshot:Gm,Query:Za,QueryDocumentSnapshot:ep,QuerySnapshot:Dg,CollectionReference:tp,FieldPath:Eg,FieldValue:uh,setLogLevel:function y0(r){!function _d(r){Pa.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function dv(r){(function cv(r,e){r.INTERNAL.registerComponent(new Me.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(s,u)},"PUBLIC").setServiceProps(Object.assign({},uv)))})(r,(e,t)=>new ny(e,t,new ty)),r.registerVersion("@firebase/firestore-compat","0.3.10")}(Ve.Z);var ch=G(1205),b0=G(6217);function iy(r,e){return function w0(r,e=z.z){return new W.y(t=>{let s;return null!=e?e.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},t)}):s=r.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(r,e)}function jm(r,e){return iy(r,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function $m(r,e){return jm(r,e).pipe((0,Pe.O)(void 0),_e(),(0,ge.U)(([t,s])=>{const u=s.payload.docChanges(),g=u.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((y,x)=>{const j=u.find(se=>se.doc.ref.isEqual(y.ref)),Z=t?.payload.docs.find(se=>se.ref.isEqual(y.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(y.metadata)||!j&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(y.metadata)||g.push({type:"modified",payload:{oldIndex:x,newIndex:x,type:"modified",doc:y}})}),g}))}function hv(r,e,t){return $m(r,t).pipe((0,Ne.R)((s,u)=>function db(r,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(r=function D0(r,e){switch(e.type){case"added":if(!r[e.newIndex]||!r[e.newIndex].doc.ref.isEqual(e.doc.ref))return sy(r,e.newIndex,0,e);break;case"modified":if(null==r[e.oldIndex]||r[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=r.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sy(r,e.newIndex,1,e)}break;case"removed":if(r[e.oldIndex]&&r[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sy(r,e.oldIndex,1)}return r}(r,s))}),r}(s,u.map(g=>g.payload),e),[]),(0,rt.x)(),(0,ge.U)(s=>s.map(u=>({type:u.type,payload:u}))))}function sy(r,e,t,...s){const u=r.slice();return u.splice(e,t,...s),u}function fv(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}G(9260);class oy{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=$m(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(s=>s.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,Pe.O)(void 0),_e(),(0,st.h)(([s,u])=>u.length>0||!s),(0,ge.U)(([s,u])=>u),Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=fv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Ie.iC)}get(e){return(0,f.D)(this.query.get(e)).pipe(Ie.iC)}add(e){return this.ref.add(e)}doc(e){return new ay(this.ref.doc(e),this.afs)}}class ay{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:u,query:g}=gv(s,t);return new oy(u,g,this.afs)}snapshotChanges(){return function cb(r,e){return iy(r,e).pipe((0,Pe.O)(void 0),_e(),(0,ge.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,f.D)(this.ref.get(e)).pipe(Ie.iC)}}class pv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$m(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,st.h)(t=>t.length>0),Ie.iC):$m(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ne.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=fv(e);return hv(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(e={}){return jm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(s=>s.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),Ie.iC)}get(e){return(0,f.D)(this.query.get(e)).pipe(Ie.iC)}}const E0=new b.OlP("angularfire2.enableFirestorePersistence"),T0=new b.OlP("angularfire2.firestore.persistenceSettings"),I0=new b.OlP("angularfire2.firestore.settings"),C0=new b.OlP("angularfire2.firestore.use-emulator");function gv(r,e=(t=>t)){return{query:e(r),ref:r}}let S0=(()=>{class r{constructor(t,s,u,g,y,x,j,Z,se,Ce,dt,Nt,Zt,Cn,An,Lr,Vi){this.schedulers=j;const ti=(0,Je.on)(t,x,s),Io=se;Ce&&(0,ch.nw)(ti,x,dt,Zt,Cn,An,Nt,Lr),[this.firestore,this.persistenceEnabled$]=(0,Je.cc)(`${ti.name}.firestore`,"AngularFirestore",ti.name,()=>{const Is=x.runOutsideAngular(()=>ti.firestore());if(g&&Is.settings(g),Io&&Is.useEmulator(...Io),u&&!(0,tt.PM)(y)){const ps=()=>{try{return(0,f.D)(Is.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(il){return typeof console<"u"&&console.warn(il),(0,De.of)(!1)}};return[Is,x.runOutsideAngular(ps)]}return[Is,(0,De.of)(!1)]},[g,Io,u])}collection(t,s){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:y}=gv(u,s),x=this.schedulers.ngZone.run(()=>g);return new oy(x,y,this)}collectionGroup(t,s){const u=s||(y=>y),g=this.firestore.collectionGroup(t);return new pv(u(g),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>s);return new ay(u,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(t){return new(t||r)(b.LFG(Je.Dh),b.LFG(Je.xv,8),b.LFG(E0,8),b.LFG(I0,8),b.LFG(b.Lbi),b.LFG(b.R0b),b.LFG(Ie.HU),b.LFG(T0,8),b.LFG(C0,8),b.LFG(ch.zQ,8),b.LFG(ch.Qv,8),b.LFG(ch.L6,8),b.LFG(ch._Q,8),b.LFG(ch.rT,8),b.LFG(ch.lh,8),b.LFG(ch.f7,8),b.LFG(b0.nm,8))},r.\u0275prov=b.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();var mv=G(8445);let _v=(()=>{class r{constructor(t,s){this.afs=t,this.storage=s,this._showLoader=new b.vpe(!1),this._showProfileUpdate=new b.vpe(!1)}showLoader(t){setTimeout(()=>{this._showLoader.emit(t)},0)}showUpdate(t){this._showProfileUpdate.emit(t)}getEmail(){return JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem("todo"))))}addCard(t){return t.id=this.afs.createId(),this.afs.collection("Tasks").add(t)}getCardDeatils(t){return this.afs.collection("Tasks",s=>s.where("email","==",t)).snapshotChanges()}deleteUser(t){return this.afs.collection("Tasks").doc(t).delete()}updateDetails(t,s){!t||!s||(this.deleteUser(s),this.addCard(t))}uploadImage(t){const s=`images/${Date.now()}_${t.name}`;return this.storage.ref(s),{task:this.storage.upload(s,t).snapshotChanges(),filePath:s}}getImageUrl(t){return this.storage.ref(t).getDownloadURL()}}return r.\u0275fac=function(t){return new(t||r)(b.LFG(S0),b.LFG(mv.Q1))},r.\u0275prov=b.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2040:(Wt,He,G)=>{var b=G(1481),z=G(1779),W=G(9031),f=G(4650);const De=[{path:"",redirectTo:"user",pathMatch:"full"},{path:"user",loadChildren:()=>Promise.resolve().then(G.bind(G,2198)).then(l=>l.UsersModule)},{path:"home",loadChildren:()=>G.e(378).then(G.bind(G,4378)).then(l=>l.MainModule)},{path:"**",component:W.f}];let Ie=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[z.Bz.forRoot(De),z.Bz]}),l})();var Pe=G(7054),de=G(6895);function $e(l,c){1&l&&(f.ynx(0),f.TgZ(1,"div",1),f._UZ(2,"div",2),f.qZA(),f.BQk())}let _e=(()=>{class l{constructor(o){this.dataService=o,this.title="todo"}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(Pe.D))},l.\u0275cmp=f.Xpm({type:l,selectors:[["app-root"]],decls:3,vars:3,consts:[[4,"ngIf"],[1,"spinner-container"],[1,"loading-spinner"]],template:function(o,d){1&o&&(f.YNc(0,$e,3,0,"ng-container",0),f.ALo(1,"async"),f._UZ(2,"router-outlet")),2&o&&f.Q6J("ngIf",f.lcZ(1,1,d.dataService._showLoader))},dependencies:[de.O5,z.lC,de.Ov],styles:["@keyframes _ngcontent-%COMP%_spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading-spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:10px solid #f3f3f3;border-top:10px solid #383636;border-radius:50%;animation:_ngcontent-%COMP%_spinner 1.5s linear infinite}"]}),l})();var ge=G(2198),Ne=G(9751),rt=G(515),st=G(9646),Je=G(7579),tt=G(4968),qe=G(5963),Ve=G(8421);const{isArray:me}=Array;function ht(l){return 1===l.length&&me(l[0])?l[0]:l}var Me=G(5403);var At=G(1135),Dt=G(9841),Ee=G(5032);const Ht=new Ne.y(Ee.Z);var Mt=G(3269);function mn(...l){const c=(0,Mt.jO)(l),o=ht(l);return o.length?new Ne.y(d=>{let v=o.map(()=>[]),S=o.map(()=>!1);d.add(()=>{v=S=null});for(let $=0;!d.closed&&$<o.length;$++)(0,Ve.Xf)(o[$]).subscribe((0,Me.x)(d,Q=>{if(v[$].push(Q),v.every(re=>re.length)){const re=v.map(he=>he.shift());d.next(c?c(...re):re),v.some((he,xe)=>!he.length&&S[xe])&&d.complete()}},()=>{S[$]=!0,!v[$].length&&d.complete()}));return()=>{v=S=null}}):rt.E}var tn=G(6451),pi=G(7272),Ze=G(2722),ct=G(9300),ot=G(5698),It=G(4004),mt=G(8675),bt=G(1884),zt=G(3900),En=G(8505),wt=G(4482),qt=G(4671);function hn(...l){const c=(0,Mt.jO)(l);return(0,wt.e)((o,d)=>{const v=l.length,S=new Array(v);let $=l.map(()=>!1),Q=!1;for(let re=0;re<v;re++)(0,Ve.Xf)(l[re]).subscribe((0,Me.x)(d,he=>{S[re]=he,!Q&&!$[re]&&($[re]=!0,(Q=$.every(qt.y))&&($=null))},Ee.Z));o.subscribe((0,Me.x)(d,re=>{if(Q){const he=[re,...S];d.next(c?c(...he):he)}}))})}G(4986),G(9718),G(5577);var ni=G(5684),Ye=G(4006);function ds(l,c){}function Ca(l,c){if(1&l&&(f.TgZ(0,"button",3),f._uU(1),f.YNc(2,ds,0,0,"ng-template",4),f.qZA()),2&l){const o=c.$implicit;f.Q6J("ngbPanelToggle",o),f.xp6(1),f.hij(" ",o.title," "),f.xp6(1),f.Q6J("ngTemplateOutlet",null==o.titleTpl?null:o.titleTpl.templateRef)}}function Gs(l,c){}function Va(l,c){}function hi(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"div",8),f.NdJ("ngbRef",function(v){f.CHM(o);const S=f.oxw().$implicit;return f.KtG(S.panelDiv=v)}),f.TgZ(1,"div",9),f.YNc(2,Va,0,0,"ng-template",4),f.qZA()()}if(2&l){const o=f.oxw().$implicit;f.s9C("id",o.id),f.uIk("aria-labelledby",o.id+"-header"),f.xp6(2),f.Q6J("ngTemplateOutlet",(null==o.contentTpl?null:o.contentTpl.templateRef)||null)}}Math,Math,Math;const ks=function(l,c){return{$implicit:l,opened:c}};function Yi(l,c){if(1&l&&(f.TgZ(0,"div")(1,"div",5),f.YNc(2,Gs,0,0,"ng-template",6),f.qZA(),f.YNc(3,hi,3,3,"div",7),f.qZA()),2&l){const o=c.$implicit,d=f.oxw(),v=f.MAs(1);f.Tol("accordion-item "+(o.cardClass||"")),f.xp6(1),f.Tol("accordion-header "+(o.type?"bg-"+o.type:d.type?"bg-"+d.type:"")),f.MGl("id","",o.id,"-header"),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.headerTpl?null:o.headerTpl.templateRef)||v)("ngTemplateOutletContext",f.WLB(8,ks,o,o.isOpen)),f.xp6(1),f.Q6J("ngIf",!d.destroyOnHide||o.isOpen||o.transitionRunning)}}function _s(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",1),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.close())}),f.qZA()}}const _o=["*"];function Ya(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",6),f.NdJ("click",function(){const S=f.CHM(o).$implicit,$=f.oxw();return $.focus(),f.KtG($.select(S.id,$.NgbSlideEventSource.INDICATOR))}),f.qZA()}if(2&l){const o=c.$implicit,d=f.oxw();f.ekj("active",o.id===d.activeId),f.uIk("aria-labelledby","slide-"+o.id)("aria-controls","slide-"+o.id)("aria-selected",o.id===d.activeId)}}function Sa(l,c){}function Ga(l,c){if(1&l&&(f.TgZ(0,"div",7)(1,"span",8),f.SDv(2,9),f.qZA(),f.YNc(3,Sa,0,0,"ng-template",10),f.qZA()),2&l){const o=c.$implicit,d=c.index,v=c.count;f.Q6J("id","slide-"+o.id),f.xp6(2),f.pQV(d+1)(v),f.QtT(2),f.xp6(1),f.Q6J("ngTemplateOutlet",o.tplRef)}}function yo(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.arrowLeft())}),f._UZ(1,"span",12),f.TgZ(2,"span",8),f.SDv(3,13),f.qZA()()}}function So(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",14),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.arrowRight())}),f._UZ(1,"span",15),f.TgZ(2,"span",8),f.SDv(3,16),f.qZA()()}}const vo=["ngbDatepickerDayView",""],Ao=["month"],ys=["year"];function eo(l,c){if(1&l&&(f.TgZ(0,"option",5),f._uU(1),f.qZA()),2&l){const o=c.$implicit,d=f.oxw();f.Q6J("value",o),f.uIk("aria-label",d.i18n.getMonthFullName(o,d.date.year)),f.xp6(1),f.Oqu(d.i18n.getMonthShortName(o,d.date.year))}}function vi(l,c){if(1&l&&(f.TgZ(0,"option",5),f._uU(1),f.qZA()),2&l){const o=c.$implicit,d=f.oxw();f.Q6J("value",o),f.xp6(1),f.Oqu(d.i18n.getYearNumerals(o))}}function ro(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"ngb-datepicker-navigation-select",7),f.NdJ("select",function(v){f.CHM(o);const S=f.oxw();return f.KtG(S.select.emit(v))}),f.qZA()}if(2&l){const o=f.oxw();f.Q6J("date",o.date)("disabled",o.disabled)("months",o.selectBoxes.months)("years",o.selectBoxes.years)}}function ia(l,c){1&l&&f._UZ(0,"div",0)}function Fi(l,c){1&l&&f._UZ(0,"div",0)}function $i(l,c){if(1&l&&(f.YNc(0,ia,1,0,"div",9),f.TgZ(1,"div",10),f._uU(2),f.qZA(),f.YNc(3,Fi,1,0,"div",9)),2&l){const o=c.$implicit,d=c.index,v=f.oxw(2);f.Q6J("ngIf",d>0),f.xp6(2),f.hij(" ",v.i18n.getMonthLabel(o.firstDate)," "),f.xp6(1),f.Q6J("ngIf",d!==v.months.length-1)}}function jo(l,c){if(1&l&&f.YNc(0,$i,4,3,"ng-template",8),2&l){const o=f.oxw();f.Q6J("ngForOf",o.months)}}function Li(l,c){if(1&l&&(f.TgZ(0,"div",5),f._uU(1),f.qZA()),2&l){const o=f.oxw(2);f.xp6(1),f.Oqu(o.i18n.getWeekLabel())}}function ol(l,c){if(1&l&&(f.TgZ(0,"div",6),f._uU(1),f.qZA()),2&l){const o=c.$implicit;f.xp6(1),f.Oqu(o)}}function $o(l,c){if(1&l&&(f.TgZ(0,"div",2),f.YNc(1,Li,2,1,"div",3),f.YNc(2,ol,2,1,"div",4),f.qZA()),2&l){const o=f.oxw();f.xp6(1),f.Q6J("ngIf",o.datepicker.showWeekNumbers),f.xp6(1),f.Q6J("ngForOf",o.viewModel.weekdays)}}function Hi(l,c){if(1&l&&(f.TgZ(0,"div",11),f._uU(1),f.qZA()),2&l){const o=f.oxw(2).$implicit,d=f.oxw();f.xp6(1),f.Oqu(d.i18n.getWeekNumerals(o.number))}}function Ii(l,c){}function _a(l,c){if(1&l&&f.YNc(0,Ii,0,0,"ng-template",14),2&l){const o=f.oxw().$implicit,d=f.oxw(3);f.Q6J("ngTemplateOutlet",d.datepicker.dayTemplate)("ngTemplateOutletContext",o.context)}}function bo(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"div",12),f.NdJ("click",function(v){const $=f.CHM(o).$implicit;return f.oxw(3).doSelect($),f.KtG(v.preventDefault())}),f.YNc(1,_a,1,2,"ng-template",13),f.qZA()}if(2&l){const o=c.$implicit;f.ekj("disabled",o.context.disabled)("hidden",o.hidden)("ngb-dp-today",o.context.today),f.Q6J("tabindex",o.tabindex),f.uIk("aria-label",o.ariaLabel),f.xp6(1),f.Q6J("ngIf",!o.hidden)}}function Ho(l,c){if(1&l&&(f.TgZ(0,"div",8),f.YNc(1,Hi,2,1,"div",9),f.YNc(2,bo,2,9,"div",10),f.qZA()),2&l){const o=f.oxw().$implicit,d=f.oxw();f.xp6(1),f.Q6J("ngIf",d.datepicker.showWeekNumbers),f.xp6(1),f.Q6J("ngForOf",o.days)}}function js(l,c){1&l&&f.YNc(0,Ho,3,2,"div",7),2&l&&f.Q6J("ngIf",!c.$implicit.collapsed)}const ya=["defaultDayTemplate"],zo=["content"];function Gn(l,c){if(1&l&&f._UZ(0,"div",8),2&l){const d=c.currentMonth,v=c.selected,S=c.disabled,$=c.focused;f.Q6J("date",c.date)("currentMonth",d)("selected",v)("disabled",S)("focused",$)}}function to(l,c){if(1&l&&(f.TgZ(0,"div",13),f._uU(1),f.qZA()),2&l){const o=f.oxw().$implicit,d=f.oxw(2);f.xp6(1),f.hij(" ",d.i18n.getMonthLabel(o.firstDate)," ")}}function E(l,c){if(1&l&&(f.TgZ(0,"div",10),f.YNc(1,to,2,1,"div",11),f._UZ(2,"ngb-datepicker-month",12),f.qZA()),2&l){const o=c.$implicit,d=f.oxw(2);f.xp6(1),f.Q6J("ngIf","none"===d.navigation||d.displayMonths>1&&"select"===d.navigation),f.xp6(1),f.Q6J("month",o.firstDate)}}function D(l,c){if(1&l&&f.YNc(0,E,3,2,"div",9),2&l){const o=f.oxw();f.Q6J("ngForOf",o.model.months)}}function I(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"ngb-datepicker-navigation",14),f.NdJ("navigate",function(v){f.CHM(o);const S=f.oxw();return f.KtG(S.onNavigateEvent(v))})("select",function(v){f.CHM(o);const S=f.oxw();return f.KtG(S.onNavigateDateSelect(v))}),f.qZA()}if(2&l){const o=f.oxw();f.Q6J("date",o.model.firstDate)("months",o.model.months)("disabled",o.model.disabled)("showSelect","select"===o.model.navigation)("prevDisabled",o.model.prevDisabled)("nextDisabled",o.model.nextDisabled)("selectBoxes",o.model.selectBoxes)}}function V(l,c){}function le(l,c){}const Oe=function(l){return{$implicit:l}},Rt=["dialog"],Be=["ngbNavOutlet",""];function Ft(l,c){}function Wn(l,c){if(1&l&&(f.TgZ(0,"div",2),f.YNc(1,Ft,0,0,"ng-template",3),f.qZA()),2&l){const o=f.oxw().$implicit,d=f.oxw();f.Q6J("item",o)("nav",d.nav)("role",d.paneRole),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.contentTpl?null:o.contentTpl.templateRef)||null)("ngTemplateOutletContext",f.VKq(5,Oe,o.active||d.isPanelTransitioning(o)))}}function cr(l,c){if(1&l&&f.YNc(0,Wn,2,7,"div",1),2&l){const o=c.$implicit,d=f.oxw();f.Q6J("ngIf",o.isPanelInDom()||d.isPanelTransitioning(o))}}function mr(l,c){1&l&&(f.TgZ(0,"span",9),f.SDv(1,10),f.qZA())}function Ni(l,c){1&l&&(f.TgZ(0,"span",9),f.SDv(1,11),f.qZA())}function si(l,c){1&l&&(f.TgZ(0,"span",9),f.SDv(1,12),f.qZA())}function zr(l,c){1&l&&(f.TgZ(0,"span",9),f.SDv(1,13),f.qZA())}function xi(l,c){1&l&&f._uU(0,"...")}function zi(l,c){1&l&&f._uU(0),2&l&&f.Oqu(c.$implicit)}function No(l,c){}const vs=function(l){return{disabled:!0,currentPage:l}};function Bi(l,c){if(1&l&&(f.TgZ(0,"a",18),f.YNc(1,No,0,0,"ng-template",8),f.qZA()),2&l){const o=f.oxw(2).$implicit,d=f.oxw(),v=f.MAs(9);f.xp6(1),f.Q6J("ngTemplateOutlet",(null==d.tplEllipsis?null:d.tplEllipsis.templateRef)||v)("ngTemplateOutletContext",f.VKq(2,vs,o))}}function Ir(l,c){}const ts=function(l,c,o){return{disabled:l,$implicit:c,currentPage:o}};function bs(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"a",19),f.NdJ("click",function(v){f.CHM(o);const S=f.oxw().$implicit;return f.oxw(2).selectPage(S),f.KtG(v.preventDefault())}),f.YNc(1,Ir,0,0,"ng-template",8),f.qZA()}if(2&l){const o=f.oxw().$implicit,d=f.oxw(),v=d.disabled,S=d.$implicit,$=f.oxw(),Q=f.MAs(11);f.uIk("tabindex",v?"-1":null)("aria-disabled",v?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==$.tplNumber?null:$.tplNumber.templateRef)||Q)("ngTemplateOutletContext",f.kEZ(4,ts,v,o,S))}}function Fs(l,c){if(1&l&&(f.TgZ(0,"li",15),f.YNc(1,Bi,2,4,"a",16),f.YNc(2,bs,2,8,"a",17),f.qZA()),2&l){const o=c.$implicit,d=f.oxw(),v=d.$implicit,S=d.disabled,$=f.oxw();f.ekj("active",o===v)("disabled",$.isEllipsis(o)||S),f.uIk("aria-current",o===v?"page":null),f.xp6(1),f.Q6J("ngIf",$.isEllipsis(o)),f.xp6(1),f.Q6J("ngIf",!$.isEllipsis(o))}}function ws(l,c){1&l&&f.YNc(0,Fs,3,7,"li",14),2&l&&f.Q6J("ngForOf",c.pages)}function Mo(l,c){}const va=function(l,c){return{disabled:l,currentPage:c}};function Gl(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"li",15)(1,"a",20),f.NdJ("click",function(v){return f.CHM(o),f.oxw().selectPage(1),f.KtG(v.preventDefault())}),f.YNc(2,Mo,0,0,"ng-template",8),f.qZA()()}if(2&l){const o=f.oxw(),d=f.MAs(1);f.ekj("disabled",o.previousDisabled()),f.xp6(1),f.uIk("tabindex",o.previousDisabled()?"-1":null)("aria-disabled",o.previousDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.tplFirst?null:o.tplFirst.templateRef)||d)("ngTemplateOutletContext",f.WLB(6,va,o.previousDisabled(),o.page))}}function El(l,c){}const ns=function(l){return{disabled:l}};function Aa(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"li",15)(1,"a",21),f.NdJ("click",function(v){f.CHM(o);const S=f.oxw();return S.selectPage(S.page-1),f.KtG(v.preventDefault())}),f.YNc(2,El,0,0,"ng-template",8),f.qZA()()}if(2&l){const o=f.oxw(),d=f.MAs(3);f.ekj("disabled",o.previousDisabled()),f.xp6(1),f.uIk("tabindex",o.previousDisabled()?"-1":null)("aria-disabled",o.previousDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.tplPrevious?null:o.tplPrevious.templateRef)||d)("ngTemplateOutletContext",f.VKq(6,ns,o.previousDisabled()))}}function Na(l,c){}function al(l,c){}function Ma(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"li",15)(1,"a",22),f.NdJ("click",function(v){f.CHM(o);const S=f.oxw();return S.selectPage(S.page+1),f.KtG(v.preventDefault())}),f.YNc(2,al,0,0,"ng-template",8),f.qZA()()}if(2&l){const o=f.oxw(),d=f.MAs(5);f.ekj("disabled",o.nextDisabled()),f.xp6(1),f.uIk("tabindex",o.nextDisabled()?"-1":null)("aria-disabled",o.nextDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.tplNext?null:o.tplNext.templateRef)||d)("ngTemplateOutletContext",f.WLB(6,va,o.nextDisabled(),o.page))}}function Oa(l,c){}function Ra(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"li",15)(1,"a",23),f.NdJ("click",function(v){f.CHM(o);const S=f.oxw();return S.selectPage(S.pageCount),f.KtG(v.preventDefault())}),f.YNc(2,Oa,0,0,"ng-template",8),f.qZA()()}if(2&l){const o=f.oxw(),d=f.MAs(7);f.ekj("disabled",o.nextDisabled()),f.xp6(1),f.uIk("tabindex",o.nextDisabled()?"-1":null)("aria-disabled",o.nextDisabled()?"true":null),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==o.tplLast?null:o.tplLast.templateRef)||d)("ngTemplateOutletContext",f.WLB(6,va,o.nextDisabled(),o.page))}}const xa=function(l,c,o){return{$implicit:l,pages:c,disabled:o}};function jl(l,c){if(1&l&&(f.TgZ(0,"span"),f.SDv(1,1),f.ALo(2,"percent"),f.qZA()),2&l){const o=f.oxw();f.xp6(2),f.pQV(f.lcZ(2,1,o.getValue()/o.max)),f.QtT(1)}}function Cl(l,c){1&l&&f._uU(0),2&l&&f.Oqu(100===c.fill?"\u2605":"\u2606")}function ll(l,c){}function Ti(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"span",2),f._uU(1),f.qZA(),f.TgZ(2,"span",3),f.NdJ("mouseenter",function(){const S=f.CHM(o).index,$=f.oxw();return f.KtG($.enter(S+1))})("click",function(){const S=f.CHM(o).index,$=f.oxw();return f.KtG($.handleClick(S+1))}),f.YNc(3,ll,0,0,"ng-template",4),f.qZA()}if(2&l){const o=c.index,d=f.oxw(),v=f.MAs(1);f.xp6(1),f.hij("(",o<d.nextRate?"*":" ",")"),f.xp6(1),f.Udp("cursor",d.isInteractive()?"pointer":"default"),f.xp6(1),f.Q6J("ngTemplateOutlet",d.starTemplate||d.starTemplateFromContent||v)("ngTemplateOutletContext",d.contexts[o])}}function Wo(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.changeHour(v.hourStep))}),f._UZ(1,"span",12),f.TgZ(2,"span",13),f.SDv(3,14),f.qZA()()}if(2&l){const o=f.oxw();f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function Ui(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.changeHour(-v.hourStep))}),f._UZ(1,"span",15),f.TgZ(2,"span",13),f.SDv(3,16),f.qZA()()}if(2&l){const o=f.oxw();f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function ja(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.changeMinute(v.minuteStep))}),f._UZ(1,"span",12),f.TgZ(2,"span",13),f.SDv(3,17),f.qZA()()}if(2&l){const o=f.oxw();f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function Qa(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.changeMinute(-v.minuteStep))}),f._UZ(1,"span",15),f.TgZ(2,"span",13),f.SDv(3,18),f.qZA()()}if(2&l){const o=f.oxw();f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function wo(l,c){1&l&&(f.TgZ(0,"div",5),f._uU(1,":"),f.qZA())}function au(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw(2);return f.KtG(v.changeSecond(v.secondStep))}),f._UZ(1,"span",12),f.TgZ(2,"span",13),f.SDv(3,21),f.qZA()()}if(2&l){const o=f.oxw(2);f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function bi(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"button",11),f.NdJ("click",function(){f.CHM(o);const v=f.oxw(2);return f.KtG(v.changeSecond(-v.secondStep))}),f._UZ(1,"span",15),f.TgZ(2,"span",13),f.SDv(3,22),f.qZA()()}if(2&l){const o=f.oxw(2);f.ekj("btn-sm",o.isSmallSize)("btn-lg",o.isLargeSize)("disabled",o.disabled),f.Q6J("disabled",o.disabled)}}function xu(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"div",19),f.YNc(1,au,4,7,"button",3),f.TgZ(2,"input",20),f.NdJ("change",function(v){f.CHM(o);const S=f.oxw();return f.KtG(S.updateSecond(v.target.value))})("blur",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.handleBlur())})("input",function(v){f.CHM(o);const S=f.oxw();return f.KtG(S.formatInput(v.target))})("keydown.ArrowUp",function(v){f.CHM(o);const S=f.oxw();return S.changeSecond(S.secondStep),f.KtG(v.preventDefault())})("keydown.ArrowDown",function(v){f.CHM(o);const S=f.oxw();return S.changeSecond(-S.secondStep),f.KtG(v.preventDefault())}),f.qZA(),f.YNc(3,bi,4,7,"button",3),f.qZA()}if(2&l){const o=f.oxw();f.xp6(1),f.Q6J("ngIf",o.spinners),f.xp6(1),f.ekj("form-control-sm",o.isSmallSize)("form-control-lg",o.isLargeSize),f.Q6J("value",o.formatMinSec(null==o.model?null:o.model.second))("readOnly",o.readonlyInputs)("disabled",o.disabled),f.xp6(1),f.Q6J("ngIf",o.spinners)}}function Ja(l,c){1&l&&f._UZ(0,"div",5)}function Do(l,c){if(1&l&&(f.ynx(0),f.SDv(1,27),f.BQk()),2&l){const o=f.oxw(2);f.xp6(1),f.pQV(o.i18n.getAfternoonPeriod()),f.QtT(1)}}function Sl(l,c){if(1&l&&f.SDv(0,28),2&l){const o=f.oxw(2);f.pQV(o.i18n.getMorningPeriod()),f.QtT(0)}}function F(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"div",23)(1,"button",24),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.toggleMeridian())}),f.YNc(2,Do,2,1,"ng-container",25),f.YNc(3,Sl,1,1,"ng-template",null,26,f.W1O),f.qZA()()}if(2&l){const o=f.MAs(4),d=f.oxw();f.xp6(1),f.ekj("btn-sm",d.isSmallSize)("btn-lg",d.isLargeSize)("disabled",d.disabled),f.Q6J("disabled",d.disabled),f.xp6(1),f.Q6J("ngIf",d.model&&d.model.hour>=12)("ngIfElse",o)}}function K(l,c){if(1&l&&(f.TgZ(0,"strong",3),f._uU(1),f.qZA()),2&l){const o=f.oxw();f.xp6(1),f.Oqu(o.header)}}function U(l,c){}function te(l,c){if(1&l){const o=f.EpF();f.TgZ(0,"div",4),f.YNc(1,U,0,0,"ng-template",5),f.TgZ(2,"button",6),f.NdJ("click",function(){f.CHM(o);const v=f.oxw();return f.KtG(v.hide())}),f.qZA()()}if(2&l){const o=f.oxw(),d=f.MAs(1);f.xp6(1),f.Q6J("ngTemplateOutlet",o.contentHeaderTpl||d)}}function we(l,c){if(1&l&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&l){const o=f.oxw().$implicit,d=f.oxw();f.Tol(d.highlightClass),f.xp6(1),f.Oqu(o)}}function ft(l,c){if(1&l&&f._uU(0),2&l){const o=f.oxw().$implicit;f.Oqu(o)}}function Et(l,c){if(1&l&&(f.YNc(0,we,2,3,"span",1),f.YNc(1,ft,1,1,"ng-template",null,2,f.W1O)),2&l){const o=c.odd,d=f.MAs(2);f.Q6J("ngIf",o)("ngIfElse",d)}}function $n(l){return parseInt(`${l}`,10)}function fi(l){return null!=l?`${l}`:""}function Wr(l,c,o=0){return Math.max(Math.min(l,c),o)}function Qi(l){return"string"==typeof l}function Kr(l){return!isNaN($n(l))}function xr(l){return"number"==typeof l&&isFinite(l)&&Math.floor(l)===l}function As(l){return null!=l}function Ls(l){return Kr(l)?`0${l}`.slice(-2):""}function Ko(l,c){return l&&l.className&&l.className.split&&l.className.split(/\s+/).indexOf(c)>=0}function Ro(l){return(l||document.body).getBoundingClientRect()}function rs(l){return l.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Pa={animation:!0,transitionTimerDelayMs:5},so=()=>{},{transitionTimerDelayMs:_d}=Pa,$t=new Map,fr=(l,c,o,d)=>{let v=d.context||{};const S=$t.get(c);if(S)switch(d.runningTransition){case"continue":return rt.E;case"stop":l.run(()=>S.transition$.complete()),v=Object.assign(S.context,v),$t.delete(c)}const $=o(c,d.animation,v)||so;if(!d.animation||"none"===window.getComputedStyle(c).transitionProperty)return l.run(()=>$()),(0,st.of)(void 0).pipe(function sc(l){return c=>new Ne.y(o=>c.subscribe({next:$=>l.run(()=>o.next($)),error:$=>l.run(()=>o.error($)),complete:()=>l.run(()=>o.complete())}))}(l));const Q=new Je.x,re=new Je.x,he=Q.pipe(function gt(...l){return c=>(0,pi.z)(c,(0,st.of)(...l))}(!0));$t.set(c,{transition$:Q,complete:()=>{re.next(),re.complete()},context:v});const xe=function Xa(l){const{transitionDelay:c,transitionDuration:o}=window.getComputedStyle(l);return 1e3*(parseFloat(c)+parseFloat(o))}(c);return l.runOutsideAngular(()=>{const vt=(0,tt.R)(c,"transitionend").pipe((0,Ze.R)(he),(0,ct.h)(({target:Lt})=>Lt===c));(function Ae(...l){return 1===(l=ht(l)).length?(0,Ve.Xf)(l[0]):new Ne.y(function Qe(l){return c=>{let o=[];for(let d=0;o&&!c.closed&&d<l.length;d++)o.push((0,Ve.Xf)(l[d]).subscribe((0,Me.x)(c,v=>{if(o){for(let S=0;S<o.length;S++)S!==d&&o[S].unsubscribe();o=null}c.next(v)})))}}(l))})((0,qe.H)(xe+_d).pipe((0,Ze.R)(he)),vt,re).pipe((0,Ze.R)(he)).subscribe(()=>{$t.delete(c),l.run(()=>{$(),Q.next(),Q.complete()})})}),Q.asObservable()},gn=(l,c,o)=>{let{direction:d,maxSize:v,dimension:S}=o;const{classList:$}=l;function Q(){$.add("collapse"),"show"===d?$.add("show"):$.remove("show")}if(c)return v||(v=function Xr(l,c){if(typeof navigator>"u")return"0px";const{classList:o}=l,d=o.contains("show");d||o.add("show"),l.style[c]="";const v=l.getBoundingClientRect()[c]+"px";return d||o.remove("show"),v}(l,S),o.maxSize=v,l.style[S]="show"!==d?v:"0px",$.remove("collapse"),$.remove("collapsing"),$.remove("show"),Ro(l),$.add("collapsing")),l.style[S]="show"===d?v:"0px",()=>{Q(),$.remove("collapsing"),l.style[S]=""};Q()};let Dn=(()=>{class l{constructor(){this.animation=Pa.animation}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),ku=(()=>{class l{constructor(o){this._ngbConfig=o,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Dn))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),dn=0,_t=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),l})(),Bt=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),l})(),qr=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),l})(),ul=(()=>{class l{constructor(){this.disabled=!1,this.id="ngb-panel-"+dn++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new f.vpe,this.hidden=new f.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=f.lG2({type:l,selectors:[["ngb-panel"]],contentQueries:function(o,d,v){if(1&o&&(f.Suo(v,Bt,4),f.Suo(v,_t,4),f.Suo(v,qr,4)),2&o){let S;f.iGM(S=f.CRH())&&(d.titleTpls=S),f.iGM(S=f.CRH())&&(d.headerTpls=S),f.iGM(S=f.CRH())&&(d.contentTpls=S)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),l})(),Wi=(()=>{class l{constructor(o){this._El=o,this.ngbRef=new f.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.SBq))},l.\u0275dir=f.lG2({type:l,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),l})(),lu=(()=>{class l{constructor(o,d){this.accordion=o,this.panel=d}set ngbPanelToggle(o){o&&(this.panel=o)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36((0,f.Gpc)(()=>Es)),f.Y36(ul,9))},l.\u0275dir=f.lG2({type:l,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(o,d){1&o&&f.NdJ("click",function(){return d.accordion.toggle(d.panel.id)}),2&o&&(f.Ikx("disabled",d.panel.disabled),f.uIk("aria-expanded",d.panel.isOpen)("aria-controls",d.panel.id),f.ekj("collapsed",!d.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),l})(),Es=(()=>{class l{constructor(o,d,v){this._ngZone=d,this._changeDetector=v,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new f.vpe,this.shown=new f.vpe,this.hidden=new f.vpe,this.animation=o.animation,this.type=o.type,this.closeOtherPanels=o.closeOthers}isExpanded(o){return this.activeIds.indexOf(o)>-1}expand(o){this._changeOpenState(this._findPanelById(o),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(o=>this._changeOpenState(o,!0))}collapse(o){this._changeOpenState(this._findPanelById(o),!1)}collapseAll(){this.panels.forEach(o=>{this._changeOpenState(o,!1)})}toggle(o){const d=this._findPanelById(o);d&&this._changeOpenState(d,!d.isOpen)}ngAfterContentChecked(){Qi(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(o=>{o.isOpen=!o.disabled&&this.activeIds.indexOf(o.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,ot.q)(1)).subscribe(()=>{this.panels.forEach(o=>{const d=o.panelDiv;d?o.initClassDone||(o.initClassDone=!0,fr(this._ngZone,d,gn,{animation:!1,runningTransition:"continue",context:{direction:o.isOpen?"show":"hide",dimension:"height"}})):o.initClassDone=!1})})}_changeOpenState(o,d){if(null!=o&&!o.disabled&&o.isOpen!==d){let v=!1;this.panelChange.emit({panelId:o.id,nextState:d,preventDefault:()=>{v=!0}}),v||(o.isOpen=d,o.transitionRunning=!0,d&&this.closeOtherPanels&&this._closeOthers(o.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(o,d=!0){this.panels.forEach(v=>{v.id!==o&&v.isOpen&&(v.isOpen=!1,v.transitionRunning=d)})}_findPanelById(o){return this.panels.find(d=>d.id===o)||null}_updateActiveIds(){this.activeIds=this.panels.filter(o=>o.isOpen&&!o.disabled).map(o=>o.id)}_runTransitions(o){this._changeDetector.detectChanges(),this.panels.forEach(d=>{d.transitionRunning&&fr(this._ngZone,d.panelDiv,gn,{animation:o,runningTransition:"stop",context:{direction:d.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{d.transitionRunning=!1;const{id:S}=d;d.isOpen?(d.shown.emit(),this.shown.emit(S)):(d.hidden.emit(),this.hidden.emit(S))})})}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(ku),f.Y36(f.R0b),f.Y36(f.sBO))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-accordion"]],contentQueries:function(o,d,v){if(1&o&&f.Suo(v,ul,4),2&o){let S;f.iGM(S=f.CRH())&&(d.panels=S)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(o,d){2&o&&f.uIk("aria-multiselectable",!d.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[f.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(o,d){1&o&&(f.YNc(0,Ca,3,3,"ng-template",0,1,f.W1O),f.YNc(2,Yi,4,11,"ng-template",2)),2&o&&(f.xp6(2),f.Q6J("ngForOf",d.panels))},dependencies:[de.ax,de.tP,lu,Wi,_t,de.O5],encapsulation:2}),l})(),Rn=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[Es]}),l})();const dl=({classList:l})=>{l.remove("show")};let Pr=(()=>{class l{constructor(o){this._ngbConfig=o,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Dn))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),yd=(()=>{class l{constructor(o,d,v,S){this._renderer=d,this._element=v,this._zone=S,this.closed=new f.vpe,this.dismissible=o.dismissible,this.type=o.type,this.animation=o.animation}close(){const o=fr(this._zone,this._element.nativeElement,dl,{animation:this.animation,runningTransition:"continue"});return o.subscribe(()=>this.closed.emit()),o}ngOnChanges(o){const d=o.type;d&&!d.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${d.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${d.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(Pr),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(f.R0b))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(o,d){2&o&&f.ekj("fade",d.animation)("alert-dismissible",d.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[f.TTD,f.jDz],ngContentSelectors:_o,decls:2,vars:1,consts:function(){let c;return c=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",c,3,"click",4,"ngIf"],["type","button","aria-label",c,1,"btn-close",3,"click"]]},template:function(o,d){1&o&&(f.F$t(),f.Hsn(0),f.YNc(1,_s,1,0,"button",0)),2&o&&(f.xp6(1),f.Q6J("ngIf",d.dismissible))},dependencies:[de.O5],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),l})(),is=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[yd]}),l})();var Gt=(()=>{return(l=Gt||(Gt={})).START="start",l.END="end",Gt;var l})();const Al=({classList:l})=>l.contains("carousel-item-start")||l.contains("carousel-item-end"),hl=l=>{l.remove("carousel-item-start"),l.remove("carousel-item-end")},$a=l=>{hl(l),l.remove("carousel-item-prev"),l.remove("carousel-item-next")},Nl=(l,c,{direction:o})=>{const{classList:d}=l;return c?(Al(l)?hl(d):(d.add("carousel-item-"+(o===Gt.START?"next":"prev")),Ro(l),d.add("carousel-item-"+o)),()=>{$a(d),d.add("active")}):(hl(d),$a(d),void d.add("active"))},du=(l,c,{direction:o})=>{const{classList:d}=l;return c?(Al(l)?hl(d):d.add("carousel-item-"+o),()=>{$a(d),d.remove("active")}):(hl(d),$a(d),void d.remove("active"))};let xc=(()=>{class l{constructor(o){this._ngbConfig=o,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Dn))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),hu=0,el=(()=>{class l{constructor(o){this.tplRef=o,this.id="ngb-slide-"+hu++,this.slid=new f.vpe}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),l})(),Pc=(()=>{class l{constructor(o,d,v,S,$){this._platformId=d,this._ngZone=v,this._cd=S,this._container=$,this.NgbSlideEventSource=Ns,this._destroy$=new Je.x,this._interval$=new At.X(0),this._mouseHover$=new At.X(!1),this._focused$=new At.X(!1),this._pauseOnHover$=new At.X(!1),this._pauseOnFocus$=new At.X(!1),this._pause$=new At.X(!1),this._wrap$=new At.X(!1),this.slide=new f.vpe,this.slid=new f.vpe,this._transitionIds=null,this.animation=o.animation,this.interval=o.interval,this.wrap=o.wrap,this.keyboard=o.keyboard,this.pauseOnHover=o.pauseOnHover,this.pauseOnFocus=o.pauseOnFocus,this.showNavigationArrows=o.showNavigationArrows,this.showNavigationIndicators=o.showNavigationIndicators}set interval(o){this._interval$.next(o)}get interval(){return this._interval$.value}set wrap(o){this._wrap$.next(o)}get wrap(){return this._wrap$.value}set pauseOnHover(o){this._pauseOnHover$.next(o)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(o){this._pauseOnFocus$.next(o)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(o){this._mouseHover$.next(o)}get mouseHover(){return this._mouseHover$.value}set focused(o){this._focused$.next(o)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Ns.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Ns.ARROW_RIGHT)}ngAfterContentInit(){(0,de.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const o=(0,Dt.a)([this.slide.pipe((0,It.U)(d=>d.current),(0,mt.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,mt.O)(null))]).pipe((0,It.U)(([d,v])=>{const S=this.slides.toArray(),$=this._getSlideIdxById(d);return v?S.length>1:$<S.length-1}),(0,bt.x)());(0,Dt.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,o]).pipe((0,It.U)(([d,v,S,$,Q,re,he])=>d||v&&S||$&&Q||!he?0:re),(0,bt.x)(),(0,zt.w)(d=>d>0?(0,qe.H)(d,d):Ht),(0,Ze.R)(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Ns.TIMER)))}),this.slides.changes.pipe((0,Ze.R)(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(o=>(l=>{$t.get(l)?.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ot.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const d=this._getSlideElement(o);o===this.activeId?d.classList.add("active"):d.classList.remove("active")}})})}ngAfterContentChecked(){let o=this._getSlideById(this.activeId);this.activeId=o?o.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const o=this._getSlideElement(this.activeId);o&&o.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(o,d){this._cycleToSelected(o,this._getSlideEventDirection(this.activeId,o),d)}prev(o){this._cycleToSelected(this._getPrevSlide(this.activeId),Gt.END,o)}next(o){this._cycleToSelected(this._getNextSlide(this.activeId),Gt.START,o)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(o,d,v){const S=this._transitionIds;if(S&&(S[0]!==o||S[1]!==this.activeId))return;let $=this._getSlideById(o);if($&&$.id!==this.activeId){this._transitionIds=[this.activeId,o],this.slide.emit({prev:this.activeId,current:$.id,direction:d,paused:this._pause$.value,source:v});const Q={animation:this.animation,runningTransition:"stop",context:{direction:d}},re=[],he=this._getSlideById(this.activeId);if(he){const Lt=fr(this._ngZone,this._getSlideElement(he.id),du,Q);Lt.subscribe(()=>{he.slid.emit({isShown:!1,direction:d,source:v})}),re.push(Lt)}const xe=this.activeId;this.activeId=$.id;const vt=this._getSlideById(this.activeId),St=fr(this._ngZone,this._getSlideElement($.id),Nl,Q);St.subscribe(()=>{vt?.slid.emit({isShown:!0,direction:d,source:v})}),re.push(St),mn(...re).pipe((0,ot.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:xe,current:$.id,direction:d,paused:this._pause$.value,source:v})})}this._cd.markForCheck()}_getSlideEventDirection(o,d){return this._getSlideIdxById(o)>this._getSlideIdxById(d)?Gt.END:Gt.START}_getSlideById(o){return this.slides.find(d=>d.id===o)||null}_getSlideIdxById(o){const d=this._getSlideById(o);return null!=d?this.slides.toArray().indexOf(d):-1}_getNextSlide(o){const d=this.slides.toArray(),v=this._getSlideIdxById(o);return v===d.length-1?this.wrap?d[0].id:d[d.length-1].id:d[v+1].id}_getPrevSlide(o){const d=this.slides.toArray(),v=this._getSlideIdxById(o);return 0===v?this.wrap?d[d.length-1].id:d[0].id:d[v-1].id}_getSlideElement(o){return this._container.nativeElement.querySelector(`#slide-${o}`)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(xc),f.Y36(f.Lbi),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(f.SBq))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-carousel"]],contentQueries:function(o,d,v){if(1&o&&f.Suo(v,el,4),2&o){let S;f.iGM(S=f.CRH())&&(d.slides=S)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(o,d){1&o&&f.NdJ("keydown.arrowLeft",function(){return d.keyboard&&d.arrowLeft()})("keydown.arrowRight",function(){return d.keyboard&&d.arrowRight()})("mouseenter",function(){return d.mouseHover=!0})("mouseleave",function(){return d.mouseHover=!1})("focusin",function(){return d.focused=!0})("focusout",function(){return d.focused=!1}),2&o&&(f.uIk("aria-activedescendant","slide-"+d.activeId),f.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[f.jDz],decls:6,vars:6,consts:function(){let c,o,d;return c=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,o=$localize`:@@ngb.carousel.previous:Previous`,d=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],c,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],o,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],d]},template:function(o,d){1&o&&(f.TgZ(0,"div",0),f.YNc(1,Ya,1,5,"button",1),f.qZA(),f.TgZ(2,"div",2),f.YNc(3,Ga,4,4,"div",3),f.qZA(),f.YNc(4,yo,4,0,"button",4),f.YNc(5,So,4,0,"button",5)),2&o&&(f.ekj("visually-hidden",!d.showNavigationIndicators),f.xp6(1),f.Q6J("ngForOf",d.slides),f.xp6(2),f.Q6J("ngForOf",d.slides),f.xp6(1),f.Q6J("ngIf",d.showNavigationArrows),f.xp6(1),f.Q6J("ngIf",d.showNavigationArrows))},dependencies:[de.ax,de.tP,de.O5],encapsulation:2,changeDetection:0}),l})();var Ns=(()=>{return(l=Ns||(Ns={})).TIMER="timer",l.ARROW_LEFT="arrowLeft",l.ARROW_RIGHT="arrowRight",l.INDICATOR="indicator",Ns;var l})();let ls=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[Pc]}),l})(),fl=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({}),l})();class ss{constructor(c,o,d){this.year=xr(c)?c:null,this.month=xr(o)?o:null,this.day=xr(d)?d:null}static from(c){return c instanceof ss?c:c?new ss(c.year,c.month,c.day):null}equals(c){return null!=c&&this.year===c.year&&this.month===c.month&&this.day===c.day}before(c){return!!c&&(this.year===c.year?this.month===c.month?this.day!==c.day&&this.day<c.day:this.month<c.month:this.year<c.year)}after(c){return!!c&&(this.year===c.year?this.month===c.month?this.day!==c.day&&this.day>c.day:this.month>c.month:this.year>c.year)}}function Eo(l,c){return!function at(l,c){return!l&&!c||!!l&&!!c&&l.equals(c)}(l,c)}function $s(l,c){return!(!l&&!c||l&&c&&l.year===c.year&&l.month===c.month)}function A(l,c,o){return l&&c&&l.before(c)?c:l&&o&&l.after(o)?o:l||null}function M(l,c){const{minDate:o,maxDate:d,disabled:v,markDisabled:S}=c;return!(null==l||v||S&&S(l,{year:l.year,month:l.month})||o&&l.before(o)||d&&l.after(d))}function un(l){return new ss(l.getFullYear(),l.getMonth()+1,l.getDate())}function nn(l){const c=new Date(l.year,l.month-1,l.day,12);return isNaN(c.getTime())||c.setFullYear(l.year),c}let Ki=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:function(){return function br(){return new Fa}()},providedIn:"root"}),l})(),Fa=(()=>{class l extends Ki{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(o,d="d",v=1){let S=nn(o),$=!0,Q=S.getMonth();switch(d){case"y":S.setFullYear(S.getFullYear()+v);break;case"m":Q+=v,S.setMonth(Q),Q%=12,Q<0&&(Q+=12);break;case"d":S.setDate(S.getDate()+v),$=!1;break;default:return o}return $&&S.getMonth()!==Q&&S.setDate(0),un(S)}getPrev(o,d="d",v=1){return this.getNext(o,d,-v)}getWeekday(o){let v=nn(o).getDay();return 0===v?7:v}getWeekNumber(o,d){7===d&&(d=0);const $=nn(o[(11-d)%7]);$.setDate($.getDate()+4-($.getDay()||7));const Q=$.getTime();return $.setMonth(0),$.setDate(1),Math.floor(Math.round((Q-$.getTime())/864e5)/7)+1}getToday(){return un(new Date)}isValid(o){if(!(o&&xr(o.year)&&xr(o.month)&&xr(o.day)&&0!==o.year))return!1;const d=nn(o);return!isNaN(d.getTime())&&d.getFullYear()===o.year&&d.getMonth()+1===o.month&&d.getDate()===o.day}}return l.\u0275fac=function(){let c;return function(d){return(c||(c=f.n5z(l)))(d||l)}}(),l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})(),To=(()=>{class l{getMonthLabel(o){return`${this.getMonthFullName(o.month,o.year)} ${this.getYearNumerals(o.year)}`}getDayNumerals(o){return`${o.day}`}getWeekNumerals(o){return`${o}`}getYearNumerals(o){return`${o}`}getWeekLabel(){return""}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:function(o){let d=null;return d=o?new o:function Mi(l){return new qo(l)}(f.LFG(f.soG)),d},providedIn:"root"}),l})(),qo=(()=>{class l extends To{constructor(o){super(),this._locale=o,this._monthsShort=(0,de.UT)(o,de.x.Standalone,de.Tn.Abbreviated),this._monthsFull=(0,de.UT)(o,de.x.Standalone,de.Tn.Wide)}getWeekdayLabel(o,d){const v=(0,de.Mn)(this._locale,de.x.Standalone,void 0===d?de.Tn.Short:d);return v.map(($,Q)=>v[(Q+1)%7])[o-1]||""}getMonthShortName(o){return this._monthsShort[o-1]||""}getMonthFullName(o){return this._monthsFull[o-1]||""}getDayAriaLabel(o){const d=new Date(o.year,o.month-1,o.day);return(0,de.p6)(d,"fullDate",this._locale)}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.soG))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})(),hs=(()=>{class l{constructor(o,d){this._calendar=o,this._i18n=d,this._VALIDATORS={dayTemplateData:v=>{if(this._state.dayTemplateData!==v)return{dayTemplateData:v}},displayMonths:v=>{if(xr(v=$n(v))&&v>0&&this._state.displayMonths!==v)return{displayMonths:v}},disabled:v=>{if(this._state.disabled!==v)return{disabled:v}},firstDayOfWeek:v=>{if(xr(v=$n(v))&&v>=0&&this._state.firstDayOfWeek!==v)return{firstDayOfWeek:v}},focusVisible:v=>{if(this._state.focusVisible!==v&&!this._state.disabled)return{focusVisible:v}},markDisabled:v=>{if(this._state.markDisabled!==v)return{markDisabled:v}},maxDate:v=>{const S=this.toValidDate(v,null);if(Eo(this._state.maxDate,S))return{maxDate:S}},minDate:v=>{const S=this.toValidDate(v,null);if(Eo(this._state.minDate,S))return{minDate:S}},navigation:v=>{if(this._state.navigation!==v)return{navigation:v}},outsideDays:v=>{if(this._state.outsideDays!==v)return{outsideDays:v}},weekdays:v=>{const S=!0===v||!1===v?de.Tn.Short:v,$=!0!==v&&!1!==v||v;if(this._state.weekdayWidth!==S||this._state.weekdaysVisible!==$)return{weekdayWidth:S,weekdaysVisible:$}}},this._model$=new Je.x,this._dateSelect$=new Je.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:de.Tn.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,ct.h)(o=>o.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,ct.h)(o=>null!==o))}set(o){let d=Object.keys(o).map(v=>this._VALIDATORS[v](o[v])).reduce((v,S)=>({...v,...S}),{});Object.keys(d).length>0&&this._nextState(d)}focus(o){const d=this.toValidDate(o,null);null!=d&&!this._state.disabled&&Eo(this._state.focusDate,d)&&this._nextState({focusDate:o})}focusSelect(){M(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(o){const d=this.toValidDate(o,this._calendar.getToday());null!=d&&!this._state.disabled&&(!this._state.firstDate||$s(this._state.firstDate,d))&&this._nextState({firstDate:d})}select(o,d={}){const v=this.toValidDate(o,null);null!=v&&!this._state.disabled&&(Eo(this._state.selectedDate,v)&&this._nextState({selectedDate:v}),d.emitEvent&&M(v,this._state)&&this._dateSelect$.next(v))}toValidDate(o,d){const v=ss.from(o);return void 0===d&&(d=this._calendar.getToday()),this._calendar.isValid(v)?v:d}getMonth(o){for(let d of this._state.months)if(o.month===d.number&&o.year===d.year)return d;throw new Error(`month ${o.month} of year ${o.year} not found`)}_nextState(o){const d=this._updateState(o);this._patchContexts(d),this._state=d,this._model$.next(this._state)}_patchContexts(o){const{months:d,displayMonths:v,selectedDate:S,focusDate:$,focusVisible:Q,disabled:re,outsideDays:he}=o;o.months.forEach(xe=>{xe.weeks.forEach(vt=>{vt.days.forEach(St=>{$&&(St.context.focused=$.equals(St.date)&&Q),St.tabindex=!re&&$&&St.date.equals($)&&$.month===xe.number?0:-1,!0===re&&(St.context.disabled=!0),void 0!==S&&(St.context.selected=null!==S&&S.equals(St.date)),xe.number!==St.date.month&&(St.hidden="hidden"===he||"collapsed"===he||v>1&&St.date.after(d[0].firstDate)&&St.date.before(d[v-1].lastDate))})})})}_updateState(o){const d=Object.assign({},this._state,o);let v=d.firstDate;if(("minDate"in o||"maxDate"in o)&&(function Ml(l,c){if(c&&l&&c.before(l))throw new Error(`'maxDate' ${c} should be greater than 'minDate' ${l}`)}(d.minDate,d.maxDate),d.focusDate=A(d.focusDate,d.minDate,d.maxDate),d.firstDate=A(d.firstDate,d.minDate,d.maxDate),v=d.focusDate),"disabled"in o&&(d.focusVisible=!1),"selectedDate"in o&&0===this._state.months.length&&(v=d.selectedDate),"focusVisible"in o||"focusDate"in o&&(d.focusDate=A(d.focusDate,d.minDate,d.maxDate),v=d.focusDate,0!==d.months.length&&d.focusDate&&!d.focusDate.before(d.firstDate)&&!d.focusDate.after(d.lastDate)))return d;if("firstDate"in o&&(d.firstDate=A(d.firstDate,d.minDate,d.maxDate),v=d.firstDate),v){const $=function ae(l,c,o,d,v){const{displayMonths:S,months:$}=o,Q=$.splice(0,$.length);return Array.from({length:S},(he,xe)=>{const vt=Object.assign(l.getNext(c,"m",xe),{day:1});if($[xe]=null,!v){const St=Q.findIndex(Lt=>Lt.firstDate.equals(vt));-1!==St&&($[xe]=Q.splice(St,1)[0])}return vt}).forEach((he,xe)=>{null===$[xe]&&($[xe]=function We(l,c,o,d,v={}){const{dayTemplateData:S,minDate:$,maxDate:Q,firstDayOfWeek:re,markDisabled:he,outsideDays:xe,weekdayWidth:vt,weekdaysVisible:St}=o,Lt=l.getToday();v.firstDate=null,v.lastDate=null,v.number=c.month,v.year=c.year,v.weeks=v.weeks||[],v.weekdays=v.weekdays||[],c=function xt(l,c,o){const d=l.getDaysPerWeek(),v=new ss(c.year,c.month,1),S=l.getWeekday(v)%d;return l.getPrev(v,"d",(d+S-o)%d)}(l,c,re),St||(v.weekdays.length=0);for(let en=0;en<l.getWeeksPerMonth();en++){let Kt=v.weeks[en];Kt||(Kt=v.weeks[en]={number:0,days:[],collapsed:!0});const vn=Kt.days;for(let xn=0;xn<l.getDaysPerWeek();xn++){0===en&&St&&(v.weekdays[xn]=d.getWeekdayLabel(l.getWeekday(c),vt));const Kn=new ss(c.year,c.month,c.day),Fr=l.getNext(Kn),tr=d.getDayAriaLabel(Kn);let oi=!!($&&Kn.before($)||Q&&Kn.after(Q));!oi&&he&&(oi=he(Kn,{month:v.number,year:v.year}));let Vr=Kn.equals(Lt),Zr=S?S(Kn,{month:v.number,year:v.year}):void 0;null===v.firstDate&&Kn.month===v.number&&(v.firstDate=Kn),Kn.month===v.number&&Fr.month!==v.number&&(v.lastDate=Kn);let mi=vn[xn];mi||(mi=vn[xn]={}),mi.date=Kn,mi.context=Object.assign(mi.context||{},{$implicit:Kn,date:Kn,data:Zr,currentMonth:v.number,currentYear:v.year,disabled:oi,focused:!1,selected:!1,today:Vr}),mi.tabindex=-1,mi.ariaLabel=tr,mi.hidden=!1,c=Fr}Kt.number=l.getWeekNumber(vn.map(xn=>xn.date),re),Kt.collapsed="collapsed"===xe&&vn[0].date.month!==v.number&&vn[vn.length-1].date.month!==v.number}return v}(l,he,o,d,Q.shift()||{}))}),$}(this._calendar,v,d,this._i18n,"dayTemplateData"in o||"firstDayOfWeek"in o||"markDisabled"in o||"minDate"in o||"maxDate"in o||"disabled"in o||"outsideDays"in o||"weekdaysVisible"in o);d.months=$,d.firstDate=$[0].firstDate,d.lastDate=$[$.length-1].lastDate,"selectedDate"in o&&!M(d.selectedDate,d)&&(d.selectedDate=null),"firstDate"in o&&(!d.focusDate||d.focusDate.before(d.firstDate)||d.focusDate.after(d.lastDate))&&(d.focusDate=v);const Q=!this._state.firstDate||this._state.firstDate.year!==d.firstDate.year,re=!this._state.firstDate||this._state.firstDate.month!==d.firstDate.month;"select"===d.navigation?(("minDate"in o||"maxDate"in o||0===d.selectBoxes.years.length||Q)&&(d.selectBoxes.years=function k(l,c,o){if(!l)return[];const d=c?Math.max(c.year,l.year-500):l.year-10,S=(o?Math.min(o.year,l.year+500):l.year+10)-d+1,$=Array(S);for(let Q=0;Q<S;Q++)$[Q]=d+Q;return $}(d.firstDate,d.minDate,d.maxDate)),("minDate"in o||"maxDate"in o||0===d.selectBoxes.months.length||Q)&&(d.selectBoxes.months=function T(l,c,o,d){if(!c)return[];let v=l.getMonths(c.year);if(o&&c.year===o.year){const S=v.findIndex($=>$===o.month);v=v.slice(S)}if(d&&c.year===d.year){const S=v.findIndex($=>$===d.month);v=v.slice(0,S+1)}return v}(this._calendar,d.firstDate,d.minDate,d.maxDate))):d.selectBoxes={years:[],months:[]},("arrows"===d.navigation||"select"===d.navigation)&&(re||Q||"minDate"in o||"maxDate"in o||"disabled"in o)&&(d.prevDisabled=d.disabled||function X(l,c,o){const d=Object.assign(l.getPrev(c,"m"),{day:1});return null!=o&&(d.year===o.year&&d.month<o.month||d.year<o.year&&1===o.month)}(this._calendar,d.firstDate,d.minDate),d.nextDisabled=d.disabled||function H(l,c,o){const d=Object.assign(l.getNext(c,"m"),{day:1});return null!=o&&d.after(o)}(this._calendar,d.lastDate,d.maxDate))}return d}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Ki),f.LFG(To))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})();var ao=(()=>{return(l=ao||(ao={}))[l.PREV=0]="PREV",l[l.NEXT=1]="NEXT",ao;var l})();let Hl=(()=>{class l{constructor(o){this.i18n=o}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(To))},l.\u0275cmp=f.Xpm({type:l,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(o,d){2&o&&f.ekj("bg-primary",d.selected)("text-white",d.selected)("text-muted",d.isMuted())("outside",d.isMuted())("active",d.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[f.jDz],attrs:vo,decls:1,vars:1,template:function(o,d){1&o&&f._uU(0),2&o&&f.Oqu(d.i18n.getDayNumerals(d.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),l})(),Ol=(()=>{class l{constructor(o,d){this.i18n=o,this._renderer=d,this.select=new f.vpe,this._month=-1,this._year=-1}changeMonth(o){this.select.emit(new ss(this.date.year,$n(o),1))}changeYear(o){this.select.emit(new ss($n(o),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(To),f.Y36(f.Qsj))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(o,d){if(1&o&&(f.Gf(Ao,7,f.SBq),f.Gf(ys,7,f.SBq)),2&o){let v;f.iGM(v=f.CRH())&&(d.monthSelect=v.first),f.iGM(v=f.CRH())&&(d.yearSelect=v.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[f.jDz],decls:6,vars:4,consts:function(){let c,o,d,v;return c=$localize`:@@ngb.datepicker.select-month:Select month`,o=$localize`:@@ngb.datepicker.select-month:Select month`,d=$localize`:@@ngb.datepicker.select-year:Select year`,v=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",c,"title",o,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",d,"title",v,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(o,d){1&o&&(f.TgZ(0,"select",0,1),f.NdJ("change",function(S){return d.changeMonth(S.target.value)}),f.YNc(2,eo,2,3,"option",2),f.qZA(),f.TgZ(3,"select",3,4),f.NdJ("change",function(S){return d.changeYear(S.target.value)}),f.YNc(5,vi,2,2,"option",2),f.qZA()),2&o&&(f.Q6J("disabled",d.disabled),f.xp6(2),f.Q6J("ngForOf",d.months),f.xp6(1),f.Q6J("disabled",d.disabled),f.xp6(2),f.Q6J("ngForOf",d.years))},dependencies:[de.ax],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),l})(),vd=(()=>{class l{constructor(o){this.i18n=o,this.navigation=ao,this.months=[],this.navigate=new f.vpe,this.select=new f.vpe}onClickPrev(o){o.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(o){o.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(To))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[f.jDz],decls:8,vars:4,consts:function(){let c,o,d,v;return c=$localize`:@@ngb.datepicker.previous-month:Previous month`,o=$localize`:@@ngb.datepicker.previous-month:Previous month`,d=$localize`:@@ngb.datepicker.next-month:Next month`,v=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",c,"title",o,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",d,"title",v,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(o,d){1&o&&(f.TgZ(0,"div",0)(1,"button",1),f.NdJ("click",function(S){return d.onClickPrev(S)}),f._UZ(2,"span",2),f.qZA()(),f.YNc(3,ro,1,4,"ngb-datepicker-navigation-select",3),f.YNc(4,jo,1,1,null,4),f.TgZ(5,"div",5)(6,"button",6),f.NdJ("click",function(S){return d.onClickNext(S)}),f._UZ(7,"span",2),f.qZA()()),2&o&&(f.xp6(1),f.Q6J("disabled",d.prevDisabled),f.xp6(2),f.Q6J("ngIf",d.showSelect),f.xp6(1),f.Q6J("ngIf",!d.showSelect),f.xp6(2),f.Q6J("disabled",d.nextDisabled))},dependencies:[de.O5,de.ax,Ol],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),l})();var $r=(()=>{return(l=$r||($r={}))[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",$r;var l})();let kc=(()=>{class l{processKey(o,d){const{state:v,calendar:S}=d;switch(o.which){case $r.PageUp:d.focusDate(S.getPrev(v.focusedDate,o.shiftKey?"y":"m",1));break;case $r.PageDown:d.focusDate(S.getNext(v.focusedDate,o.shiftKey?"y":"m",1));break;case $r.End:d.focusDate(o.shiftKey?v.maxDate:v.lastDate);break;case $r.Home:d.focusDate(o.shiftKey?v.minDate:v.firstDate);break;case $r.ArrowLeft:d.focusDate(S.getPrev(v.focusedDate,"d",1));break;case $r.ArrowUp:d.focusDate(S.getPrev(v.focusedDate,"d",S.getDaysPerWeek()));break;case $r.ArrowRight:d.focusDate(S.getNext(v.focusedDate,"d",1));break;case $r.ArrowDown:d.focusDate(S.getNext(v.focusedDate,"d",S.getDaysPerWeek()));break;case $r.Enter:case $r.Space:d.focusSelect();break;default:return}o.preventDefault(),o.stopPropagation()}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),oc=(()=>{class l{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=de.Tn.Short}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Lu=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:function(){return function Ha(){return new dh}()},providedIn:"root"}),l})(),dh=(()=>{class l extends Lu{fromModel(o){return o&&xr(o.year)&&xr(o.month)&&xr(o.day)?{year:o.year,month:o.month,day:o.day}:null}toModel(o){return o&&xr(o.year)&&xr(o.month)&&xr(o.day)?{year:o.year,month:o.month,day:o.day}:null}}return l.\u0275fac=function(){let c;return function(d){return(c||(c=f.n5z(l)))(d||l)}}(),l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})(),fu=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),l})(),ac=(()=>{class l{constructor(o,d,v,S){this.i18n=o,this.datepicker=d,this._keyboardService=v,this._service=S}set month(o){this.viewModel=this._service.getMonth(o)}onKeyDown(o){this._keyboardService.processKey(o,this.datepicker)}doSelect(o){!o.context.disabled&&!o.hidden&&this.datepicker.onDateSelect(o.date)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(To),f.Y36((0,f.Gpc)(()=>tl)),f.Y36(kc),f.Y36(hs))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(o,d){1&o&&f.NdJ("keydown",function(S){return d.onKeyDown(S)})},inputs:{month:"month"},standalone:!0,features:[f.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,d){1&o&&(f.YNc(0,$o,3,2,"div",0),f.YNc(1,js,1,1,"ng-template",1)),2&o&&(f.Q6J("ngIf",d.viewModel.weekdays.length>0),f.xp6(1),f.Q6J("ngForOf",d.viewModel.weeks))},dependencies:[de.O5,de.ax,de.tP],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),l})(),tl=(()=>{class l{constructor(o,d,v,S,$,Q,re,he){this._service=o,this._calendar=d,this._i18n=v,this._elementRef=Q,this._ngbDateAdapter=re,this._ngZone=he,this.injector=(0,f.f3M)(f.zs3),this._controlValue=null,this._destroyed$=new Je.x,this._publicState={},this.navigate=new f.vpe,this.dateSelect=new f.vpe,this.onChange=xe=>{},this.onTouched=()=>{},["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(xe=>this[xe]=S[xe]),o.dateSelect$.pipe((0,Ze.R)(this._destroyed$)).subscribe(xe=>{this.dateSelect.emit(xe)}),o.model$.pipe((0,Ze.R)(this._destroyed$)).subscribe(xe=>{const vt=xe.firstDate,St=this.model?this.model.firstDate:null;this._publicState={maxDate:xe.maxDate,minDate:xe.minDate,firstDate:xe.firstDate,lastDate:xe.lastDate,focusedDate:xe.focusDate,months:xe.months.map(xn=>xn.firstDate)};let Lt=!1;if(!vt.equals(St)&&(this.navigate.emit({current:St?{year:St.year,month:St.month}:null,next:{year:vt.year,month:vt.month},preventDefault:()=>Lt=!0}),Lt&&null!==St))return void this._service.open(St);const en=xe.selectedDate,Kt=xe.focusDate,vn=this.model?this.model.focusDate:null;this.model=xe,Eo(en,this._controlValue)&&(this._controlValue=en,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(en))),Eo(Kt,vn)&&vn&&xe.focusVisible&&this.focus(),$.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(o){this._service.focus(ss.from(o))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,ot.q)(1)).subscribe(()=>{const o=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');o&&o.focus()})}navigateTo(o){this._service.open(ss.from(o?o.day?o:{...o,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const o=(0,tt.R)(this._contentEl.nativeElement,"focusin"),d=(0,tt.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:v}=this._elementRef;(0,tn.T)(o,d).pipe((0,ct.h)(({target:S,relatedTarget:$})=>!(Ko(S,"ngb-dp-day")&&Ko($,"ngb-dp-day")&&v.contains(S)&&v.contains($))),(0,Ze.R)(this._destroyed$)).subscribe(({type:S})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===S})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const o={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(d=>o[d]=this[d]),this._service.set(o),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(o){const d={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(v=>v in o).forEach(v=>d[v]=this[v]),this._service.set(d),"startDate"in o){const{currentValue:v,previousValue:S}=o.startDate;$s(S,v)&&this.navigateTo(this.startDate)}}onDateSelect(o){this._service.focus(o),this._service.select(o,{emitEvent:!0})}onNavigateDateSelect(o){this._service.open(o)}onNavigateEvent(o){switch(o){case ao.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ao.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this._service.set({disabled:o})}writeValue(o){this._controlValue=ss.from(this._ngbDateAdapter.fromModel(o)),this._service.select(this._controlValue)}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(hs),f.Y36(Ki),f.Y36(To),f.Y36(oc),f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(Lu),f.Y36(f.R0b))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-datepicker"]],contentQueries:function(o,d,v){if(1&o&&f.Suo(v,fu,7),2&o){let S;f.iGM(S=f.CRH())&&(d.contentTemplateFromContent=S.first)}},viewQuery:function(o,d){if(1&o&&(f.Gf(ya,7),f.Gf(zo,7)),2&o){let v;f.iGM(v=f.CRH())&&(d._defaultDayTemplate=v.first),f.iGM(v=f.CRH())&&(d._contentEl=v.first)}},hostVars:2,hostBindings:function(o,d){2&o&&f.ekj("disabled",d.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[f._Bn([{provide:Ye.JU,useExisting:(0,f.Gpc)(()=>l),multi:!0},hs]),f.TTD,f.jDz],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(o,d){if(1&o&&(f.YNc(0,Gn,1,5,"ng-template",null,0,f.W1O),f.YNc(2,D,1,1,"ng-template",null,1,f.W1O),f.TgZ(4,"div",2),f.YNc(5,I,1,7,"ngb-datepicker-navigation",3),f.qZA(),f.TgZ(6,"div",4,5),f.YNc(8,V,0,0,"ng-template",6),f.qZA(),f.YNc(9,le,0,0,"ng-template",7)),2&o){const v=f.MAs(3);f.xp6(5),f.Q6J("ngIf","none"!==d.navigation),f.xp6(1),f.ekj("ngb-dp-months",!d.contentTemplate),f.xp6(2),f.Q6J("ngTemplateOutlet",d.contentTemplate||(null==d.contentTemplateFromContent?null:d.contentTemplateFromContent.templateRef)||v)("ngTemplateOutletContext",f.VKq(7,Oe,d))("ngTemplateOutletInjector",d.injector),f.xp6(1),f.Q6J("ngTemplateOutlet",d.footerTemplate)}},dependencies:[de.O5,de.ax,de.tP,Hl,ac,vd],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),l})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Lc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lc(l){const c=Array.from(l.querySelectorAll(Lc)).filter(o=>-1!==o.tabIndex);return[c[0],c[c.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Mr=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[tl,ac]}),l})(),kl=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({}),l})();class Os{constructor(c,o,d){this.nodes=c,this.viewRef=o,this.componentRef=d}}let yu=(()=>{class l{constructor(o,d){this._el=o,this._zone=d}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ot.q)(1)).subscribe(()=>{fr(this._zone,this._el.nativeElement,(o,d)=>{d&&Ro(o),o.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fr(this._zone,this._el.nativeElement,({classList:o})=>o.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.SBq),f.Y36(f.R0b))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,d){2&o&&(f.Tol("modal-backdrop"+(d.backdropClass?" "+d.backdropClass:"")),f.ekj("show",!d.animation)("fade",d.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[f.jDz],decls:0,vars:0,template:function(o,d){},encapsulation:2}),l})();class Yl{update(c){}close(c){}dismiss(c){}}const $c=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Hc=["animation","backdropClass"];class zc{constructor(c,o,d,v){this._windowCmptRef=c,this._contentRef=o,this._backdropCmptRef=d,this._beforeDismiss=v,this._closed=new Je.x,this._dismissed=new Je.x,this._hidden=new Je.x,c.instance.dismissEvent.subscribe(S=>{this.dismiss(S)}),this.result=new Promise((S,$)=>{this._resolve=S,this._reject=$}),this.result.then(null,()=>{})}_applyWindowOptions(c,o){$c.forEach(d=>{As(o[d])&&(c[d]=o[d])})}_applyBackdropOptions(c,o){Hc.forEach(d=>{As(o[d])&&(c[d]=o[d])})}update(c){this._applyWindowOptions(this._windowCmptRef.instance,c),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,c)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Ze.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Ze.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(c){this._windowCmptRef&&(this._closed.next(c),this._resolve(c),this._removeModalElements())}_dismiss(c){this._dismissed.next(c),this._reject(c),this._removeModalElements()}dismiss(c){if(this._windowCmptRef)if(this._beforeDismiss){const o=this._beforeDismiss();!function Ds(l){return l&&l.then}(o)?!1!==o&&this._dismiss(c):o.then(d=>{!1!==d&&this._dismiss(c)},()=>{})}else this._dismiss(c)}_removeModalElements(){const c=this._windowCmptRef.instance.hide(),o=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,st.of)(void 0);c.subscribe(()=>{const{nativeElement:d}=this._windowCmptRef.location;d.parentNode.removeChild(d),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),o.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:d}=this._backdropCmptRef.location;d.parentNode.removeChild(d),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),mn(c,o).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var gc=(()=>{return(l=gc||(gc={}))[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",gc;var l})();let Nd=(()=>{class l{constructor(o,d,v){this._document=o,this._elRef=d,this._zone=v,this._closed$=new Je.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new f.vpe,this.shown=new Je.x,this.hidden=new Je.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Qi(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(o){this.dismissEvent.emit(o)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ot.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:o}=this._elRef,d={animation:this.animation,runningTransition:"stop"},$=mn(fr(this._zone,o,()=>o.classList.remove("show"),d),fr(this._zone,this._dialogEl.nativeElement,()=>{},d));return $.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),$}_show(){const o={animation:this.animation,runningTransition:"continue"};mn(fr(this._zone,this._elRef.nativeElement,(S,$)=>{$&&Ro(S),S.classList.add("show")},o),fr(this._zone,this._dialogEl.nativeElement,()=>{},o)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:o}=this._elRef;this._zone.runOutsideAngular(()=>{(0,tt.R)(o,"keydown").pipe((0,Ze.R)(this._closed$),(0,ct.h)(v=>v.which===$r.Escape)).subscribe(v=>{this.keyboard?requestAnimationFrame(()=>{v.defaultPrevented||this._zone.run(()=>this.dismiss(gc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let d=!1;(0,tt.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Ze.R)(this._closed$),(0,En.b)(()=>d=!1),(0,zt.w)(()=>(0,tt.R)(o,"mouseup").pipe((0,Ze.R)(this._closed$),(0,ot.q)(1))),(0,ct.h)(({target:v})=>o===v)).subscribe(()=>{d=!0}),(0,tt.R)(o,"click").pipe((0,Ze.R)(this._closed$)).subscribe(({target:v})=>{o===v&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!d&&this._zone.run(()=>this.dismiss(gc.BACKDROP_CLICK))),d=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:o}=this._elRef;if(!o.contains(document.activeElement)){const d=o.querySelector("[ngbAutofocus]"),v=lc(o)[0];(d||v||o).focus()}}_restoreFocus(){const o=this._document.body,d=this._elWithFocus;let v;v=d&&d.focus&&o.contains(d)?d:o,this._zone.runOutsideAngular(()=>{setTimeout(()=>v.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fr(this._zone,this._elRef.nativeElement,({classList:o})=>(o.add("modal-static"),()=>o.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(de.K0),f.Y36(f.SBq),f.Y36(f.R0b))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(o,d){if(1&o&&f.Gf(Rt,7),2&o){let v;f.iGM(v=f.CRH())&&(d._dialogEl=v.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,d){2&o&&(f.uIk("aria-modal",!0)("aria-labelledby",d.ariaLabelledBy)("aria-describedby",d.ariaDescribedBy),f.Tol("modal d-block"+(d.windowClass?" "+d.windowClass:"")),f.ekj("fade",d.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[f.jDz],ngContentSelectors:_o,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(o,d){1&o&&(f.F$t(),f.TgZ(0,"div",0,1)(2,"div",2),f.Hsn(3),f.qZA()()),2&o&&f.Tol("modal-dialog"+(d.size?" modal-"+d.size:"")+(d.centered?" modal-dialog-centered":"")+d.fullscreenClass+(d.scrollable?" modal-dialog-scrollable":"")+(d.modalDialogClass?" "+d.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),l})(),qm=(()=>{class l{constructor(o){this._document=o}hide(){const o=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),d=this._document.body,v=d.style,{overflow:S,paddingRight:$}=v;if(o>0){const Q=parseFloat(window.getComputedStyle(d).paddingRight);v.paddingRight=`${Q+o}px`}return v.overflow="hidden",()=>{o>0&&(v.paddingRight=$),v.overflow=S}}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(de.K0))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),vu=(()=>{class l{constructor(o,d,v,S,$,Q,re){this._applicationRef=o,this._injector=d,this._environmentInjector=v,this._document=S,this._scrollBar=$,this._rendererFactory=Q,this._ngZone=re,this._activeWindowCmptHasChanged=new Je.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new f.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const he=this._windowCmpts[this._windowCmpts.length-1];((l,c,o,d=!1)=>{l.runOutsideAngular(()=>{const v=(0,tt.R)(c,"focusin").pipe((0,Ze.R)(o),(0,It.U)(S=>S.target));(0,tt.R)(c,"keydown").pipe((0,Ze.R)(o),(0,ct.h)(S=>S.which===$r.Tab),hn(v)).subscribe(([S,$])=>{const[Q,re]=lc(c);($===Q||$===c)&&S.shiftKey&&(re.focus(),S.preventDefault()),$===re&&!S.shiftKey&&(Q.focus(),S.preventDefault())}),d&&(0,tt.R)(c,"click").pipe((0,Ze.R)(o),hn(v),(0,It.U)(S=>S[1])).subscribe(S=>S.focus())})})(this._ngZone,he.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(he.location.nativeElement)}})}_restoreScrollBar(){const o=this._scrollBarRestoreFn;o&&(this._scrollBarRestoreFn=null,o())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(o,d,v){const S=v.container instanceof HTMLElement?v.container:As(v.container)?this._document.querySelector(v.container):this._document.body,$=this._rendererFactory.createRenderer(null,null);if(!S)throw new Error(`The specified modal container "${v.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const Q=new Yl,re=(o=v.injector||o).get(f.lqb,null)||this._environmentInjector,he=this._getContentRef(o,re,d,Q,v);let xe=!1!==v.backdrop?this._attachBackdrop(S):void 0,vt=this._attachWindowComponent(S,he.nodes),St=new zc(vt,he,xe,v.beforeDismiss);return this._registerModalRef(St),this._registerWindowCmpt(vt),St.hidden.pipe((0,ot.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||($.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),Q.close=Lt=>{St.close(Lt)},Q.dismiss=Lt=>{St.dismiss(Lt)},Q.update=Lt=>{St.update(Lt)},St.update(v),1===this._modalRefs.length&&$.addClass(this._document.body,"modal-open"),xe&&xe.instance&&xe.changeDetectorRef.detectChanges(),vt.changeDetectorRef.detectChanges(),St}get activeInstances(){return this._activeInstances}dismissAll(o){this._modalRefs.forEach(d=>d.dismiss(o))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(o){let d=(0,f.LMc)(yu,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(d.hostView),o.appendChild(d.location.nativeElement),d}_attachWindowComponent(o,d){let v=(0,f.LMc)(Nd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:d});return this._applicationRef.attachView(v.hostView),o.appendChild(v.location.nativeElement),v}_getContentRef(o,d,v,S,$){return v?v instanceof f.Rgc?this._createFromTemplateRef(v,S):Qi(v)?this._createFromString(v):this._createFromComponent(o,d,v,S,$):new Os([])}_createFromTemplateRef(o,d){const S=o.createEmbeddedView({$implicit:d,close($){d.close($)},dismiss($){d.dismiss($)}});return this._applicationRef.attachView(S),new Os([S.rootNodes],S)}_createFromString(o){const d=this._document.createTextNode(`${o}`);return new Os([[d]])}_createFromComponent(o,d,v,S,$){const Q=f.zs3.create({providers:[{provide:Yl,useValue:S}],parent:o}),re=(0,f.LMc)(v,{environmentInjector:d,elementInjector:Q}),he=re.location.nativeElement;return $.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(re.hostView),new Os([[he]],re.hostView,re)}_setAriaHidden(o){const d=o.parentElement;d&&o!==this._document.body&&(Array.from(d.children).forEach(v=>{v!==o&&"SCRIPT"!==v.nodeName&&(this._ariaHiddenValues.set(v,v.getAttribute("aria-hidden")),v.setAttribute("aria-hidden","true"))}),this._setAriaHidden(d))}_revertAriaHidden(){this._ariaHiddenValues.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(o){const d=()=>{const v=this._modalRefs.indexOf(o);v>-1&&(this._modalRefs.splice(v,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(o),this._activeInstances.emit(this._modalRefs),o.result.then(d,d)}_registerWindowCmpt(o){this._windowCmpts.push(o),this._activeWindowCmptHasChanged.next(),o.onDestroy(()=>{const d=this._windowCmpts.indexOf(o);d>-1&&(this._windowCmpts.splice(d,1),this._activeWindowCmptHasChanged.next())})}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.z2F),f.LFG(f.zs3),f.LFG(f.lqb),f.LFG(de.K0),f.LFG(qm),f.LFG(f.FYo),f.LFG(f.R0b))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Zm=(()=>{class l{constructor(o){this._ngbConfig=o,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Dn))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),rl=(()=>{class l{constructor(o,d,v){this._injector=o,this._modalStack=d,this._config=v}open(o,d={}){const v={...this._config,animation:this._config.animation,...d};return this._modalStack.open(this._injector,o,v)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(o){this._modalStack.dismissAll(o)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.zs3),f.LFG(vu),f.LFG(Zm))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),op=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({providers:[rl]}),l})();const Cg=({classList:l})=>(l.remove("show"),()=>l.remove("active")),ap=(l,c)=>{c&&Ro(l),l.classList.add("show")};let Wc=(()=>{class l{constructor(o){this.elRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.SBq))},l.\u0275dir=f.lG2({type:l,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(o,d){2&o&&(f.Ikx("id",d.item.panelDomId),f.uIk("role",d.role?d.role:d.nav.roles?"tabpanel":void 0)("aria-labelledby",d.item.domId),f.ekj("fade",d.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),l})(),Kc=(()=>{class l{constructor(o,d){this._cd=o,this._ngZone=d,this._activePane=null}isPanelTransitioning(o){return this._activePane?.item===o}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,Ze.R)(this.nav.destroy$),(0,mt.O)(this._activePane?.item||null),(0,bt.x)(),(0,ni.T)(1)).subscribe(o=>{const d={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?fr(this._ngZone,this._activePane.elRef.nativeElement,Cg,d).subscribe(()=>{const v=this._activePane?.item;this._activePane=this._getPaneForItem(o),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),fr(this._ngZone,this._activePane.elRef.nativeElement,ap,d).subscribe(()=>{o&&(o.shown.emit(),this.nav.shown.emit(o.id))})),v&&(v.hidden.emit(),this.nav.hidden.emit(v.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(o){return this._panes&&this._panes.find(d=>d.item===o)||null}_getActivePane(){return this._panes&&this._panes.find(o=>o.item.active)||null}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.sBO),f.Y36(f.R0b))},l.\u0275cmp=f.Xpm({type:l,selectors:[["","ngbNavOutlet",""]],viewQuery:function(o,d){if(1&o&&f.Gf(Wc,5),2&o){let v;f.iGM(v=f.CRH())&&(d._panes=v)}},hostVars:2,hostBindings:function(o,d){2&o&&f.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[f.jDz],attrs:Be,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,d){1&o&&f.YNc(0,cr,1,1,"ng-template",0),2&o&&f.Q6J("ngForOf",d.nav.items)},dependencies:[Wc,de.ax,de.O5,de.tP],encapsulation:2,changeDetection:0}),l})(),lp=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[Kc]}),l})(),up=(()=>{class l{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),vl=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),l})(),mc=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),l})(),cp=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),l})(),_c=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),l})(),dp=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),l})(),qc=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),l})(),Ql=(()=>{class l{constructor(o){this.templateRef=o}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(f.Rgc))},l.\u0275dir=f.lG2({type:l,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),l})(),yc=(()=>{class l{constructor(o){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new f.vpe(!0),this.disabled=o.disabled,this.boundaryLinks=o.boundaryLinks,this.directionLinks=o.directionLinks,this.ellipses=o.ellipses,this.maxSize=o.maxSize,this.pageSize=o.pageSize,this.rotate=o.rotate,this.size=o.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(o){this._updatePages(o)}ngOnChanges(o){this._updatePages(this.page)}isEllipsis(o){return-1===o}_applyEllipses(o,d){this.ellipses&&(o>0&&(o>2?this.pages.unshift(-1):2===o&&this.pages.unshift(2),this.pages.unshift(1)),d<this.pageCount&&(d<this.pageCount-2?this.pages.push(-1):d===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let o=0,d=this.pageCount,v=Math.floor(this.maxSize/2);return this.page<=v?d=this.maxSize:this.pageCount-this.page<v?o=this.pageCount-this.maxSize:(o=this.page-v-1,d=this.page+(this.maxSize%2==0?v-1:v)),[o,d]}_applyPagination(){let d=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[d,d+this.maxSize]}_setPageInRange(o){const d=this.page;this.page=Wr(o,this.pageCount,1),this.page!==d&&Kr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(o){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Kr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let d=1;d<=this.pageCount;d++)this.pages.push(d);if(this._setPageInRange(o),this.maxSize>0&&this.pageCount>this.maxSize){let d=0,v=this.pageCount;[d,v]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(d,v),this._applyEllipses(d,v)}}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(up))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-pagination"]],contentQueries:function(o,d,v){if(1&o&&(f.Suo(v,vl,5),f.Suo(v,mc,5),f.Suo(v,cp,5),f.Suo(v,_c,5),f.Suo(v,dp,5),f.Suo(v,qc,5),f.Suo(v,Ql,5)),2&o){let S;f.iGM(S=f.CRH())&&(d.tplEllipsis=S.first),f.iGM(S=f.CRH())&&(d.tplFirst=S.first),f.iGM(S=f.CRH())&&(d.tplLast=S.first),f.iGM(S=f.CRH())&&(d.tplNext=S.first),f.iGM(S=f.CRH())&&(d.tplNumber=S.first),f.iGM(S=f.CRH())&&(d.tplPrevious=S.first),f.iGM(S=f.CRH())&&(d.tplPages=S.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[f.TTD,f.jDz],decls:20,vars:12,consts:function(){let c,o,d,v,S,$,Q,re;return c=$localize`:@@ngb.pagination.first:««`,o=$localize`:@@ngb.pagination.previous:«`,d=$localize`:@@ngb.pagination.next:»`,v=$localize`:@@ngb.pagination.last:»»`,S=$localize`:@@ngb.pagination.first-aria:First`,$=$localize`:@@ngb.pagination.previous-aria:Previous`,Q=$localize`:@@ngb.pagination.next-aria:Next`,re=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],c,o,d,v,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",S,"href","",1,"page-link",3,"click"],["aria-label",$,"href","",1,"page-link",3,"click"],["aria-label",Q,"href","",1,"page-link",3,"click"],["aria-label",re,"href","",1,"page-link",3,"click"]]},template:function(o,d){if(1&o&&(f.YNc(0,mr,2,0,"ng-template",null,0,f.W1O),f.YNc(2,Ni,2,0,"ng-template",null,1,f.W1O),f.YNc(4,si,2,0,"ng-template",null,2,f.W1O),f.YNc(6,zr,2,0,"ng-template",null,3,f.W1O),f.YNc(8,xi,1,0,"ng-template",null,4,f.W1O),f.YNc(10,zi,1,1,"ng-template",null,5,f.W1O),f.YNc(12,ws,1,1,"ng-template",null,6,f.W1O),f.TgZ(14,"ul"),f.YNc(15,Gl,3,9,"li",7),f.YNc(16,Aa,3,8,"li",7),f.YNc(17,Na,0,0,"ng-template",8),f.YNc(18,Ma,3,9,"li",7),f.YNc(19,Ra,3,9,"li",7),f.qZA()),2&o){const v=f.MAs(13);f.xp6(14),f.Tol("pagination"+(d.size?" pagination-"+d.size:"")),f.xp6(1),f.Q6J("ngIf",d.boundaryLinks),f.xp6(1),f.Q6J("ngIf",d.directionLinks),f.xp6(1),f.Q6J("ngTemplateOutlet",(null==d.tplPages?null:d.tplPages.templateRef)||v)("ngTemplateOutletContext",f.kEZ(8,xa,d.page,d.pages,d.disabled)),f.xp6(1),f.Q6J("ngIf",d.directionLinks),f.xp6(1),f.Q6J("ngIf",d.boundaryLinks)}},dependencies:[de.O5,de.ax,de.tP],encapsulation:2,changeDetection:0}),l})(),Sg=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[yc]}),l})(),Zc=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({}),l})(),hp=(()=>{class l{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),fp=(()=>{class l{constructor(o){this.value=0,this.max=o.max,this.animated=o.animated,this.ariaLabel=o.ariaLabel,this.striped=o.striped,this.textType=o.textType,this.type=o.type,this.showValue=o.showValue,this.height=o.height}set max(o){this._max=!Kr(o)||o<=0?100:o}get max(){return this._max}getValue(){return Wr(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(hp))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(o,d){2&o&&(f.uIk("aria-valuenow",d.getValue())("aria-valuemax",d.max)("aria-label",d.ariaLabel),f.Udp("height",d.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[f.jDz],ngContentSelectors:_o,decls:3,vars:11,consts:function(){let c;return c=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],c]},template:function(o,d){1&o&&(f.F$t(),f.TgZ(0,"div"),f.YNc(1,jl,3,3,"span",0),f.Hsn(2),f.qZA()),2&o&&(f.MT6("progress-bar",d.type?d.textType?" bg-"+d.type:" text-bg-"+d.type:"","",d.textType?" text-"+d.textType:"",""),f.Udp("width",d.getPercentValue(),"%"),f.ekj("progress-bar-animated",d.animated)("progress-bar-striped",d.striped),f.xp6(1),f.Q6J("ngIf",d.showValue))},dependencies:[de.O5,de.Zx],encapsulation:2,changeDetection:0}),l})(),bc=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[fp]}),l})(),Ag=(()=>{class l{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Ng=(()=>{class l{constructor(o,d){this._changeDetectorRef=d,this.contexts=[],this.disabled=!1,this.hover=new f.vpe,this.leave=new f.vpe,this.rateChange=new f.vpe(!0),this.onChange=v=>{},this.onTouched=()=>{},this.max=o.max,this.readonly=o.readonly,this.tabindex=o.tabindex}ariaValueText(o,d){return`${o} out of ${d}`}isInteractive(){return!this.readonly&&!this.disabled}enter(o){this.isInteractive()&&this._updateState(o),this.hover.emit(o)}handleBlur(){this.onTouched()}handleClick(o){this.isInteractive()&&this.update(this.resettable&&this.rate===o?0:o)}handleKeyDown(o){switch(o.which){case $r.ArrowDown:case $r.ArrowLeft:this.update(this.rate-1);break;case $r.ArrowUp:case $r.ArrowRight:this.update(this.rate+1);break;case $r.Home:this.update(0);break;case $r.End:this.update(this.max);break;default:return}o.preventDefault()}ngOnChanges(o){o.rate&&this.update(this.rate),o.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(o){this.disabled=o}update(o,d=!0){const v=Wr(o,this.max,0);this.isInteractive()&&this.rate!==v&&(this.rate=v,this.rateChange.emit(this.rate)),d&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(o){this.update(o,!1),this._changeDetectorRef.markForCheck()}_updateState(o){this.nextRate=o,this.contexts.forEach((d,v)=>d.fill=Math.round(100*Wr(o-v,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(o,d)=>({fill:0,index:d}))}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(Ag),f.Y36(f.sBO))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-rating"]],contentQueries:function(o,d,v){if(1&o&&f.Suo(v,f.Rgc,5),2&o){let S;f.iGM(S=f.CRH())&&(d.starTemplateFromContent=S.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(o,d){1&o&&f.NdJ("blur",function(){return d.handleBlur()})("keydown",function(S){return d.handleKeyDown(S)})("mouseleave",function(){return d.reset()}),2&o&&(f.Ikx("tabindex",d.disabled?-1:d.tabindex),f.uIk("aria-valuemax",d.max)("aria-valuenow",d.nextRate)("aria-valuetext",d.ariaValueText(d.nextRate,d.max))("aria-disabled",!!d.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[f._Bn([{provide:Ye.JU,useExisting:(0,f.Gpc)(()=>l),multi:!0}]),f.TTD,f.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(o,d){1&o&&(f.YNc(0,Cl,1,1,"ng-template",null,0,f.W1O),f.YNc(2,Ti,4,5,"ng-template",1)),2&o&&(f.xp6(2),f.Q6J("ngForOf",d.contexts))},dependencies:[de.ax,de.tP],encapsulation:2,changeDetection:0}),l})(),pp=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[Ng]}),l})();class Rd{constructor(c,o,d){this.hour=$n(c),this.minute=$n(o),this.second=$n(d)}changeHour(c=1){this.updateHour((isNaN(this.hour)?0:this.hour)+c)}updateHour(c){this.hour=Kr(c)?(c<0?24+c:c)%24:NaN}changeMinute(c=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+c)}updateMinute(c){Kr(c)?(this.minute=c%60<0?60+c%60:c%60,this.changeHour(Math.floor(c/60))):this.minute=NaN}changeSecond(c=1){this.updateSecond((isNaN(this.second)?0:this.second)+c)}updateSecond(c){Kr(c)?(this.second=c<0?60+c%60:c%60,this.changeMinute(Math.floor(c/60))):this.second=NaN}isValid(c=!0){return Kr(this.hour)&&Kr(this.minute)&&(!c||Kr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let gp=(()=>{class l{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Fo=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:function(){return function dy(){return new Oi}()},providedIn:"root"}),l})(),Oi=(()=>{class l extends Fo{fromModel(o){return o&&xr(o.hour)&&xr(o.minute)?{hour:o.hour,minute:o.minute,second:xr(o.second)?o.second:null}:null}toModel(o){return o&&xr(o.hour)&&xr(o.minute)?{hour:o.hour,minute:o.minute,second:xr(o.second)?o.second:null}:null}}return l.\u0275fac=function(){let c;return function(d){return(c||(c=f.n5z(l)))(d||l)}}(),l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})(),mp=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:function(o){let d=null;return d=o?new o:function Mg(l){return new _p(l)}(f.LFG(f.soG)),d},providedIn:"root"}),l})(),_p=(()=>{class l extends mp{constructor(o){super(),this._periods=(0,de.ol)(o,de.x.Standalone,de.Tn.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.soG))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})();const _f=/[^0-9]/g;let yp=(()=>{class l{constructor(o,d,v,S){this._config=o,this._ngbTimeAdapter=d,this._cd=v,this.i18n=S,this.onChange=$=>{},this.onTouched=()=>{},this.meridian=o.meridian,this.spinners=o.spinners,this.seconds=o.seconds,this.hourStep=o.hourStep,this.minuteStep=o.minuteStep,this.secondStep=o.secondStep,this.disabled=o.disabled,this.readonlyInputs=o.readonlyInputs,this.size=o.size}set hourStep(o){this._hourStep=xr(o)?o:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(o){this._minuteStep=xr(o)?o:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(o){this._secondStep=xr(o)?o:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(o){const d=this._ngbTimeAdapter.fromModel(o);this.model=d?new Rd(d.hour,d.minute,d.second):new Rd,!this.seconds&&(!d||!Kr(d.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}setDisabledState(o){this.disabled=o}changeHour(o){this.model?.changeHour(o),this.propagateModelChange()}changeMinute(o){this.model?.changeMinute(o),this.propagateModelChange()}changeSecond(o){this.model?.changeSecond(o),this.propagateModelChange()}updateHour(o){const d=!!this.model&&this.model.hour>=12,v=$n(o);this.model?.updateHour(this.meridian&&(d&&v<12||!d&&12===v)?v+12:v),this.propagateModelChange()}updateMinute(o){this.model?.updateMinute($n(o)),this.propagateModelChange()}updateSecond(o){this.model?.updateSecond($n(o)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(o){o.value=o.value.replace(_f,"")}formatHour(o){return Kr(o)?Ls(this.meridian?o%12==0?12:o%12:o%24):Ls(NaN)}formatMinSec(o){return Ls(Kr(o)?o:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(o){o.seconds&&!this.seconds&&this.model&&!Kr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(o=!0){o&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return l.\u0275fac=function(o){return new(o||l)(f.Y36(gp),f.Y36(Fo),f.Y36(f.sBO),f.Y36(mp))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[f._Bn([{provide:Ye.JU,useExisting:(0,f.Gpc)(()=>l),multi:!0}]),f.TTD,f.jDz],decls:16,vars:25,consts:function(){let c,o,d,v,S,$,Q,re,he,xe,vt,St,Lt,en;return c=$localize`:@@ngb.timepicker.HH:HH`,o=$localize`:@@ngb.timepicker.hours:Hours`,d=$localize`:@@ngb.timepicker.MM:MM`,v=$localize`:@@ngb.timepicker.minutes:Minutes`,S=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,$=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,Q=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,re=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,he=$localize`:@@ngb.timepicker.SS:SS`,xe=$localize`:@@ngb.timepicker.seconds:Seconds`,vt=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,St=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Lt=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,en=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",c,"aria-label",o,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",d,"aria-label",v,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],S,[1,"chevron","ngb-tp-chevron","bottom"],$,Q,re,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",he,"aria-label",xe,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],vt,St,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],Lt,en]},template:function(o,d){1&o&&(f.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),f.YNc(3,Wo,4,7,"button",3),f.TgZ(4,"input",4),f.NdJ("change",function(S){return d.updateHour(S.target.value)})("blur",function(){return d.handleBlur()})("input",function(S){return d.formatInput(S.target)})("keydown.ArrowUp",function(S){return d.changeHour(d.hourStep),S.preventDefault()})("keydown.ArrowDown",function(S){return d.changeHour(-d.hourStep),S.preventDefault()}),f.qZA(),f.YNc(5,Ui,4,7,"button",3),f.qZA(),f.TgZ(6,"div",5),f._uU(7,":"),f.qZA(),f.TgZ(8,"div",6),f.YNc(9,ja,4,7,"button",3),f.TgZ(10,"input",7),f.NdJ("change",function(S){return d.updateMinute(S.target.value)})("blur",function(){return d.handleBlur()})("input",function(S){return d.formatInput(S.target)})("keydown.ArrowUp",function(S){return d.changeMinute(d.minuteStep),S.preventDefault()})("keydown.ArrowDown",function(S){return d.changeMinute(-d.minuteStep),S.preventDefault()}),f.qZA(),f.YNc(11,Qa,4,7,"button",3),f.qZA(),f.YNc(12,wo,2,0,"div",8),f.YNc(13,xu,4,9,"div",9),f.YNc(14,Ja,1,0,"div",8),f.YNc(15,F,5,9,"div",10),f.qZA()()),2&o&&(f.ekj("disabled",d.disabled),f.Q6J("disabled",d.disabled),f.xp6(3),f.Q6J("ngIf",d.spinners),f.xp6(1),f.ekj("form-control-sm",d.isSmallSize)("form-control-lg",d.isLargeSize),f.Q6J("value",d.formatHour(null==d.model?null:d.model.hour))("readOnly",d.readonlyInputs)("disabled",d.disabled),f.xp6(1),f.Q6J("ngIf",d.spinners),f.xp6(4),f.Q6J("ngIf",d.spinners),f.xp6(1),f.ekj("form-control-sm",d.isSmallSize)("form-control-lg",d.isLargeSize),f.Q6J("value",d.formatMinSec(null==d.model?null:d.model.minute))("readOnly",d.readonlyInputs)("disabled",d.disabled),f.xp6(1),f.Q6J("ngIf",d.spinners),f.xp6(1),f.Q6J("ngIf",d.seconds),f.xp6(1),f.Q6J("ngIf",d.seconds),f.xp6(1),f.Q6J("ngIf",d.meridian),f.xp6(1),f.Q6J("ngIf",d.meridian))},dependencies:[de.O5],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),l})(),yh=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[yp]}),l})();const vp=(l,c)=>{const{classList:o}=l;if(c)return o.add("fade"),Ro(l),o.add("show","showing"),()=>{o.remove("showing")};o.add("show")},yf=({classList:l})=>(l.add("showing"),()=>{l.remove("show","showing")});let bp=(()=>{class l{constructor(o){this._ngbConfig=o,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(o){this._animation=o}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(Dn))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Bs=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275dir=f.lG2({type:l,selectors:[["","ngbToastHeader",""]],standalone:!0}),l})(),vh=(()=>{class l{constructor(o,d,v,S){this.ariaLive=o,this._zone=v,this._element=S,this.contentHeaderTpl=null,this.shown=new f.vpe,this.hidden=new f.vpe,null==this.ariaLive&&(this.ariaLive=d.ariaLive),this.delay=d.delay,this.autohide=d.autohide,this.animation=d.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe((0,ot.q)(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(o){"autohide"in o&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const o=fr(this._zone,this._element.nativeElement,yf,{animation:this.animation,runningTransition:"stop"});return o.subscribe(()=>{this.hidden.emit()}),o}show(){const o=fr(this._zone,this._element.nativeElement,vp,{animation:this.animation,runningTransition:"continue"});return o.subscribe(()=>{this.shown.emit()}),o}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return l.\u0275fac=function(o){return new(o||l)(f.$8M("aria-live"),f.Y36(bp),f.Y36(f.R0b),f.Y36(f.SBq))},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-toast"]],contentQueries:function(o,d,v){if(1&o&&f.Suo(v,Bs,7,f.Rgc),2&o){let S;f.iGM(S=f.CRH())&&(d.contentHeaderTpl=S.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(o,d){2&o&&(f.uIk("aria-live",d.ariaLive),f.ekj("fade",d.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[f.TTD,f.jDz],ngContentSelectors:_o,decls:5,vars:1,consts:function(){let c;return c=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",c,1,"btn-close",3,"click"]]},template:function(o,d){1&o&&(f.F$t(),f.YNc(0,K,2,1,"ng-template",null,0,f.W1O),f.YNc(2,te,3,1,"ng-template",1),f.TgZ(3,"div",2),f.Hsn(4),f.qZA()),2&o&&(f.xp6(2),f.Q6J("ngIf",d.contentHeaderTpl||d.header))},dependencies:[de.O5,de.tP],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),l})(),xd=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[vh]}),l})(),Rg=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({}),l})(),xg=(()=>{class l{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(o){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const d=fi(this.result),v=Array.isArray(this.term)?this.term:[this.term],S=he=>this.accentSensitive?he:rs(he),$=v.map(he=>function io(l){return l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(S(fi(he)))).filter(he=>he),Q=this.accentSensitive?d:rs(d),re=$.length?Q.split(new RegExp(`(${$.join("|")})`,"gmi")):[d];if(this.accentSensitive)this.parts=re;else{let he=0;this.parts=re.map(xe=>d.substring(he,he+=xe.length))}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275cmp=f.Xpm({type:l,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[f.TTD,f.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(o,d){1&o&&f.YNc(0,Et,3,2,"ng-template",0),2&o&&f.Q6J("ngForOf",d.parts)},dependencies:[de.O5,de.ax],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),l})();new f.OlP("live announcer delay",{providedIn:"root",factory:function wh(){return 100}});let r_=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[xg]}),l})(),bf=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({}),l})();const Ep=[Rn,is,ls,fl,Mr,kl,op,lp,bf,Sg,Zc,bc,pp,yh,xd,Rg,r_];let Dc=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[Ep,Rn,is,ls,fl,Mr,kl,op,lp,bf,Sg,Zc,bc,pp,yh,xd,Rg,r_]}),l})();var Rs=G(7340);function $u(l){return new f.vHH(3e3,!1)}function Zg(){return typeof window<"u"&&typeof window.document<"u"}function Op(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ec(l){switch(l.length){case 0:return new Rs.ZN;case 1:return l[0];default:return new Rs.ZE(l)}}function Yg(l,c,o,d,v=new Map,S=new Map){const $=[],Q=[];let re=-1,he=null;if(d.forEach(xe=>{const vt=xe.get("offset"),St=vt==re,Lt=St&&he||new Map;xe.forEach((en,Kt)=>{let vn=Kt,xn=en;if("offset"!==Kt)switch(vn=c.normalizePropertyName(vn,$),xn){case Rs.k1:xn=v.get(Kt);break;case Rs.l3:xn=S.get(Kt);break;default:xn=c.normalizeStyleValue(Kt,vn,xn,$)}Lt.set(vn,xn)}),St||Q.push(Lt),he=Lt,re=vt}),$.length)throw function zu(l){return new f.vHH(3502,!1)}();return Q}function Tc(l,c,o,d){switch(c){case"start":l.onStart(()=>d(o&&Ku(o,"start",l)));break;case"done":l.onDone(()=>d(o&&Ku(o,"done",l)));break;case"destroy":l.onDestroy(()=>d(o&&Ku(o,"destroy",l)))}}function Ku(l,c,o){const S=Du(l.element,l.triggerName,l.fromState,l.toState,c||l.phaseName,o.totalTime??l.totalTime,!!o.disabled),$=l._data;return null!=$&&(S._data=$),S}function Du(l,c,o,d,v="",S=0,$){return{element:l,triggerName:c,fromState:o,toState:d,phaseName:v,totalTime:S,disabled:!!$}}function Qo(l,c,o){let d=l.get(c);return d||l.set(c,d=o),d}function Eu(l){const c=l.indexOf(":");return[l.substring(1,c),l.slice(c+1)]}let If=(l,c)=>!1,Qg=(l,c,o)=>[],Rp=null;function Cf(l){const c=l.parentNode||l.host;return c===Rp?null:c}(Op()||typeof Element<"u")&&(Zg()?(Rp=(()=>document.documentElement)(),If=(l,c)=>{for(;c;){if(c===l)return!0;c=Cf(c)}return!1}):If=(l,c)=>l.contains(c),Qg=(l,c,o)=>{if(o)return Array.from(l.querySelectorAll(c));const d=l.querySelector(c);return d?[d]:[]});let Tu=null,Sf=!1;const Th=If,Ll=Qg;let Jc=(()=>{class l{validateStyleProperty(o){return function Af(l){Tu||(Tu=function xp(){return typeof document<"u"?document.body:null}()||{},Sf=!!Tu.style&&"WebkitAppearance"in Tu.style);let c=!0;return Tu.style&&!function Xg(l){return"ebkit"==l.substring(1,6)}(l)&&(c=l in Tu.style,!c&&Sf&&(c="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in Tu.style)),c}(o)}matchesElement(o,d){return!1}containsElement(o,d){return Th(o,d)}getParentElement(o){return Cf(o)}query(o,d,v){return Ll(o,d,v)}computeStyle(o,d,v){return v||""}animate(o,d,v,S,$,Q=[],re){return new Rs.ZN(v,S)}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})(),Vd=(()=>{class l{}return l.NOOP=new Jc,l})();const Ih=1e3,Jo="ng-enter",Ch="ng-leave",Xc="ng-trigger",ed=".ng-trigger",kr="ng-animating",Xl=".ng-animating";function Ka(l){if("number"==typeof l)return l;const c=l.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Sh(parseFloat(c[1]),c[2])}function Sh(l,c){return"s"===c?l*Ih:l}function Iu(l,c,o){return l.hasOwnProperty("duration")?l:function u_(l,c,o){let v,S=0,$="";if("string"==typeof l){const Q=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Q)return c.push($u()),{duration:0,delay:0,easing:""};v=Sh(parseFloat(Q[1]),Q[2]);const re=Q[3];null!=re&&(S=Sh(parseFloat(re),Q[4]));const he=Q[5];he&&($=he)}else v=l;if(!o){let Q=!1,re=c.length;v<0&&(c.push(function Tp(){return new f.vHH(3100,!1)}()),Q=!0),S<0&&(c.push(function Ip(){return new f.vHH(3101,!1)}()),Q=!0),Q&&c.splice(re,0,$u())}return{duration:v,delay:S,easing:$}}(l,c,o)}function eu(l,c={}){return Object.keys(l).forEach(o=>{c[o]=l[o]}),c}function kp(l){const c=new Map;return Object.keys(l).forEach(o=>{c.set(o,l[o])}),c}function Ic(l,c=new Map,o){if(o)for(let[d,v]of o)c.set(d,v);for(let[d,v]of l)c.set(d,v);return c}function tm(l,c,o){return o?c+":"+o+";":""}function Lp(l){let c="";for(let o=0;o<l.style.length;o++){const d=l.style.item(o);c+=tm(0,d,l.style.getPropertyValue(d))}for(const o in l.style)l.style.hasOwnProperty(o)&&!o.startsWith("_")&&(c+=tm(0,Up(o),l.style[o]));l.setAttribute("style",c)}function Bl(l,c,o){l.style&&(c.forEach((d,v)=>{const S=td(v);o&&!o.has(v)&&o.set(v,l.style[S]),l.style[S]=d}),Op()&&Lp(l))}function bl(l,c){l.style&&(c.forEach((o,d)=>{const v=td(d);l.style[v]=""}),Op()&&Lp(l))}function Cc(l){return Array.isArray(l)?1==l.length?l[0]:(0,Rs.vP)(l):l}const Ah=new RegExp("{{\\s*(.+?)\\s*}}","g");function Bp(l){let c=[];if("string"==typeof l){let o;for(;o=Ah.exec(l);)c.push(o[1]);Ah.lastIndex=0}return c}function Mf(l,c,o){const d=l.toString(),v=d.replace(Ah,(S,$)=>{let Q=c[$];return null==Q&&(o.push(function Hu(l){return new f.vHH(3003,!1)}()),Q=""),Q.toString()});return v==d?l:v}function Of(l){const c=[];let o=l.next();for(;!o.done;)c.push(o.value),o=l.next();return c}const Gd=/-+([a-z0-9])/g;function td(l){return l.replace(Gd,(...c)=>c[1].toUpperCase())}function Up(l){return l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xo(l,c,o){switch(c.type){case 7:return l.visitTrigger(c,o);case 0:return l.visitState(c,o);case 1:return l.visitTransition(c,o);case 2:return l.visitSequence(c,o);case 3:return l.visitGroup(c,o);case 4:return l.visitAnimate(c,o);case 5:return l.visitKeyframes(c,o);case 6:return l.visitStyle(c,o);case 8:return l.visitReference(c,o);case 9:return l.visitAnimateChild(c,o);case 10:return l.visitAnimateRef(c,o);case 11:return l.visitQuery(c,o);case 12:return l.visitStagger(c,o);default:throw function Cp(l){return new f.vHH(3004,!1)}()}}function nm(l,c){return window.getComputedStyle(l)[c]}const jd="*";function f_(l,c){const o=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(d=>function Mh(l,c,o){if(":"==l[0]){const re=function Rf(l,c){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return c.push(function wf(l){return new f.vHH(3016,!1)}()),"* => *"}}(l,o);if("function"==typeof re)return void c.push(re);l=re}const d=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function o_(l){return new f.vHH(3015,!1)}()),c;const v=d[1],S=d[2],$=d[3];c.push(Hd(v,$));"<"==S[0]&&!(v==jd&&$==jd)&&c.push(Hd($,v))}(d,o,c)):o.push(l),o}const Oh=new Set(["true","1"]),$d=new Set(["false","0"]);function Hd(l,c){const o=Oh.has(l)||$d.has(l),d=Oh.has(c)||$d.has(c);return(v,S)=>{let $=l==jd||l==v,Q=c==jd||c==S;return!$&&o&&"boolean"==typeof v&&($=v?Oh.has(l):$d.has(l)),!Q&&d&&"boolean"==typeof S&&(Q=S?Oh.has(c):$d.has(c)),$&&Q}}const nd=new RegExp("s*:selfs*,?","g");function zd(l,c,o,d){return new Sc(l).build(c,o,d)}class Sc{constructor(c){this._driver=c}build(c,o,d){const v=new $p(o);return this._resetContextStyleTimingState(v),Xo(this,Cc(c),v)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,o){let d=o.queryCount=0,v=o.depCount=0;const S=[],$=[];return"@"==c.name.charAt(0)&&o.errors.push(function Ug(){return new f.vHH(3006,!1)}()),c.definitions.forEach(Q=>{if(this._resetContextStyleTimingState(o),0==Q.type){const re=Q,he=re.name;he.toString().split(/\s*,\s*/).forEach(xe=>{re.name=xe,S.push(this.visitState(re,o))}),re.name=he}else if(1==Q.type){const re=this.visitTransition(Q,o);d+=re.queryCount,v+=re.depCount,$.push(re)}else o.errors.push(function s_(){return new f.vHH(3007,!1)}())}),{type:7,name:c.name,states:S,transitions:$,queryCount:d,depCount:v,options:null}}visitState(c,o){const d=this.visitStyle(c.styles,o),v=c.options&&c.options.params||null;if(d.containsDynamicStyles){const S=new Set,$=v||{};d.styles.forEach(Q=>{Q instanceof Map&&Q.forEach(re=>{Bp(re).forEach(he=>{$.hasOwnProperty(he)||S.add(he)})})}),S.size&&(Of(S.values()),o.errors.push(function Vg(l,c){return new f.vHH(3008,!1)}()))}return{type:0,name:c.name,style:d,options:v?{params:v}:null}}visitTransition(c,o){o.queryCount=0,o.depCount=0;const d=Xo(this,Cc(c.animation),o);return{type:1,matchers:f_(c.expr,o.errors),animation:d,queryCount:o.queryCount,depCount:o.depCount,options:Cu(c.options)}}visitSequence(c,o){return{type:2,steps:c.steps.map(d=>Xo(this,d,o)),options:Cu(c.options)}}visitGroup(c,o){const d=o.currentTime;let v=0;const S=c.steps.map($=>{o.currentTime=d;const Q=Xo(this,$,o);return v=Math.max(v,o.currentTime),Q});return o.currentTime=v,{type:3,steps:S,options:Cu(c.options)}}visitAnimate(c,o){const d=function Hp(l,c){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return Yu(Iu(l,c).duration,0,"");const o=l;if(o.split(/\s+/).some(S=>"{"==S.charAt(0)&&"{"==S.charAt(1))){const S=Yu(0,0,"");return S.dynamic=!0,S.strValue=o,S}const v=Iu(o,c);return Yu(v.duration,v.delay,v.easing)}(c.timings,o.errors);o.currentAnimateTimings=d;let v,S=c.styles?c.styles:(0,Rs.oB)({});if(5==S.type)v=this.visitKeyframes(S,o);else{let $=c.styles,Q=!1;if(!$){Q=!0;const he={};d.easing&&(he.easing=d.easing),$=(0,Rs.oB)(he)}o.currentTime+=d.duration+d.delay;const re=this.visitStyle($,o);re.isEmptyStep=Q,v=re}return o.currentAnimateTimings=null,{type:4,timings:d,style:v,options:null}}visitStyle(c,o){const d=this._makeStyleAst(c,o);return this._validateStyleAst(d,o),d}_makeStyleAst(c,o){const d=[],v=Array.isArray(c.styles)?c.styles:[c.styles];for(let Q of v)"string"==typeof Q?Q===Rs.l3?d.push(Q):o.errors.push(new f.vHH(3002,!1)):d.push(kp(Q));let S=!1,$=null;return d.forEach(Q=>{if(Q instanceof Map&&(Q.has("easing")&&($=Q.get("easing"),Q.delete("easing")),!S))for(let re of Q.values())if(re.toString().indexOf("{{")>=0){S=!0;break}}),{type:6,styles:d,easing:$,offset:c.offset,containsDynamicStyles:S,options:null}}_validateStyleAst(c,o){const d=o.currentAnimateTimings;let v=o.currentTime,S=o.currentTime;d&&S>0&&(S-=d.duration+d.delay),c.styles.forEach($=>{"string"!=typeof $&&$.forEach((Q,re)=>{const he=o.collectedStyles.get(o.currentQuerySelector),xe=he.get(re);let vt=!0;xe&&(S!=v&&S>=xe.startTime&&v<=xe.endTime&&(o.errors.push(function Bd(l,c,o,d,v){return new f.vHH(3010,!1)}()),vt=!1),S=xe.startTime),vt&&he.set(re,{startTime:S,endTime:v}),o.options&&function Nf(l,c,o){const d=c.params||{},v=Bp(l);v.length&&v.forEach(S=>{d.hasOwnProperty(S)||o.push(function Dh(l){return new f.vHH(3001,!1)}())})}(Q,o.options,o.errors)})})}visitKeyframes(c,o){const d={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Gg(){return new f.vHH(3011,!1)}()),d;let S=0;const $=[];let Q=!1,re=!1,he=0;const xe=c.steps.map(xn=>{const Kn=this._makeStyleAst(xn,o);let Fr=null!=Kn.offset?Kn.offset:function im(l){if("string"==typeof l)return null;let c=null;if(Array.isArray(l))l.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;c=parseFloat(d.get("offset")),d.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const o=l;c=parseFloat(o.get("offset")),o.delete("offset")}return c}(Kn.styles),tr=0;return null!=Fr&&(S++,tr=Kn.offset=Fr),re=re||tr<0||tr>1,Q=Q||tr<he,he=tr,$.push(tr),Kn});re&&o.errors.push(function Ap(){return new f.vHH(3012,!1)}()),Q&&o.errors.push(function jg(){return new f.vHH(3200,!1)}());const vt=c.steps.length;let St=0;S>0&&S<vt?o.errors.push(function wu(){return new f.vHH(3202,!1)}()):0==S&&(St=1/(vt-1));const Lt=vt-1,en=o.currentTime,Kt=o.currentAnimateTimings,vn=Kt.duration;return xe.forEach((xn,Kn)=>{const Fr=St>0?Kn==Lt?1:St*Kn:$[Kn],tr=Fr*vn;o.currentTime=en+Kt.delay+tr,Kt.duration=tr,this._validateStyleAst(xn,o),xn.offset=Fr,d.styles.push(xn)}),d}visitReference(c,o){return{type:8,animation:Xo(this,Cc(c.animation),o),options:Cu(c.options)}}visitAnimateChild(c,o){return o.depCount++,{type:9,options:Cu(c.options)}}visitAnimateRef(c,o){return{type:10,animation:this.visitReference(c.animation,o),options:Cu(c.options)}}visitQuery(c,o){const d=o.currentQuerySelector,v=c.options||{};o.queryCount++,o.currentQuery=c;const[S,$]=function jp(l){const c=!!l.split(/\s*,\s*/).find(o=>":self"==o);return c&&(l=l.replace(nd,"")),l=l.replace(/@\*/g,ed).replace(/@\w+/g,o=>ed+"-"+o.slice(1)).replace(/:animating/g,Xl),[l,c]}(c.selector);o.currentQuerySelector=d.length?d+" "+S:S,Qo(o.collectedStyles,o.currentQuerySelector,new Map);const Q=Xo(this,Cc(c.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:11,selector:S,limit:v.limit||0,optional:!!v.optional,includeSelf:$,animation:Q,originalSelector:c.selector,options:Cu(c.options)}}visitStagger(c,o){o.currentQuery||o.errors.push(function $g(){return new f.vHH(3013,!1)}());const d="full"===c.timings?{duration:0,delay:0,easing:"full"}:Iu(c.timings,o.errors,!0);return{type:12,animation:Xo(this,Cc(c.animation),o),timings:d,options:null}}}class $p{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cu(l){return l?(l=eu(l)).params&&(l.params=function p_(l){return l?eu(l):null}(l.params)):l={},l}function Yu(l,c,o){return{duration:l,delay:c,easing:o}}function Rh(l,c,o,d,v,S,$=null,Q=!1){return{type:1,element:l,keyframes:c,preStyleProps:o,postStyleProps:d,duration:v,delay:S,totalTime:v+S,easing:$,subTimeline:Q}}class Qu{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,o){let d=this._map.get(c);d||this._map.set(c,d=[]),d.push(...o)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const rd=new RegExp(":enter","g"),Wd=new RegExp(":leave","g");function Kd(l,c,o,d,v,S=new Map,$=new Map,Q,re,he=[]){return(new Wp).buildKeyframes(l,c,o,d,v,S,$,Q,re,he)}class Wp{buildKeyframes(c,o,d,v,S,$,Q,re,he,xe=[]){he=he||new Qu;const vt=new Kp(c,o,he,v,S,xe,[]);vt.options=re;const St=re.delay?Ka(re.delay):0;vt.currentTimeline.delayNextStep(St),vt.currentTimeline.setStyles([$],null,vt.errors,re),Xo(this,d,vt);const Lt=vt.timelines.filter(en=>en.containsAnimation());if(Lt.length&&Q.size){let en;for(let Kt=Lt.length-1;Kt>=0;Kt--){const vn=Lt[Kt];if(vn.element===o){en=vn;break}}en&&!en.allowOnlyTimelineStyles()&&en.setStyles([Q],null,vt.errors,re)}return Lt.length?Lt.map(en=>en.buildKeyframes()):[Rh(o,[],[],[],0,St,"",!1)]}visitTrigger(c,o){}visitState(c,o){}visitTransition(c,o){}visitAnimateChild(c,o){const d=o.subInstructions.get(o.element);if(d){const v=o.createSubContext(c.options),S=o.currentTimeline.currentTime,$=this._visitSubInstructions(d,v,v.options);S!=$&&o.transformIntoNewTimeline($)}o.previousNode=c}visitAnimateRef(c,o){const d=o.createSubContext(c.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],o,d),this.visitReference(c.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=c}_applyAnimationRefDelays(c,o,d){for(const v of c){const S=v?.delay;if(S){const $="number"==typeof S?S:Ka(Mf(S,v?.params??{},o.errors));d.delayNextStep($)}}}_visitSubInstructions(c,o,d){let S=o.currentTimeline.currentTime;const $=null!=d.duration?Ka(d.duration):null,Q=null!=d.delay?Ka(d.delay):null;return 0!==$&&c.forEach(re=>{const he=o.appendInstructionToTimeline(re,$,Q);S=Math.max(S,he.duration+he.delay)}),S}visitReference(c,o){o.updateOptions(c.options,!0),Xo(this,c.animation,o),o.previousNode=c}visitSequence(c,o){const d=o.subContextCount;let v=o;const S=c.options;if(S&&(S.params||S.delay)&&(v=o.createSubContext(S),v.transformIntoNewTimeline(),null!=S.delay)){6==v.previousNode.type&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=id);const $=Ka(S.delay);v.delayNextStep($)}c.steps.length&&(c.steps.forEach($=>Xo(this,$,v)),v.currentTimeline.applyStylesToKeyframe(),v.subContextCount>d&&v.transformIntoNewTimeline()),o.previousNode=c}visitGroup(c,o){const d=[];let v=o.currentTimeline.currentTime;const S=c.options&&c.options.delay?Ka(c.options.delay):0;c.steps.forEach($=>{const Q=o.createSubContext(c.options);S&&Q.delayNextStep(S),Xo(this,$,Q),v=Math.max(v,Q.currentTimeline.currentTime),d.push(Q.currentTimeline)}),d.forEach($=>o.currentTimeline.mergeTimelineCollectedStyles($)),o.transformIntoNewTimeline(v),o.previousNode=c}_visitTiming(c,o){if(c.dynamic){const d=c.strValue;return Iu(o.params?Mf(d,o.params,o.errors):d,o.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,o){const d=o.currentAnimateTimings=this._visitTiming(c.timings,o),v=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),v.snapshotCurrentStyles());const S=c.style;5==S.type?this.visitKeyframes(S,o):(o.incrementTime(d.duration),this.visitStyle(S,o),v.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=c}visitStyle(c,o){const d=o.currentTimeline,v=o.currentAnimateTimings;!v&&d.hasCurrentStyleProperties()&&d.forwardFrame();const S=v&&v.easing||c.easing;c.isEmptyStep?d.applyEmptyStep(S):d.setStyles(c.styles,S,o.errors,o.options),o.previousNode=c}visitKeyframes(c,o){const d=o.currentAnimateTimings,v=o.currentTimeline.duration,S=d.duration,Q=o.createSubContext().currentTimeline;Q.easing=d.easing,c.styles.forEach(re=>{Q.forwardTime((re.offset||0)*S),Q.setStyles(re.styles,re.easing,o.errors,o.options),Q.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Q),o.transformIntoNewTimeline(v+S),o.previousNode=c}visitQuery(c,o){const d=o.currentTimeline.currentTime,v=c.options||{},S=v.delay?Ka(v.delay):0;S&&(6===o.previousNode.type||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=id);let $=d;const Q=o.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!v.optional,o.errors);o.currentQueryTotal=Q.length;let re=null;Q.forEach((he,xe)=>{o.currentQueryIndex=xe;const vt=o.createSubContext(c.options,he);S&&vt.delayNextStep(S),he===o.element&&(re=vt.currentTimeline),Xo(this,c.animation,vt),vt.currentTimeline.applyStylesToKeyframe(),$=Math.max($,vt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline($),re&&(o.currentTimeline.mergeTimelineCollectedStyles(re),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=c}visitStagger(c,o){const d=o.parentContext,v=o.currentTimeline,S=c.timings,$=Math.abs(S.duration),Q=$*(o.currentQueryTotal-1);let re=$*o.currentQueryIndex;switch(S.duration<0?"reverse":S.easing){case"reverse":re=Q-re;break;case"full":re=d.currentStaggerTime}const xe=o.currentTimeline;re&&xe.delayNextStep(re);const vt=xe.currentTime;Xo(this,c.animation,o),o.previousNode=c,d.currentStaggerTime=v.currentTime-vt+(v.startTime-d.currentTimeline.startTime)}}const id={};class Kp{constructor(c,o,d,v,S,$,Q,re){this._driver=c,this.element=o,this.subInstructions=d,this._enterClassName=v,this._leaveClassName=S,this.errors=$,this.timelines=Q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=id,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=re||new qd(this._driver,o,0),Q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,o){if(!c)return;const d=c;let v=this.options;null!=d.duration&&(v.duration=Ka(d.duration)),null!=d.delay&&(v.delay=Ka(d.delay));const S=d.params;if(S){let $=v.params;$||($=this.options.params={}),Object.keys(S).forEach(Q=>{(!o||!$.hasOwnProperty(Q))&&($[Q]=Mf(S[Q],$,this.errors))})}}_copyOptions(){const c={};if(this.options){const o=this.options.params;if(o){const d=c.params={};Object.keys(o).forEach(v=>{d[v]=o[v]})}}return c}createSubContext(c=null,o,d){const v=o||this.element,S=new Kp(this._driver,v,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(v,d||0));return S.previousNode=this.previousNode,S.currentAnimateTimings=this.currentAnimateTimings,S.options=this._copyOptions(),S.updateOptions(c),S.currentQueryIndex=this.currentQueryIndex,S.currentQueryTotal=this.currentQueryTotal,S.parentContext=this,this.subContextCount++,S}transformIntoNewTimeline(c){return this.previousNode=id,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,o,d){const v={duration:o??c.duration,delay:this.currentTimeline.currentTime+(d??0)+c.delay,easing:""},S=new sm(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,v,c.stretchStartingKeyframe);return this.timelines.push(S),v}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,o,d,v,S,$){let Q=[];if(v&&Q.push(this.element),c.length>0){c=(c=c.replace(rd,"."+this._enterClassName)).replace(Wd,"."+this._leaveClassName);let he=this._driver.query(this.element,c,1!=d);0!==d&&(he=d<0?he.slice(he.length+d,he.length):he.slice(0,d)),Q.push(...he)}return!S&&0==Q.length&&$.push(function Hg(l){return new f.vHH(3014,!1)}()),Q}}class qd{constructor(c,o,d,v){this._driver=c,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=v,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+c),o&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,o){return this.applyStylesToKeyframe(),new qd(this._driver,c,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,o){this._localTimelineStyles.set(c,o),this._globalTimelineStyles.set(c,o),this._styleSummary.set(c,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||Rs.l3),this._currentKeyframe.set(o,Rs.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,o,d,v){o&&this._previousKeyframe.set("easing",o);const S=v&&v.params||{},$=function qp(l,c){const o=new Map;let d;return l.forEach(v=>{if("*"===v){d=d||c.keys();for(let S of d)o.set(S,Rs.l3)}else Ic(v,o)}),o}(c,this._globalTimelineStyles);for(let[Q,re]of $){const he=Mf(re,S,d);this._pendingStyles.set(Q,he),this._localTimelineStyles.has(Q)||this._backFill.set(Q,this._globalTimelineStyles.get(Q)??Rs.l3),this._updateStyle(Q,he)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,o)=>{this._currentKeyframe.set(o,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,c)}))}snapshotCurrentStyles(){for(let[c,o]of this._localTimelineStyles)this._pendingStyles.set(c,o),this._updateStyle(c,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let o in this._currentKeyframe)c.push(o);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((o,d)=>{const v=this._styleSummary.get(d);(!v||o.time>v.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let v=[];this._keyframes.forEach((Q,re)=>{const he=Ic(Q,new Map,this._backFill);he.forEach((xe,vt)=>{xe===Rs.k1?c.add(vt):xe===Rs.l3&&o.add(vt)}),d||he.set("offset",re/this.duration),v.push(he)});const S=c.size?Of(c.values()):[],$=o.size?Of(o.values()):[];if(d){const Q=v[0],re=new Map(Q);Q.set("offset",0),re.set("offset",1),v=[Q,re]}return Rh(this.element,v,S,$,this.duration,this.startTime,this.easing,!1)}}class sm extends qd{constructor(c,o,d,v,S,$,Q=!1){super(c,o,$.delay),this.keyframes=d,this.preStyleProps=v,this.postStyleProps=S,this._stretchStartingKeyframe=Q,this.timings={duration:$.duration,delay:$.delay,easing:$.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:o,duration:d,easing:v}=this.timings;if(this._stretchStartingKeyframe&&o){const S=[],$=d+o,Q=o/$,re=Ic(c[0]);re.set("offset",0),S.push(re);const he=Ic(c[0]);he.set("offset",xf(Q)),S.push(he);const xe=c.length-1;for(let vt=1;vt<=xe;vt++){let St=Ic(c[vt]);const Lt=St.get("offset");St.set("offset",xf((o+Lt*d)/$)),S.push(St)}d=$,o=0,v="",c=S}return Rh(this.element,c,this.preStyleProps,this.postStyleProps,d,o,v,!0)}}function xf(l,c=3){const o=Math.pow(10,c-1);return Math.round(l*o)/o}class Ph{}const Da=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pf extends Ph{normalizePropertyName(c,o){return td(c)}normalizeStyleValue(c,o,d,v){let S="";const $=d.toString().trim();if(Da.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)S="px";else{const Q=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Q&&0==Q[1].length&&v.push(function Sp(l,c){return new f.vHH(3005,!1)}())}return $+S}}function kf(l,c,o,d,v,S,$,Q,re,he,xe,vt,St){return{type:0,element:l,triggerName:c,isRemovalTransition:v,fromState:o,fromStyles:S,toState:d,toStyles:$,timelines:Q,queriedElements:re,preStyleProps:he,postStyleProps:xe,totalTime:vt,errors:St}}const Ff={};class Zd{constructor(c,o,d){this._triggerName=c,this.ast=o,this._stateStyles=d}match(c,o,d,v){return function g_(l,c,o,d,v){return l.some(S=>S(c,o,d,v))}(this.ast.matchers,c,o,d,v)}buildStyles(c,o,d){let v=this._stateStyles.get("*");return void 0!==c&&(v=this._stateStyles.get(c?.toString())||v),v?v.buildStyles(o,d):new Map}build(c,o,d,v,S,$,Q,re,he,xe){const vt=[],St=this.ast.options&&this.ast.options.params||Ff,en=this.buildStyles(d,Q&&Q.params||Ff,vt),Kt=re&&re.params||Ff,vn=this.buildStyles(v,Kt,vt),xn=new Set,Kn=new Map,Fr=new Map,tr="void"===v,oi={params:lm(Kt,St),delay:this.ast.options?.delay},Vr=xe?[]:Kd(c,o,this.ast.animation,S,$,en,vn,oi,he,vt);let Zr=0;if(Vr.forEach(os=>{Zr=Math.max(os.duration+os.delay,Zr)}),vt.length)return kf(o,this._triggerName,d,v,tr,en,vn,[],[],Kn,Fr,Zr,vt);Vr.forEach(os=>{const as=os.element,co=Qo(Kn,as,new Set);os.preStyleProps.forEach(Us=>co.add(Us));const da=Qo(Fr,as,new Set);os.postStyleProps.forEach(Us=>da.add(Us)),as!==o&&xn.add(as)});const mi=Of(xn.values());return kf(o,this._triggerName,d,v,tr,en,vn,Vr,mi,Kn,Fr,Zr)}}function lm(l,c){const o=eu(c);for(const d in l)l.hasOwnProperty(d)&&null!=l[d]&&(o[d]=l[d]);return o}class Lf{constructor(c,o,d){this.styles=c,this.defaultParams=o,this.normalizer=d}buildStyles(c,o){const d=new Map,v=eu(this.defaultParams);return Object.keys(c).forEach(S=>{const $=c[S];null!==$&&(v[S]=$)}),this.styles.styles.forEach(S=>{"string"!=typeof S&&S.forEach(($,Q)=>{$&&($=Mf($,v,o));const re=this.normalizer.normalizePropertyName(Q,o);$=this.normalizer.normalizeStyleValue(Q,re,$,o),d.set(Q,$)})}),d}}class m_{constructor(c,o,d){this.name=c,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(v=>{this.states.set(v.name,new Lf(v.style,v.options&&v.options.params||{},d))}),ea(this.states,"true","1"),ea(this.states,"false","0"),o.transitions.forEach(v=>{this.transitionFactories.push(new Zd(c,v,this.states))}),this.fallbackTransition=function __(l,c,o){return new Zd(l,{type:1,animation:{type:2,steps:[],options:null},matchers:[($,Q)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,o,d,v){return this.transitionFactories.find($=>$.match(c,o,d,v))||null}matchStyles(c,o,d){return this.fallbackTransition.buildStyles(c,o,d)}}function ea(l,c,o){l.has(c)?l.has(o)||l.set(o,l.get(c)):l.has(o)&&l.set(c,l.get(o))}const y_=new Qu;class um{constructor(c,o,d){this.bodyNode=c,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,o){const d=[],v=[],S=zd(this._driver,o,d,v);if(d.length)throw function zg(l){return new f.vHH(3503,!1)}();this._animations.set(c,S)}_buildPlayer(c,o,d){const v=c.element,S=Yg(0,this._normalizer,0,c.keyframes,o,d);return this._driver.animate(v,S,c.duration,c.delay,c.easing,[],!0)}create(c,o,d={}){const v=[],S=this._animations.get(c);let $;const Q=new Map;if(S?($=Kd(this._driver,o,S,Jo,Ch,new Map,new Map,d,y_,v),$.forEach(xe=>{const vt=Qo(Q,xe.element,new Map);xe.postStyleProps.forEach(St=>vt.set(St,null))})):(v.push(function Df(){return new f.vHH(3300,!1)}()),$=[]),v.length)throw function Np(l){return new f.vHH(3504,!1)}();Q.forEach((xe,vt)=>{xe.forEach((St,Lt)=>{xe.set(Lt,this._driver.computeStyle(vt,Lt,Rs.l3))})});const he=Ec($.map(xe=>{const vt=Q.get(xe.element);return this._buildPlayer(xe,new Map,vt)}));return this._playersById.set(c,he),he.onDestroy(()=>this.destroy(c)),this.players.push(he),he}destroy(c){const o=this._getPlayer(c);o.destroy(),this._playersById.delete(c);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(c){const o=this._playersById.get(c);if(!o)throw function Wg(l){return new f.vHH(3301,!1)}();return o}listen(c,o,d,v){const S=Du(o,"","","");return Tc(this._getPlayer(c),d,S,v),()=>{}}command(c,o,d,v){if("register"==d)return void this.register(c,v[0]);if("create"==d)return void this.create(c,o,v[0]||{});const S=this._getPlayer(c);switch(d){case"play":S.play();break;case"pause":S.pause();break;case"reset":S.reset();break;case"restart":S.restart();break;case"finish":S.finish();break;case"init":S.init();break;case"setPosition":S.setPosition(parseFloat(v[0]));break;case"destroy":this.destroy(c)}}}const kh="ng-animate-queued",Lh="ng-animate-disabled",b_=[],Qp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ul="__ng_removed";class Xp{get params(){return this.options.params}constructor(c,o=""){this.namespaceId=o;const d=c&&c.hasOwnProperty("value");if(this.value=function cm(l){return l??null}(d?c.value:c),d){const S=eu(c);delete S.value,this.options=S}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const o=c.params;if(o){const d=this.options.params;Object.keys(o).forEach(v=>{null==d[v]&&(d[v]=o[v])})}}}const nu="void",Bh=new Xp(nu);class Yd{constructor(c,o,d){this.id=c,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,wl(o,this._hostClassName)}listen(c,o,d,v){if(!this._triggers.has(o))throw function Kg(l,c){return new f.vHH(3302,!1)}();if(null==d||0==d.length)throw function qg(l){return new f.vHH(3303,!1)}();if(!function dm(l){return"start"==l||"done"==l}(d))throw function Mp(l,c){return new f.vHH(3400,!1)}();const S=Qo(this._elementListeners,c,[]),$={name:o,phase:d,callback:v};S.push($);const Q=Qo(this._engine.statesByElement,c,new Map);return Q.has(o)||(wl(c,Xc),wl(c,Xc+"-"+o),Q.set(o,Bh)),()=>{this._engine.afterFlush(()=>{const re=S.indexOf($);re>=0&&S.splice(re,1),this._triggers.has(o)||Q.delete(o)})}}register(c,o){return!this._triggers.has(c)&&(this._triggers.set(c,o),!0)}_getTrigger(c){const o=this._triggers.get(c);if(!o)throw function Ef(l){return new f.vHH(3401,!1)}();return o}trigger(c,o,d,v=!0){const S=this._getTrigger(o),$=new Xu(this.id,o,c);let Q=this._engine.statesByElement.get(c);Q||(wl(c,Xc),wl(c,Xc+"-"+o),this._engine.statesByElement.set(c,Q=new Map));let re=Q.get(o);const he=new Xp(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&re&&he.absorbOptions(re.options),Q.set(o,he),re||(re=Bh),he.value!==nu&&re.value===he.value){if(!function od(l,c){const o=Object.keys(l),d=Object.keys(c);if(o.length!=d.length)return!1;for(let v=0;v<o.length;v++){const S=o[v];if(!c.hasOwnProperty(S)||l[S]!==c[S])return!1}return!0}(re.params,he.params)){const Kt=[],vn=S.matchStyles(re.value,re.params,Kt),xn=S.matchStyles(he.value,he.params,Kt);Kt.length?this._engine.reportError(Kt):this._engine.afterFlush(()=>{bl(c,vn),Bl(c,xn)})}return}const St=Qo(this._engine.playersByElement,c,[]);St.forEach(Kt=>{Kt.namespaceId==this.id&&Kt.triggerName==o&&Kt.queued&&Kt.destroy()});let Lt=S.matchTransition(re.value,he.value,c,he.params),en=!1;if(!Lt){if(!v)return;Lt=S.fallbackTransition,en=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:o,transition:Lt,fromState:re,toState:he,player:$,isFallbackTransition:en}),en||(wl(c,kh),$.onStart(()=>{Au(c,kh)})),$.onDone(()=>{let Kt=this.players.indexOf($);Kt>=0&&this.players.splice(Kt,1);const vn=this._engine.playersByElement.get(c);if(vn){let xn=vn.indexOf($);xn>=0&&vn.splice(xn,1)}}),this.players.push($),St.push($),$}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(o=>o.delete(c)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(v=>v.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const o=this._engine.playersByElement.get(c);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,o){const d=this._engine.driver.query(c,ed,!0);d.forEach(v=>{if(v[Ul])return;const S=this._engine.fetchNamespacesByElement(v);S.size?S.forEach($=>$.triggerLeaveAnimation(v,o,!1,!0)):this.clearElementCache(v)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(v=>this.clearElementCache(v)))}triggerLeaveAnimation(c,o,d,v){const S=this._engine.statesByElement.get(c),$=new Map;if(S){const Q=[];if(S.forEach((re,he)=>{if($.set(he,re.value),this._triggers.has(he)){const xe=this.trigger(c,he,nu,v);xe&&Q.push(xe)}}),Q.length)return this._engine.markElementAsRemoved(this.id,c,!0,o,$),d&&Ec(Q).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const o=this._elementListeners.get(c),d=this._engine.statesByElement.get(c);if(o&&d){const v=new Set;o.forEach(S=>{const $=S.name;if(v.has($))return;v.add($);const re=this._triggers.get($).fallbackTransition,he=d.get($)||Bh,xe=new Xp(nu),vt=new Xu(this.id,$,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:$,transition:re,fromState:he,toState:xe,player:vt,isFallbackTransition:!0})})}}removeNode(c,o){const d=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,o),this.triggerLeaveAnimation(c,o,!0))return;let v=!1;if(d.totalAnimations){const S=d.players.length?d.playersByQueriedElement.get(c):[];if(S&&S.length)v=!0;else{let $=c;for(;$=$.parentNode;)if(d.statesByElement.get($)){v=!0;break}}}if(this.prepareLeaveAnimationListeners(c),v)d.markElementAsRemoved(this.id,c,!1,o);else{const S=c[Ul];(!S||S===Qp)&&(d.afterFlush(()=>this.clearElementCache(c)),d.destroyInnerAnimations(c),d._onRemovalComplete(c,o))}}insertNode(c,o){wl(c,this._hostClassName)}drainQueuedTransitions(c){const o=[];return this._queue.forEach(d=>{const v=d.player;if(v.destroyed)return;const S=d.element,$=this._elementListeners.get(S);$&&$.forEach(Q=>{if(Q.name==d.triggerName){const re=Du(S,d.triggerName,d.fromState.value,d.toState.value);re._data=c,Tc(d.player,Q.phase,re,Q.callback)}}),v.markedForDestroy?this._engine.afterFlush(()=>{v.destroy()}):o.push(d)}),this._queue=[],o.sort((d,v)=>{const S=d.transition.ast.depCount,$=v.transition.ast.depCount;return 0==S||0==$?S-$:this._engine.driver.containsElement(d.element,v.element)?1:-1})}destroy(c){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let o=!1;return this._elementListeners.has(c)&&(o=!0),o=!!this._queue.find(d=>d.element===c)||o,o}}class Qd{_onRemovalComplete(c,o){this.onRemovalComplete(c,o)}constructor(c,o,d){this.bodyNode=c,this.driver=o,this._normalizer=d,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(v,S)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&c.push(d)})}),c}createNamespace(c,o){const d=new Yd(c,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[c]=d}_balanceNamespaceList(c,o){const d=this._namespaceList,v=this.namespacesByHostElement;if(d.length-1>=0){let $=!1,Q=this.driver.getParentElement(o);for(;Q;){const re=v.get(Q);if(re){const he=d.indexOf(re);d.splice(he+1,0,c),$=!0;break}Q=this.driver.getParentElement(Q)}$||d.unshift(c)}else d.push(c);return v.set(o,c),c}register(c,o){let d=this._namespaceLookup[c];return d||(d=this.createNamespace(c,o)),d}registerTrigger(c,o,d){let v=this._namespaceLookup[c];v&&v.register(o,d)&&this.totalAnimations++}destroy(c,o){if(!c)return;const d=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(d.hostElement),delete this._namespaceLookup[c];const v=this._namespaceList.indexOf(d);v>=0&&this._namespaceList.splice(v,1)}),this.afterFlushAnimationsDone(()=>d.destroy(o))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const o=new Set,d=this.statesByElement.get(c);if(d)for(let v of d.values())if(v.namespaceId){const S=this._fetchNamespace(v.namespaceId);S&&o.add(S)}return o}trigger(c,o,d,v){if(sd(o)){const S=this._fetchNamespace(c);if(S)return S.trigger(o,d,v),!0}return!1}insertNode(c,o,d,v){if(!sd(o))return;const S=o[Ul];if(S&&S.setForRemoval){S.setForRemoval=!1,S.setForMove=!0;const $=this.collectedLeaveElements.indexOf(o);$>=0&&this.collectedLeaveElements.splice($,1)}if(c){const $=this._fetchNamespace(c);$&&$.insertNode(o,d)}v&&this.collectEnterElement(o)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,o){o?this.disabledNodes.has(c)||(this.disabledNodes.add(c),wl(c,Lh)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Au(c,Lh))}removeNode(c,o,d,v){if(sd(o)){const S=c?this._fetchNamespace(c):null;if(S?S.removeNode(o,v):this.markElementAsRemoved(c,o,!1,v),d){const $=this.namespacesByHostElement.get(o);$&&$.id!==c&&$.removeNode(o,v)}}else this._onRemovalComplete(o,v)}markElementAsRemoved(c,o,d,v,S){this.collectedLeaveElements.push(o),o[Ul]={namespaceId:c,setForRemoval:v,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:S}}listen(c,o,d,v,S){return sd(o)?this._fetchNamespace(c).listen(o,d,v,S):()=>{}}_buildInstruction(c,o,d,v,S){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,d,v,c.fromState.options,c.toState.options,o,S)}destroyInnerAnimations(c){let o=this.driver.query(c,ed,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(c,Xl,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(c){const o=this.playersByElement.get(c);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(c){const o=this.playersByQueriedElement.get(c);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ec(this.players).onDone(()=>c());c()})}processLeaveNode(c){const o=c[Ul];if(o&&o.setForRemoval){if(c[Ul]=Qp,o.namespaceId){this.destroyInnerAnimations(c);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(c)}this._onRemovalComplete(c,o.setForRemoval)}c.classList?.contains(Lh)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(c=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,v)=>this._balanceNamespaceList(d,v)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)wl(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,c)}finally{for(let v=0;v<d.length;v++)d[v]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Ec(o).onDone(()=>{d.forEach(v=>v())}):d.forEach(v=>v())}}reportError(c){throw function Ud(l){return new f.vHH(3402,!1)}()}_flushAnimations(c,o){const d=new Qu,v=[],S=new Map,$=[],Q=new Map,re=new Map,he=new Map,xe=new Set;this.disabledNodes.forEach(In=>{xe.add(In);const Ln=this.driver.query(In,".ng-animate-queued",!0);for(let sr=0;sr<Ln.length;sr++)xe.add(Ln[sr])});const vt=this.bodyNode,St=Array.from(this.statesByElement.keys()),Lt=Uf(St,this.collectedEnterElements),en=new Map;let Kt=0;Lt.forEach((In,Ln)=>{const sr=Jo+Kt++;en.set(Ln,sr),In.forEach(Gr=>wl(Gr,sr))});const vn=[],xn=new Set,Kn=new Set;for(let In=0;In<this.collectedLeaveElements.length;In++){const Ln=this.collectedLeaveElements[In],sr=Ln[Ul];sr&&sr.setForRemoval&&(vn.push(Ln),xn.add(Ln),sr.hasAnimation?this.driver.query(Ln,".ng-star-inserted",!0).forEach(Gr=>xn.add(Gr)):Kn.add(Ln))}const Fr=new Map,tr=Uf(St,Array.from(xn));tr.forEach((In,Ln)=>{const sr=Ch+Kt++;Fr.set(Ln,sr),In.forEach(Gr=>wl(Gr,sr))}),c.push(()=>{Lt.forEach((In,Ln)=>{const sr=en.get(Ln);In.forEach(Gr=>Au(Gr,sr))}),tr.forEach((In,Ln)=>{const sr=Fr.get(Ln);In.forEach(Gr=>Au(Gr,sr))}),vn.forEach(In=>{this.processLeaveNode(In)})});const oi=[],Vr=[];for(let In=this._namespaceList.length-1;In>=0;In--)this._namespaceList[In].drainQueuedTransitions(o).forEach(sr=>{const Gr=sr.player,fs=sr.element;if(oi.push(Gr),this.collectedEnterElements.length){const fo=fs[Ul];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(sr.triggerName)){const fa=fo.previousTriggersValues.get(sr.triggerName),pa=this.statesByElement.get(sr.element);if(pa&&pa.has(sr.triggerName)){const cd=pa.get(sr.triggerName);cd.value=fa,pa.set(sr.triggerName,cd)}}return void Gr.destroy()}}const ha=!vt||!this.driver.containsElement(vt,fs),Ks=Fr.get(fs),qa=en.get(fs),Zi=this._buildInstruction(sr,d,qa,Ks,ha);if(Zi.errors&&Zi.errors.length)return void Vr.push(Zi);if(ha)return Gr.onStart(()=>bl(fs,Zi.fromStyles)),Gr.onDestroy(()=>Bl(fs,Zi.toStyles)),void v.push(Gr);if(sr.isFallbackTransition)return Gr.onStart(()=>bl(fs,Zi.fromStyles)),Gr.onDestroy(()=>Bl(fs,Zi.toStyles)),void v.push(Gr);const ho=[];Zi.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||ho.push(fo)}),Zi.timelines=ho,d.append(fs,Zi.timelines),$.push({instruction:Zi,player:Gr,element:fs}),Zi.queriedElements.forEach(fo=>Qo(Q,fo,[]).push(Gr)),Zi.preStyleProps.forEach((fo,fa)=>{if(fo.size){let pa=re.get(fa);pa||re.set(fa,pa=new Set),fo.forEach((cd,Mu)=>pa.add(Mu))}}),Zi.postStyleProps.forEach((fo,fa)=>{let pa=he.get(fa);pa||he.set(fa,pa=new Set),fo.forEach((cd,Mu)=>pa.add(Mu))})});if(Vr.length){const In=[];Vr.forEach(Ln=>{In.push(function Wu(l,c){return new f.vHH(3505,!1)}())}),oi.forEach(Ln=>Ln.destroy()),this.reportError(In)}const Zr=new Map,mi=new Map;$.forEach(In=>{const Ln=In.element;d.has(Ln)&&(mi.set(Ln,Ln),this._beforeAnimationBuild(In.player.namespaceId,In.instruction,Zr))}),v.forEach(In=>{const Ln=In.element;this._getPreviousPlayers(Ln,!1,In.namespaceId,In.triggerName,null).forEach(Gr=>{Qo(Zr,Ln,[]).push(Gr),Gr.destroy()})});const os=vn.filter(In=>Gh(In,re,he)),as=new Map;Su(as,this.driver,Kn,he,Rs.l3).forEach(In=>{Gh(In,re,he)&&os.push(In)});const da=new Map;Lt.forEach((In,Ln)=>{Su(da,this.driver,new Set(In),re,Rs.k1)}),os.forEach(In=>{const Ln=as.get(In),sr=da.get(In);as.set(In,new Map([...Array.from(Ln?.entries()??[]),...Array.from(sr?.entries()??[])]))});const Us=[],Nu=[],Dl={};$.forEach(In=>{const{element:Ln,player:sr,instruction:Gr}=In;if(d.has(Ln)){if(xe.has(Ln))return sr.onDestroy(()=>Bl(Ln,Gr.toStyles)),sr.disabled=!0,sr.overrideTotalTime(Gr.totalTime),void v.push(sr);let fs=Dl;if(mi.size>1){let Ks=Ln;const qa=[];for(;Ks=Ks.parentNode;){const Zi=mi.get(Ks);if(Zi){fs=Zi;break}qa.push(Ks)}qa.forEach(Zi=>mi.set(Zi,fs))}const ha=this._buildAnimation(sr.namespaceId,Gr,Zr,S,da,as);if(sr.setRealPlayer(ha),fs===Dl)Us.push(sr);else{const Ks=this.playersByElement.get(fs);Ks&&Ks.length&&(sr.parentPlayer=Ec(Ks)),v.push(sr)}}else bl(Ln,Gr.fromStyles),sr.onDestroy(()=>Bl(Ln,Gr.toStyles)),Nu.push(sr),xe.has(Ln)&&v.push(sr)}),Nu.forEach(In=>{const Ln=S.get(In.element);if(Ln&&Ln.length){const sr=Ec(Ln);In.setRealPlayer(sr)}}),v.forEach(In=>{In.parentPlayer?In.syncPlayerEvents(In.parentPlayer):In.destroy()});for(let In=0;In<vn.length;In++){const Ln=vn[In],sr=Ln[Ul];if(Au(Ln,Ch),sr&&sr.hasAnimation)continue;let Gr=[];if(Q.size){let ha=Q.get(Ln);ha&&ha.length&&Gr.push(...ha);let Ks=this.driver.query(Ln,Xl,!0);for(let qa=0;qa<Ks.length;qa++){let Zi=Q.get(Ks[qa]);Zi&&Zi.length&&Gr.push(...Zi)}}const fs=Gr.filter(ha=>!ha.destroyed);fs.length?ec(this,Ln,fs):this.processLeaveNode(Ln)}return vn.length=0,Us.forEach(In=>{this.players.push(In),In.onDone(()=>{In.destroy();const Ln=this.players.indexOf(In);this.players.splice(Ln,1)}),In.play()}),Us}elementContainsData(c,o){let d=!1;const v=o[Ul];return v&&v.setForRemoval&&(d=!0),this.playersByElement.has(o)&&(d=!0),this.playersByQueriedElement.has(o)&&(d=!0),this.statesByElement.has(o)&&(d=!0),this._fetchNamespace(c).elementContainsData(o)||d}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,o,d,v,S){let $=[];if(o){const Q=this.playersByQueriedElement.get(c);Q&&($=Q)}else{const Q=this.playersByElement.get(c);if(Q){const re=!S||S==nu;Q.forEach(he=>{he.queued||!re&&he.triggerName!=v||$.push(he)})}}return(d||v)&&($=$.filter(Q=>!(d&&d!=Q.namespaceId||v&&v!=Q.triggerName))),$}_beforeAnimationBuild(c,o,d){const S=o.element,$=o.isRemovalTransition?void 0:c,Q=o.isRemovalTransition?void 0:o.triggerName;for(const re of o.timelines){const he=re.element,xe=he!==S,vt=Qo(d,he,[]);this._getPreviousPlayers(he,xe,$,Q,o.toState).forEach(Lt=>{const en=Lt.getRealPlayer();en.beforeDestroy&&en.beforeDestroy(),Lt.destroy(),vt.push(Lt)})}bl(S,o.fromStyles)}_buildAnimation(c,o,d,v,S,$){const Q=o.triggerName,re=o.element,he=[],xe=new Set,vt=new Set,St=o.timelines.map(en=>{const Kt=en.element;xe.add(Kt);const vn=Kt[Ul];if(vn&&vn.removedBeforeQueried)return new Rs.ZN(en.duration,en.delay);const xn=Kt!==re,Kn=function Jd(l){const c=[];return Vh(l,c),c}((d.get(Kt)||b_).map(Zr=>Zr.getRealPlayer())).filter(Zr=>!!Zr.element&&Zr.element===Kt),Fr=S.get(Kt),tr=$.get(Kt),oi=Yg(0,this._normalizer,0,en.keyframes,Fr,tr),Vr=this._buildPlayer(en,oi,Kn);if(en.subTimeline&&v&&vt.add(Kt),xn){const Zr=new Xu(c,Q,Kt);Zr.setRealPlayer(Vr),he.push(Zr)}return Vr});he.forEach(en=>{Qo(this.playersByQueriedElement,en.element,[]).push(en),en.onDone(()=>function Ac(l,c,o){let d=l.get(c);if(d){if(d.length){const v=d.indexOf(o);d.splice(v,1)}0==d.length&&l.delete(c)}return d}(this.playersByQueriedElement,en.element,en))}),xe.forEach(en=>wl(en,kr));const Lt=Ec(St);return Lt.onDestroy(()=>{xe.forEach(en=>Au(en,kr)),Bl(re,o.toStyles)}),vt.forEach(en=>{Qo(v,en,[]).push(Lt)}),Lt}_buildPlayer(c,o,d){return o.length>0?this.driver.animate(c.element,o,c.duration,c.delay,c.easing,d):new Rs.ZN(c.duration,c.delay)}}class Xu{constructor(c,o,d){this.namespaceId=c,this.triggerName=o,this.element=d,this._player=new Rs.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((o,d)=>{o.forEach(v=>Tc(c,d,void 0,v))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const o=this._player;o.triggerCallback&&c.onStart(()=>o.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,o){Qo(this._queuedCallbacks,c,[]).push(o)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const o=this._player;o.triggerCallback&&o.triggerCallback(c)}}function sd(l){return l&&1===l.nodeType}function Uh(l,c){const o=l.style.display;return l.style.display=c??"none",o}function Su(l,c,o,d,v){const S=[];o.forEach(re=>S.push(Uh(re)));const $=[];d.forEach((re,he)=>{const xe=new Map;re.forEach(vt=>{const St=c.computeStyle(he,vt,v);xe.set(vt,St),(!St||0==St.length)&&(he[Ul]=Jp,$.push(he))}),l.set(he,xe)});let Q=0;return o.forEach(re=>Uh(re,S[Q++])),$}function Uf(l,c){const o=new Map;if(l.forEach(Q=>o.set(Q,[])),0==c.length)return o;const d=1,v=new Set(c),S=new Map;function $(Q){if(!Q)return d;let re=S.get(Q);if(re)return re;const he=Q.parentNode;return re=o.has(he)?he:v.has(he)?d:$(he),S.set(Q,re),re}return c.forEach(Q=>{const re=$(Q);re!==d&&o.get(re).push(Q)}),o}function wl(l,c){l.classList?.add(c)}function Au(l,c){l.classList?.remove(c)}function ec(l,c,o){Ec(o).onDone(()=>l.processLeaveNode(c))}function Vh(l,c){for(let o=0;o<l.length;o++){const d=l[o];d instanceof Rs.ZE?Vh(d.players,c):c.push(d)}}function Gh(l,c,o){const d=o.get(l);if(!d)return!1;let v=c.get(l);return v?d.forEach(S=>v.add(S)):c.set(l,d),o.delete(l),!0}class ad{constructor(c,o,d){this.bodyNode=c,this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(v,S)=>{},this._transitionEngine=new Qd(c,o,d),this._timelineEngine=new um(c,o,d),this._transitionEngine.onRemovalComplete=(v,S)=>this.onRemovalComplete(v,S)}registerTrigger(c,o,d,v,S){const $=c+"-"+v;let Q=this._triggerCache[$];if(!Q){const re=[],he=[],xe=zd(this._driver,S,re,he);if(re.length)throw function Fl(l,c){return new f.vHH(3404,!1)}();Q=function Bf(l,c,o){return new m_(l,c,o)}(v,xe,this._normalizer),this._triggerCache[$]=Q}this._transitionEngine.registerTrigger(o,v,Q)}register(c,o){this._transitionEngine.register(c,o)}destroy(c,o){this._transitionEngine.destroy(c,o)}onInsert(c,o,d,v){this._transitionEngine.insertNode(c,o,d,v)}onRemove(c,o,d,v){this._transitionEngine.removeNode(c,o,v||!1,d)}disableAnimations(c,o){this._transitionEngine.markElementAsDisabled(c,o)}process(c,o,d,v){if("@"==d.charAt(0)){const[S,$]=Eu(d);this._timelineEngine.command(S,o,$,v)}else this._transitionEngine.trigger(c,o,d,v)}listen(c,o,d,v,S){if("@"==d.charAt(0)){const[$,Q]=Eu(d);return this._timelineEngine.listen($,o,Q,S)}return this._transitionEngine.listen(c,o,d,v,S)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Xd=(()=>{class l{constructor(o,d,v){this._element=o,this._startStyles=d,this._endStyles=v,this._state=0;let S=l.initialStylesByElement.get(o);S||l.initialStylesByElement.set(o,S=new Map),this._initialStyles=S}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(l.initialStylesByElement.delete(this._element),this._startStyles&&(bl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bl(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return l.initialStylesByElement=new WeakMap,l})();function jh(l){let c=null;return l.forEach((o,d)=>{(function $h(l){return"display"===l||"position"===l})(d)&&(c=c||new Map,c.set(d,o))}),c}class hm{constructor(c,o,d,v){this.element=c,this.keyframes=o,this.options=d,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const o=[];return c.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(c,o,d){return c.animate(this._convertKeyframesToObject(o),d)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,v)=>{"offset"!==v&&c.set(v,this._finished?d:nm(this.element,v))}),this.currentSnapshot=c}triggerCallback(c){const o="start"===c?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class w_{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,o){return!1}containsElement(c,o){return Th(c,o)}getParentElement(c){return Cf(c)}query(c,o,d){return Ll(c,o,d)}computeStyle(c,o,d){return window.getComputedStyle(c)[o]}animate(c,o,d,v,S,$=[]){const re={duration:d,delay:v,fill:0==v?"both":"forwards"};S&&(re.easing=S);const he=new Map,xe=$.filter(Lt=>Lt instanceof hm);(function c_(l,c){return 0===l||0===c})(d,v)&&xe.forEach(Lt=>{Lt.currentSnapshot.forEach((en,Kt)=>he.set(Kt,en))});let vt=function qu(l){return l.length?l[0]instanceof Map?l:l.map(c=>kp(c)):[]}(o).map(Lt=>Ic(Lt));vt=function d_(l,c,o){if(o.size&&c.length){let d=c[0],v=[];if(o.forEach((S,$)=>{d.has($)||v.push($),d.set($,S)}),v.length)for(let S=1;S<c.length;S++){let $=c[S];v.forEach(Q=>$.set(Q,nm(l,Q)))}}return c}(c,vt,he);const St=function eg(l,c){let o=null,d=null;return Array.isArray(c)&&c.length?(o=jh(c[0]),c.length>1&&(d=jh(c[c.length-1]))):c instanceof Map&&(o=jh(c)),o||d?new Xd(l,o,d):null}(c,vt);return new hm(c,vt,re,St)}}let fm=(()=>{class l extends Rs._j{constructor(o,d){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(d.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(o){const d=this._nextAnimationId.toString();this._nextAnimationId++;const v=Array.isArray(o)?(0,Rs.vP)(o):o;return pm(this._renderer,null,d,"register",[v]),new D_(d,this._renderer)}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.FYo),f.LFG(de.K0))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})();class D_ extends Rs.LC{constructor(c,o){super(),this._id=c,this._renderer=o}create(c,o){return new tg(this._id,c,o||{},this._renderer)}}class tg{constructor(c,o,d,v){this.id=c,this.element=o,this._renderer=v,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",d)}_listen(c,o){return this._renderer.listen(this.element,`@@${this.id}:${c}`,o)}_command(c,...o){return pm(this._renderer,this.element,this.id,c,o)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pm(l,c,o,d,v){return l.setProperty(c,`@@${o}:${d}`,v)}const gm="@.disabled";let ng=(()=>{class l{constructor(o,d,v){this.delegate=o,this.engine=d,this._zone=v,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),d.onRemovalComplete=(S,$)=>{const Q=$?.parentNode(S);Q&&$.removeChild(Q,S)}}createRenderer(o,d){const S=this.delegate.createRenderer(o,d);if(!(o&&d&&d.data&&d.data.animation)){let xe=this._rendererCache.get(S);return xe||(xe=new rg("",S,this.engine,()=>this._rendererCache.delete(S)),this._rendererCache.set(S,xe)),xe}const $=d.id,Q=d.id+"-"+this._currentId;this._currentId++,this.engine.register(Q,o);const re=xe=>{Array.isArray(xe)?xe.forEach(re):this.engine.registerTrigger($,Q,o,xe.name,xe)};return d.data.animation.forEach(re),new Hh(this,Q,S,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,d,v){o>=0&&o<this._microtaskId?this._zone.run(()=>d(v)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(S=>{const[$,Q]=S;$(Q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([d,v]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(f.FYo),f.LFG(ad),f.LFG(f.R0b))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})();class rg{constructor(c,o,d,v){this.namespaceId=c,this.delegate=o,this.engine=d,this._onDestroy=v,this.destroyNode=this.delegate.destroyNode?S=>o.destroyNode(S):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(c,o){return this.delegate.createElement(c,o)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,o){this.delegate.appendChild(c,o),this.engine.onInsert(this.namespaceId,o,c,!1)}insertBefore(c,o,d,v=!0){this.delegate.insertBefore(c,o,d),this.engine.onInsert(this.namespaceId,o,c,v)}removeChild(c,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate,d)}selectRootElement(c,o){return this.delegate.selectRootElement(c,o)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,o,d,v){this.delegate.setAttribute(c,o,d,v)}removeAttribute(c,o,d){this.delegate.removeAttribute(c,o,d)}addClass(c,o){this.delegate.addClass(c,o)}removeClass(c,o){this.delegate.removeClass(c,o)}setStyle(c,o,d,v){this.delegate.setStyle(c,o,d,v)}removeStyle(c,o,d){this.delegate.removeStyle(c,o,d)}setProperty(c,o,d){"@"==o.charAt(0)&&o==gm?this.disableAnimations(c,!!d):this.delegate.setProperty(c,o,d)}setValue(c,o){this.delegate.setValue(c,o)}listen(c,o,d){return this.delegate.listen(c,o,d)}disableAnimations(c,o){this.engine.disableAnimations(c,o)}}class Hh extends rg{constructor(c,o,d,v,S){super(o,d,v,S),this.factory=c,this.namespaceId=o}setProperty(c,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==gm?this.disableAnimations(c,d=void 0===d||!!d):this.engine.process(this.namespaceId,c,o.slice(1),d):this.delegate.setProperty(c,o,d)}listen(c,o,d){if("@"==o.charAt(0)){const v=function mm(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(c);let S=o.slice(1),$="";return"@"!=S.charAt(0)&&([S,$]=function zh(l){const c=l.indexOf(".");return[l.substring(0,c),l.slice(c+1)]}(S)),this.engine.listen(this.namespaceId,v,S,$,Q=>{this.factory.scheduleListenerCallback(Q._data||-1,d,Q)})}return this.delegate.listen(c,o,d)}}const tc=[{provide:Rs._j,useClass:fm},{provide:Ph,useFactory:function sg(){return new Pf}},{provide:ad,useClass:(()=>{class l extends ad{constructor(o,d,v,S){super(o.body,d,v)}ngOnDestroy(){this.flush()}}return l.\u0275fac=function(o){return new(o||l)(f.LFG(de.K0),f.LFG(Vd),f.LFG(Ph),f.LFG(f.z2F))},l.\u0275prov=f.Yz7({token:l,factory:l.\u0275fac}),l})()},{provide:f.FYo,useFactory:function th(l,c,o){return new ng(l,c,o)},deps:[b.se,ad,f.R0b]}],Wh=[{provide:Vd,useFactory:()=>new w_},{provide:f.QbO,useValue:"BrowserAnimations"},...tc],ld=[{provide:Vd,useClass:Jc},{provide:f.QbO,useValue:"NoopAnimations"},...tc];let ud=(()=>{class l{static withConfig(o){return{ngModule:l,providers:o.disableAnimations?ld:Wh}}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({providers:Wh,imports:[b.b2]}),l})();var gy=G(2011);const Vf_firebaseConfig={apiKey:"AIzaSyAB4z7xHrYebjDXew6n70T7A_wJXJsy4Co",authDomain:"todo-e4375.firebaseapp.com",projectId:"todo-e4375",storageBucket:"todo-e4375.appspot.com",messagingSenderId:"985654009269",appId:"1:985654009269:web:e00157c99ac039091b0dfc",measurementId:"G-CTQPZ45RKW"};var ym=G(8445);let rh=(()=>{class l{}return l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=f.oAB({type:l,bootstrap:[_e]}),l.\u0275inj=f.cJS({imports:[b.b2,Ie,ge.UsersModule,Dc,ud,gy.hO.initializeApp(Vf_firebaseConfig),ym.TE]}),l})();b.q6().bootstrapModule(rh).catch(l=>console.error(l))},1135:(Wt,He,G)=>{G.d(He,{X:()=>z});var b=G(7579);class z extends b.x{constructor(f){super(),this._value=f}get value(){return this.getValue()}_subscribe(f){const De=super._subscribe(f);return!De.closed&&f.next(this._value),De}getValue(){const{hasError:f,thrownError:De,_value:Ie}=this;if(f)throw De;return this._throwIfClosed(),Ie}next(f){super.next(this._value=f)}}},9751:(Wt,He,G)=>{G.d(He,{y:()=>de});var b=G(930),z=G(727),W=G(8822),f=G(9635),De=G(2416),Ie=G(576),Pe=G(2806);let de=(()=>{class Ne{constructor(st){st&&(this._subscribe=st)}lift(st){const Je=new Ne;return Je.source=this,Je.operator=st,Je}subscribe(st,Je,tt){const qe=function ge(Ne){return Ne&&Ne instanceof b.Lv||function _e(Ne){return Ne&&(0,Ie.m)(Ne.next)&&(0,Ie.m)(Ne.error)&&(0,Ie.m)(Ne.complete)}(Ne)&&(0,z.Nn)(Ne)}(st)?st:new b.Hp(st,Je,tt);return(0,Pe.x)(()=>{const{operator:Ve,source:me}=this;qe.add(Ve?Ve.call(qe,me):me?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(st){try{return this._subscribe(st)}catch(Je){st.error(Je)}}forEach(st,Je){return new(Je=$e(Je))((tt,qe)=>{const Ve=new b.Hp({next:me=>{try{st(me)}catch(ht){qe(ht),Ve.unsubscribe()}},error:qe,complete:tt});this.subscribe(Ve)})}_subscribe(st){var Je;return null===(Je=this.source)||void 0===Je?void 0:Je.subscribe(st)}[W.L](){return this}pipe(...st){return(0,f.U)(st)(this)}toPromise(st){return new(st=$e(st))((Je,tt)=>{let qe;this.subscribe(Ve=>qe=Ve,Ve=>tt(Ve),()=>Je(qe))})}}return Ne.create=rt=>new Ne(rt),Ne})();function $e(Ne){var rt;return null!==(rt=Ne??De.v.Promise)&&void 0!==rt?rt:Promise}},7579:(Wt,He,G)=>{G.d(He,{x:()=>Pe});var b=G(9751),z=G(727);const f=(0,G(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=G(8737),Ie=G(2806);let Pe=(()=>{class $e extends b.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ge){const Ne=new de(this,this);return Ne.operator=ge,Ne}_throwIfClosed(){if(this.closed)throw new f}next(ge){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ne of this.currentObservers)Ne.next(ge)}})}error(ge){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ge;const{observers:Ne}=this;for(;Ne.length;)Ne.shift().error(ge)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ge}=this;for(;ge.length;)ge.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ge;return(null===(ge=this.observers)||void 0===ge?void 0:ge.length)>0}_trySubscribe(ge){return this._throwIfClosed(),super._trySubscribe(ge)}_subscribe(ge){return this._throwIfClosed(),this._checkFinalizedStatuses(ge),this._innerSubscribe(ge)}_innerSubscribe(ge){const{hasError:Ne,isStopped:rt,observers:st}=this;return Ne||rt?z.Lc:(this.currentObservers=null,st.push(ge),new z.w0(()=>{this.currentObservers=null,(0,De.P)(st,ge)}))}_checkFinalizedStatuses(ge){const{hasError:Ne,thrownError:rt,isStopped:st}=this;Ne?ge.error(rt):st&&ge.complete()}asObservable(){const ge=new b.y;return ge.source=this,ge}}return $e.create=(_e,ge)=>new de(_e,ge),$e})();class de extends Pe{constructor(_e,ge){super(),this.destination=_e,this.source=ge}next(_e){var ge,Ne;null===(Ne=null===(ge=this.destination)||void 0===ge?void 0:ge.next)||void 0===Ne||Ne.call(ge,_e)}error(_e){var ge,Ne;null===(Ne=null===(ge=this.destination)||void 0===ge?void 0:ge.error)||void 0===Ne||Ne.call(ge,_e)}complete(){var _e,ge;null===(ge=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===ge||ge.call(_e)}_subscribe(_e){var ge,Ne;return null!==(Ne=null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(_e))&&void 0!==Ne?Ne:z.Lc}}},930:(Wt,He,G)=>{G.d(He,{Hp:()=>tt,Lv:()=>Ne});var b=G(576),z=G(727),W=G(2416),f=G(7849),De=G(5032);const Ie=$e("C",void 0,void 0);function $e(Me,Ae,Qe){return{kind:Me,value:Ae,error:Qe}}var _e=G(3410),ge=G(2806);class Ne extends z.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,z.Nn)(Ae)&&Ae.add(this)):this.destination=ht}static create(Ae,Qe,At){return new tt(Ae,Qe,At)}next(Ae){this.isStopped?me(function de(Me){return $e("N",Me,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?me(function Pe(Me){return $e("E",void 0,Me)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?me(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function st(Me,Ae){return rt.call(Me,Ae)}class Je{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Ae)}catch(At){qe(At)}}error(Ae){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Ae)}catch(At){qe(At)}else qe(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Qe){qe(Qe)}}}class tt extends Ne{constructor(Ae,Qe,At){let Dt;if(super(),(0,b.m)(Ae)||!Ae)Dt={next:Ae??void 0,error:Qe??void 0,complete:At??void 0};else{let Ee;this&&W.v.useDeprecatedNextContext?(Ee=Object.create(Ae),Ee.unsubscribe=()=>this.unsubscribe(),Dt={next:Ae.next&&st(Ae.next,Ee),error:Ae.error&&st(Ae.error,Ee),complete:Ae.complete&&st(Ae.complete,Ee)}):Dt=Ae}this.destination=new Je(Dt)}}function qe(Me){W.v.useDeprecatedSynchronousErrorHandling?(0,ge.O)(Me):(0,f.h)(Me)}function me(Me,Ae){const{onStoppedNotification:Qe}=W.v;Qe&&_e.z.setTimeout(()=>Qe(Me,Ae))}const ht={closed:!0,next:De.Z,error:function Ve(Me){throw Me},complete:De.Z}},727:(Wt,He,G)=>{G.d(He,{Lc:()=>Ie,w0:()=>De,Nn:()=>Pe});var b=G(576);const W=(0,G(3888).d)($e=>function(ge){$e(this),this.message=ge?`${ge.length} errors occurred during unsubscription:\n${ge.map((Ne,rt)=>`${rt+1}) ${Ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ge});var f=G(8737);class De{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:ge}=this;if(ge)if(this._parentage=null,Array.isArray(ge))for(const st of ge)st.remove(this);else ge.remove(this);const{initialTeardown:Ne}=this;if((0,b.m)(Ne))try{Ne()}catch(st){_e=st instanceof W?st.errors:[st]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const st of rt)try{de(st)}catch(Je){_e=_e??[],Je instanceof W?_e=[..._e,...Je.errors]:_e.push(Je)}}if(_e)throw new W(_e)}}add(_e){var ge;if(_e&&_e!==this)if(this.closed)de(_e);else{if(_e instanceof De){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(ge=this._finalizers)&&void 0!==ge?ge:[]).push(_e)}}_hasParent(_e){const{_parentage:ge}=this;return ge===_e||Array.isArray(ge)&&ge.includes(_e)}_addParent(_e){const{_parentage:ge}=this;this._parentage=Array.isArray(ge)?(ge.push(_e),ge):ge?[ge,_e]:_e}_removeParent(_e){const{_parentage:ge}=this;ge===_e?this._parentage=null:Array.isArray(ge)&&(0,f.P)(ge,_e)}remove(_e){const{_finalizers:ge}=this;ge&&(0,f.P)(ge,_e),_e instanceof De&&_e._removeParent(this)}}De.EMPTY=(()=>{const $e=new De;return $e.closed=!0,$e})();const Ie=De.EMPTY;function Pe($e){return $e instanceof De||$e&&"closed"in $e&&(0,b.m)($e.remove)&&(0,b.m)($e.add)&&(0,b.m)($e.unsubscribe)}function de($e){(0,b.m)($e)?$e():$e.unsubscribe()}},2416:(Wt,He,G)=>{G.d(He,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(Wt,He,G)=>{G.d(He,{a:()=>_e});var b=G(9751),z=G(4742),W=G(8996),f=G(4671),De=G(3268),Ie=G(3269),Pe=G(1810),de=G(5403),$e=G(9672);function _e(...rt){const st=(0,Ie.yG)(rt),Je=(0,Ie.jO)(rt),{args:tt,keys:qe}=(0,z.D)(rt);if(0===tt.length)return(0,W.D)([],st);const Ve=new b.y(function ge(rt,st,Je=f.y){return tt=>{Ne(st,()=>{const{length:qe}=rt,Ve=new Array(qe);let me=qe,ht=qe;for(let Me=0;Me<qe;Me++)Ne(st,()=>{const Ae=(0,W.D)(rt[Me],st);let Qe=!1;Ae.subscribe((0,de.x)(tt,At=>{Ve[Me]=At,Qe||(Qe=!0,ht--),ht||tt.next(Je(Ve.slice()))},()=>{--me||tt.complete()}))},tt)},tt)}}(tt,st,qe?me=>(0,Pe.n)(qe,me):f.y));return Je?Ve.pipe((0,De.Z)(Je)):Ve}function Ne(rt,st,Je){rt?(0,$e.f)(Je,rt,st):st()}},7272:(Wt,He,G)=>{G.d(He,{z:()=>De});var b=G(8189),W=G(3269),f=G(8996);function De(...Ie){return function z(){return(0,b.J)(1)}()((0,f.D)(Ie,(0,W.yG)(Ie)))}},515:(Wt,He,G)=>{G.d(He,{E:()=>z});const z=new(G(9751).y)(De=>De.complete())},4128:(Wt,He,G)=>{G.d(He,{D:()=>de});var b=G(9751),z=G(4742),W=G(8421),f=G(3269),De=G(5403),Ie=G(3268),Pe=G(1810);function de(...$e){const _e=(0,f.jO)($e),{args:ge,keys:Ne}=(0,z.D)($e),rt=new b.y(st=>{const{length:Je}=ge;if(!Je)return void st.complete();const tt=new Array(Je);let qe=Je,Ve=Je;for(let me=0;me<Je;me++){let ht=!1;(0,W.Xf)(ge[me]).subscribe((0,De.x)(st,Me=>{ht||(ht=!0,Ve--),tt[me]=Me},()=>qe--,void 0,()=>{(!qe||!ht)&&(Ve||st.next(Ne?(0,Pe.n)(Ne,tt):tt),st.complete())}))}});return _e?rt.pipe((0,Ie.Z)(_e)):rt}},8996:(Wt,He,G)=>{G.d(He,{D:()=>Ae});var b=G(8421),z=G(5363),W=G(9468),Ie=G(9751),de=G(2202),$e=G(576),_e=G(9672);function Ne(Qe,At){if(!Qe)throw new Error("Iterable cannot be null");return new Ie.y(Dt=>{(0,_e.f)(Dt,At,()=>{const Ee=Qe[Symbol.asyncIterator]();(0,_e.f)(Dt,At,()=>{Ee.next().then(Ht=>{Ht.done?Dt.complete():Dt.next(Ht.value)})},0,!0)})})}var rt=G(3670),st=G(8239),Je=G(1144),tt=G(6495),qe=G(2206),Ve=G(4532),me=G(3260);function Ae(Qe,At){return At?function Me(Qe,At){if(null!=Qe){if((0,rt.c)(Qe))return function f(Qe,At){return(0,b.Xf)(Qe).pipe((0,W.R)(At),(0,z.Q)(At))}(Qe,At);if((0,Je.z)(Qe))return function Pe(Qe,At){return new Ie.y(Dt=>{let Ee=0;return At.schedule(function(){Ee===Qe.length?Dt.complete():(Dt.next(Qe[Ee++]),Dt.closed||this.schedule())})})}(Qe,At);if((0,st.t)(Qe))return function De(Qe,At){return(0,b.Xf)(Qe).pipe((0,W.R)(At),(0,z.Q)(At))}(Qe,At);if((0,qe.D)(Qe))return Ne(Qe,At);if((0,tt.T)(Qe))return function ge(Qe,At){return new Ie.y(Dt=>{let Ee;return(0,_e.f)(Dt,At,()=>{Ee=Qe[de.h](),(0,_e.f)(Dt,At,()=>{let Ht,Pt;try{({value:Ht,done:Pt}=Ee.next())}catch(Mt){return void Dt.error(Mt)}Pt?Dt.complete():Dt.next(Ht)},0,!0)}),()=>(0,$e.m)(Ee?.return)&&Ee.return()})}(Qe,At);if((0,me.L)(Qe))return function ht(Qe,At){return Ne((0,me.Q)(Qe),At)}(Qe,At)}throw(0,Ve.z)(Qe)}(Qe,At):(0,b.Xf)(Qe)}},4968:(Wt,He,G)=>{G.d(He,{R:()=>_e});var b=G(8421),z=G(9751),W=G(5577),f=G(1144),De=G(576),Ie=G(3268);const Pe=["addListener","removeListener"],de=["addEventListener","removeEventListener"],$e=["on","off"];function _e(Je,tt,qe,Ve){if((0,De.m)(qe)&&(Ve=qe,qe=void 0),Ve)return _e(Je,tt,qe).pipe((0,Ie.Z)(Ve));const[me,ht]=function st(Je){return(0,De.m)(Je.addEventListener)&&(0,De.m)(Je.removeEventListener)}(Je)?de.map(Me=>Ae=>Je[Me](tt,Ae,qe)):function Ne(Je){return(0,De.m)(Je.addListener)&&(0,De.m)(Je.removeListener)}(Je)?Pe.map(ge(Je,tt)):function rt(Je){return(0,De.m)(Je.on)&&(0,De.m)(Je.off)}(Je)?$e.map(ge(Je,tt)):[];if(!me&&(0,f.z)(Je))return(0,W.z)(Me=>_e(Me,tt,qe))((0,b.Xf)(Je));if(!me)throw new TypeError("Invalid event target");return new z.y(Me=>{const Ae=(...Qe)=>Me.next(1<Qe.length?Qe:Qe[0]);return me(Ae),()=>ht(Ae)})}function ge(Je,tt){return qe=>Ve=>Je[qe](tt,Ve)}},8421:(Wt,He,G)=>{G.d(He,{Xf:()=>rt});var b=G(7582),z=G(1144),W=G(8239),f=G(9751),De=G(3670),Ie=G(2206),Pe=G(4532),de=G(6495),$e=G(3260),_e=G(576),ge=G(7849),Ne=G(8822);function rt(Me){if(Me instanceof f.y)return Me;if(null!=Me){if((0,De.c)(Me))return function st(Me){return new f.y(Ae=>{const Qe=Me[Ne.L]();if((0,_e.m)(Qe.subscribe))return Qe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,z.z)(Me))return function Je(Me){return new f.y(Ae=>{for(let Qe=0;Qe<Me.length&&!Ae.closed;Qe++)Ae.next(Me[Qe]);Ae.complete()})}(Me);if((0,W.t)(Me))return function tt(Me){return new f.y(Ae=>{Me.then(Qe=>{Ae.closed||(Ae.next(Qe),Ae.complete())},Qe=>Ae.error(Qe)).then(null,ge.h)})}(Me);if((0,Ie.D)(Me))return Ve(Me);if((0,de.T)(Me))return function qe(Me){return new f.y(Ae=>{for(const Qe of Me)if(Ae.next(Qe),Ae.closed)return;Ae.complete()})}(Me);if((0,$e.L)(Me))return function me(Me){return Ve((0,$e.Q)(Me))}(Me)}throw(0,Pe.z)(Me)}function Ve(Me){return new f.y(Ae=>{(function ht(Me,Ae){var Qe,At,Dt,Ee;return(0,b.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,b.KL)(Me);!(At=yield Qe.next()).done;)if(Ae.next(At.value),Ae.closed)return}catch(Ht){Dt={error:Ht}}finally{try{At&&!At.done&&(Ee=Qe.return)&&(yield Ee.call(Qe))}finally{if(Dt)throw Dt.error}}Ae.complete()})})(Me,Ae).catch(Qe=>Ae.error(Qe))})}},6451:(Wt,He,G)=>{G.d(He,{T:()=>Ie});var b=G(8189),z=G(8421),W=G(515),f=G(3269),De=G(8996);function Ie(...Pe){const de=(0,f.yG)(Pe),$e=(0,f._6)(Pe,1/0),_e=Pe;return _e.length?1===_e.length?(0,z.Xf)(_e[0]):(0,b.J)($e)((0,De.D)(_e,de)):W.E}},9646:(Wt,He,G)=>{G.d(He,{of:()=>W});var b=G(3269),z=G(8996);function W(...f){const De=(0,b.yG)(f);return(0,z.D)(f,De)}},2843:(Wt,He,G)=>{G.d(He,{_:()=>W});var b=G(9751),z=G(576);function W(f,De){const Ie=(0,z.m)(f)?f:()=>f,Pe=de=>de.error(Ie());return new b.y(De?de=>De.schedule(Pe,0,de):Pe)}},5963:(Wt,He,G)=>{G.d(He,{H:()=>De});var b=G(9751),z=G(4986),W=G(3532);function De(Ie=0,Pe,de=z.P){let $e=-1;return null!=Pe&&((0,W.K)(Pe)?de=Pe:$e=Pe),new b.y(_e=>{let ge=function f(Ie){return Ie instanceof Date&&!isNaN(Ie)}(Ie)?+Ie-de.now():Ie;ge<0&&(ge=0);let Ne=0;return de.schedule(function(){_e.closed||(_e.next(Ne++),0<=$e?this.schedule(void 0,$e):_e.complete())},ge)})}},5403:(Wt,He,G)=>{G.d(He,{x:()=>z});var b=G(930);function z(f,De,Ie,Pe,de){return new W(f,De,Ie,Pe,de)}class W extends b.Lv{constructor(De,Ie,Pe,de,$e,_e){super(De),this.onFinalize=$e,this.shouldUnsubscribe=_e,this._next=Ie?function(ge){try{Ie(ge)}catch(Ne){De.error(Ne)}}:super._next,this._error=de?function(ge){try{de(ge)}catch(Ne){De.error(Ne)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(ge){De.error(ge)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var De;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(De=this.onFinalize)||void 0===De||De.call(this))}}}},262:(Wt,He,G)=>{G.d(He,{K:()=>f});var b=G(8421),z=G(5403),W=G(4482);function f(De){return(0,W.e)((Ie,Pe)=>{let _e,de=null,$e=!1;de=Ie.subscribe((0,z.x)(Pe,void 0,void 0,ge=>{_e=(0,b.Xf)(De(ge,f(De)(Ie))),de?(de.unsubscribe(),de=null,_e.subscribe(Pe)):$e=!0})),$e&&(de.unsubscribe(),de=null,_e.subscribe(Pe))})}},4351:(Wt,He,G)=>{G.d(He,{b:()=>W});var b=G(5577),z=G(576);function W(f,De){return(0,z.m)(De)?(0,b.z)(f,De,1):(0,b.z)(f,1)}},8372:(Wt,He,G)=>{G.d(He,{b:()=>f});var b=G(4986),z=G(4482),W=G(5403);function f(De,Ie=b.z){return(0,z.e)((Pe,de)=>{let $e=null,_e=null,ge=null;const Ne=()=>{if($e){$e.unsubscribe(),$e=null;const st=_e;_e=null,de.next(st)}};function rt(){const st=ge+De,Je=Ie.now();if(Je<st)return $e=this.schedule(void 0,st-Je),void de.add($e);Ne()}Pe.subscribe((0,W.x)(de,st=>{_e=st,ge=Ie.now(),$e||($e=Ie.schedule(rt,De),de.add($e))},()=>{Ne(),de.complete()},void 0,()=>{_e=$e=null}))})}},6590:(Wt,He,G)=>{G.d(He,{d:()=>W});var b=G(4482),z=G(5403);function W(f){return(0,b.e)((De,Ie)=>{let Pe=!1;De.subscribe((0,z.x)(Ie,de=>{Pe=!0,Ie.next(de)},()=>{Pe||Ie.next(f),Ie.complete()}))})}},1884:(Wt,He,G)=>{G.d(He,{x:()=>f});var b=G(4671),z=G(4482),W=G(5403);function f(Ie,Pe=b.y){return Ie=Ie??De,(0,z.e)((de,$e)=>{let _e,ge=!0;de.subscribe((0,W.x)($e,Ne=>{const rt=Pe(Ne);(ge||!Ie(_e,rt))&&(ge=!1,_e=rt,$e.next(Ne))}))})}function De(Ie,Pe){return Ie===Pe}},9300:(Wt,He,G)=>{G.d(He,{h:()=>W});var b=G(4482),z=G(5403);function W(f,De){return(0,b.e)((Ie,Pe)=>{let de=0;Ie.subscribe((0,z.x)(Pe,$e=>f.call(De,$e,de++)&&Pe.next($e)))})}},8746:(Wt,He,G)=>{G.d(He,{x:()=>z});var b=G(4482);function z(W){return(0,b.e)((f,De)=>{try{f.subscribe(De)}finally{De.add(W)}})}},590:(Wt,He,G)=>{G.d(He,{P:()=>Pe});var b=G(6805),z=G(9300),W=G(5698),f=G(6590),De=G(8068),Ie=G(4671);function Pe(de,$e){const _e=arguments.length>=2;return ge=>ge.pipe(de?(0,z.h)((Ne,rt)=>de(Ne,rt,ge)):Ie.y,(0,W.q)(1),_e?(0,f.d)($e):(0,De.T)(()=>new b.K))}},4004:(Wt,He,G)=>{G.d(He,{U:()=>W});var b=G(4482),z=G(5403);function W(f,De){return(0,b.e)((Ie,Pe)=>{let de=0;Ie.subscribe((0,z.x)(Pe,$e=>{Pe.next(f.call(De,$e,de++))}))})}},9718:(Wt,He,G)=>{G.d(He,{h:()=>z});var b=G(4004);function z(W){return(0,b.U)(()=>W)}},8189:(Wt,He,G)=>{G.d(He,{J:()=>W});var b=G(5577),z=G(4671);function W(f=1/0){return(0,b.z)(z.y,f)}},5577:(Wt,He,G)=>{G.d(He,{z:()=>de});var b=G(4004),z=G(8421),W=G(4482),f=G(9672),De=G(5403),Pe=G(576);function de($e,_e,ge=1/0){return(0,Pe.m)(_e)?de((Ne,rt)=>(0,b.U)((st,Je)=>_e(Ne,st,rt,Je))((0,z.Xf)($e(Ne,rt))),ge):("number"==typeof _e&&(ge=_e),(0,W.e)((Ne,rt)=>function Ie($e,_e,ge,Ne,rt,st,Je,tt){const qe=[];let Ve=0,me=0,ht=!1;const Me=()=>{ht&&!qe.length&&!Ve&&_e.complete()},Ae=At=>Ve<Ne?Qe(At):qe.push(At),Qe=At=>{st&&_e.next(At),Ve++;let Dt=!1;(0,z.Xf)(ge(At,me++)).subscribe((0,De.x)(_e,Ee=>{rt?.(Ee),st?Ae(Ee):_e.next(Ee)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Ve--;qe.length&&Ve<Ne;){const Ee=qe.shift();Je?(0,f.f)(_e,Je,()=>Qe(Ee)):Qe(Ee)}Me()}catch(Ee){_e.error(Ee)}}))};return $e.subscribe((0,De.x)(_e,Ae,()=>{ht=!0,Me()})),()=>{tt?.()}}(Ne,rt,$e,ge)))}},5363:(Wt,He,G)=>{G.d(He,{Q:()=>f});var b=G(9672),z=G(4482),W=G(5403);function f(De,Ie=0){return(0,z.e)((Pe,de)=>{Pe.subscribe((0,W.x)(de,$e=>(0,b.f)(de,De,()=>de.next($e),Ie),()=>(0,b.f)(de,De,()=>de.complete(),Ie),$e=>(0,b.f)(de,De,()=>de.error($e),Ie)))})}},5026:(Wt,He,G)=>{G.d(He,{R:()=>f});var b=G(4482),z=G(5403);function f(De,Ie){return(0,b.e)(function W(De,Ie,Pe,de,$e){return(_e,ge)=>{let Ne=Pe,rt=Ie,st=0;_e.subscribe((0,z.x)(ge,Je=>{const tt=st++;rt=Ne?De(rt,Je,tt):(Ne=!0,Je),de&&ge.next(rt)},$e&&(()=>{Ne&&ge.next(rt),ge.complete()})))}}(De,Ie,arguments.length>=2,!0))}},3099:(Wt,He,G)=>{G.d(He,{B:()=>De});var b=G(8421),z=G(7579),W=G(930),f=G(4482);function De(Pe={}){const{connector:de=(()=>new z.x),resetOnError:$e=!0,resetOnComplete:_e=!0,resetOnRefCountZero:ge=!0}=Pe;return Ne=>{let rt,st,Je,tt=0,qe=!1,Ve=!1;const me=()=>{st?.unsubscribe(),st=void 0},ht=()=>{me(),rt=Je=void 0,qe=Ve=!1},Me=()=>{const Ae=rt;ht(),Ae?.unsubscribe()};return(0,f.e)((Ae,Qe)=>{tt++,!Ve&&!qe&&me();const At=Je=Je??de();Qe.add(()=>{tt--,0===tt&&!Ve&&!qe&&(st=Ie(Me,ge))}),At.subscribe(Qe),!rt&&tt>0&&(rt=new W.Hp({next:Dt=>At.next(Dt),error:Dt=>{Ve=!0,me(),st=Ie(ht,$e,Dt),At.error(Dt)},complete:()=>{qe=!0,me(),st=Ie(ht,_e),At.complete()}}),(0,b.Xf)(Ae).subscribe(rt))})(Ne)}}function Ie(Pe,de,...$e){if(!0===de)return void Pe();if(!1===de)return;const _e=new W.Hp({next:()=>{_e.unsubscribe(),Pe()}});return(0,b.Xf)(de(...$e)).subscribe(_e)}},5684:(Wt,He,G)=>{G.d(He,{T:()=>z});var b=G(9300);function z(W){return(0,b.h)((f,De)=>W<=De)}},8675:(Wt,He,G)=>{G.d(He,{O:()=>f});var b=G(7272),z=G(3269),W=G(4482);function f(...De){const Ie=(0,z.yG)(De);return(0,W.e)((Pe,de)=>{(Ie?(0,b.z)(De,Pe,Ie):(0,b.z)(De,Pe)).subscribe(de)})}},9468:(Wt,He,G)=>{G.d(He,{R:()=>z});var b=G(4482);function z(W,f=0){return(0,b.e)((De,Ie)=>{Ie.add(W.schedule(()=>De.subscribe(Ie),f))})}},3900:(Wt,He,G)=>{G.d(He,{w:()=>f});var b=G(8421),z=G(4482),W=G(5403);function f(De,Ie){return(0,z.e)((Pe,de)=>{let $e=null,_e=0,ge=!1;const Ne=()=>ge&&!$e&&de.complete();Pe.subscribe((0,W.x)(de,rt=>{$e?.unsubscribe();let st=0;const Je=_e++;(0,b.Xf)(De(rt,Je)).subscribe($e=(0,W.x)(de,tt=>de.next(Ie?Ie(rt,tt,Je,st++):tt),()=>{$e=null,Ne()}))},()=>{ge=!0,Ne()}))})}},5698:(Wt,He,G)=>{G.d(He,{q:()=>f});var b=G(515),z=G(4482),W=G(5403);function f(De){return De<=0?()=>b.E:(0,z.e)((Ie,Pe)=>{let de=0;Ie.subscribe((0,W.x)(Pe,$e=>{++de<=De&&(Pe.next($e),De<=de&&Pe.complete())}))})}},2722:(Wt,He,G)=>{G.d(He,{R:()=>De});var b=G(4482),z=G(5403),W=G(8421),f=G(5032);function De(Ie){return(0,b.e)((Pe,de)=>{(0,W.Xf)(Ie).subscribe((0,z.x)(de,()=>de.complete(),f.Z)),!de.closed&&Pe.subscribe(de)})}},8505:(Wt,He,G)=>{G.d(He,{b:()=>De});var b=G(576),z=G(4482),W=G(5403),f=G(4671);function De(Ie,Pe,de){const $e=(0,b.m)(Ie)||Pe||de?{next:Ie,error:Pe,complete:de}:Ie;return $e?(0,z.e)((_e,ge)=>{var Ne;null===(Ne=$e.subscribe)||void 0===Ne||Ne.call($e);let rt=!0;_e.subscribe((0,W.x)(ge,st=>{var Je;null===(Je=$e.next)||void 0===Je||Je.call($e,st),ge.next(st)},()=>{var st;rt=!1,null===(st=$e.complete)||void 0===st||st.call($e),ge.complete()},st=>{var Je;rt=!1,null===(Je=$e.error)||void 0===Je||Je.call($e,st),ge.error(st)},()=>{var st,Je;rt&&(null===(st=$e.unsubscribe)||void 0===st||st.call($e)),null===(Je=$e.finalize)||void 0===Je||Je.call($e)}))}):f.y}},8068:(Wt,He,G)=>{G.d(He,{T:()=>f});var b=G(6805),z=G(4482),W=G(5403);function f(Ie=De){return(0,z.e)((Pe,de)=>{let $e=!1;Pe.subscribe((0,W.x)(de,_e=>{$e=!0,de.next(_e)},()=>$e?de.complete():de.error(Ie())))})}function De(){return new b.K}},4408:(Wt,He,G)=>{G.d(He,{o:()=>De});var b=G(727);class z extends b.w0{constructor(Pe,de){super()}schedule(Pe,de=0){return this}}const W={setInterval(Ie,Pe,...de){const{delegate:$e}=W;return $e?.setInterval?$e.setInterval(Ie,Pe,...de):setInterval(Ie,Pe,...de)},clearInterval(Ie){const{delegate:Pe}=W;return(Pe?.clearInterval||clearInterval)(Ie)},delegate:void 0};var f=G(8737);class De extends z{constructor(Pe,de){super(Pe,de),this.scheduler=Pe,this.work=de,this.pending=!1}schedule(Pe,de=0){var $e;if(this.closed)return this;this.state=Pe;const _e=this.id,ge=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(ge,_e,de)),this.pending=!0,this.delay=de,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(ge,this.id,de),this}requestAsyncId(Pe,de,$e=0){return W.setInterval(Pe.flush.bind(Pe,this),$e)}recycleAsyncId(Pe,de,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return de;null!=de&&W.clearInterval(de)}execute(Pe,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Pe,de);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,de){let _e,$e=!1;try{this.work(Pe)}catch(ge){$e=!0,_e=ge||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:de}=this,{actions:$e}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f.P)($e,this),null!=Pe&&(this.id=this.recycleAsyncId(de,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Wt,He,G)=>{G.d(He,{v:()=>W});var b=G(6063);class z{constructor(De,Ie=z.now){this.schedulerActionCtor=De,this.now=Ie}schedule(De,Ie=0,Pe){return new this.schedulerActionCtor(this,De).schedule(Pe,Ie)}}z.now=b.l.now;class W extends z{constructor(De,Ie=z.now){super(De,Ie),this.actions=[],this._active=!1}flush(De){const{actions:Ie}=this;if(this._active)return void Ie.push(De);let Pe;this._active=!0;do{if(Pe=De.execute(De.state,De.delay))break}while(De=Ie.shift());if(this._active=!1,Pe){for(;De=Ie.shift();)De.unsubscribe();throw Pe}}}},4986:(Wt,He,G)=>{G.d(He,{P:()=>f,z:()=>W});var b=G(4408);const W=new(G(7565).v)(b.o),f=W},6063:(Wt,He,G)=>{G.d(He,{l:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},3410:(Wt,He,G)=>{G.d(He,{z:()=>b});const b={setTimeout(z,W,...f){const{delegate:De}=b;return De?.setTimeout?De.setTimeout(z,W,...f):setTimeout(z,W,...f)},clearTimeout(z){const{delegate:W}=b;return(W?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(Wt,He,G)=>{G.d(He,{h:()=>z});const z=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Wt,He,G)=>{G.d(He,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Wt,He,G)=>{G.d(He,{K:()=>z});const z=(0,G(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Wt,He,G)=>{G.d(He,{_6:()=>Ie,jO:()=>f,yG:()=>De});var b=G(576),z=G(3532);function W(Pe){return Pe[Pe.length-1]}function f(Pe){return(0,b.m)(W(Pe))?Pe.pop():void 0}function De(Pe){return(0,z.K)(W(Pe))?Pe.pop():void 0}function Ie(Pe,de){return"number"==typeof W(Pe)?Pe.pop():de}},4742:(Wt,He,G)=>{G.d(He,{D:()=>De});const{isArray:b}=Array,{getPrototypeOf:z,prototype:W,keys:f}=Object;function De(Pe){if(1===Pe.length){const de=Pe[0];if(b(de))return{args:de,keys:null};if(function Ie(Pe){return Pe&&"object"==typeof Pe&&z(Pe)===W}(de)){const $e=f(de);return{args:$e.map(_e=>de[_e]),keys:$e}}}return{args:Pe,keys:null}}},8737:(Wt,He,G)=>{function b(z,W){if(z){const f=z.indexOf(W);0<=f&&z.splice(f,1)}}G.d(He,{P:()=>b})},3888:(Wt,He,G)=>{function b(z){const f=z(De=>{Error.call(De),De.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}G.d(He,{d:()=>b})},1810:(Wt,He,G)=>{function b(z,W){return z.reduce((f,De,Ie)=>(f[De]=W[Ie],f),{})}G.d(He,{n:()=>b})},2806:(Wt,He,G)=>{G.d(He,{O:()=>f,x:()=>W});var b=G(2416);let z=null;function W(De){if(b.v.useDeprecatedSynchronousErrorHandling){const Ie=!z;if(Ie&&(z={errorThrown:!1,error:null}),De(),Ie){const{errorThrown:Pe,error:de}=z;if(z=null,Pe)throw de}}else De()}function f(De){b.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=De)}},9672:(Wt,He,G)=>{function b(z,W,f,De=0,Ie=!1){const Pe=W.schedule(function(){f(),Ie?z.add(this.schedule(null,De)):this.unsubscribe()},De);if(z.add(Pe),!Ie)return Pe}G.d(He,{f:()=>b})},4671:(Wt,He,G)=>{function b(z){return z}G.d(He,{y:()=>b})},1144:(Wt,He,G)=>{G.d(He,{z:()=>b});const b=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Wt,He,G)=>{G.d(He,{D:()=>z});var b=G(576);function z(W){return Symbol.asyncIterator&&(0,b.m)(W?.[Symbol.asyncIterator])}},576:(Wt,He,G)=>{function b(z){return"function"==typeof z}G.d(He,{m:()=>b})},3670:(Wt,He,G)=>{G.d(He,{c:()=>W});var b=G(8822),z=G(576);function W(f){return(0,z.m)(f[b.L])}},6495:(Wt,He,G)=>{G.d(He,{T:()=>W});var b=G(2202),z=G(576);function W(f){return(0,z.m)(f?.[b.h])}},8239:(Wt,He,G)=>{G.d(He,{t:()=>z});var b=G(576);function z(W){return(0,b.m)(W?.then)}},3260:(Wt,He,G)=>{G.d(He,{L:()=>f,Q:()=>W});var b=G(7582),z=G(576);function W(De){return(0,b.FC)(this,arguments,function*(){const Pe=De.getReader();try{for(;;){const{value:de,done:$e}=yield(0,b.qq)(Pe.read());if($e)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(de)}}finally{Pe.releaseLock()}})}function f(De){return(0,z.m)(De?.getReader)}},3532:(Wt,He,G)=>{G.d(He,{K:()=>z});var b=G(576);function z(W){return W&&(0,b.m)(W.schedule)}},4482:(Wt,He,G)=>{G.d(He,{A:()=>z,e:()=>W});var b=G(576);function z(f){return(0,b.m)(f?.lift)}function W(f){return De=>{if(z(De))return De.lift(function(Ie){try{return f(Ie,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Wt,He,G)=>{G.d(He,{Z:()=>f});var b=G(4004);const{isArray:z}=Array;function f(De){return(0,b.U)(Ie=>function W(De,Ie){return z(Ie)?De(...Ie):De(Ie)}(De,Ie))}},5032:(Wt,He,G)=>{function b(){}G.d(He,{Z:()=>b})},9635:(Wt,He,G)=>{G.d(He,{U:()=>W,z:()=>z});var b=G(4671);function z(...f){return W(f)}function W(f){return 0===f.length?b.y:1===f.length?f[0]:function(Ie){return f.reduce((Pe,de)=>de(Pe),Ie)}}},7849:(Wt,He,G)=>{G.d(He,{h:()=>W});var b=G(2416),z=G(3410);function W(f){z.z.setTimeout(()=>{const{onUnhandledError:De}=b.v;if(!De)throw f;De(f)})}},4532:(Wt,He,G)=>{function b(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(He,{z:()=>b})},7340:(Wt,He,G)=>{G.d(He,{LC:()=>z,SB:()=>$e,X$:()=>f,ZE:()=>me,ZN:()=>Ve,_j:()=>b,eR:()=>ge,jt:()=>De,k1:()=>ht,l3:()=>W,oB:()=>de,vP:()=>Pe});class b{}class z{}const W="*";function f(Me,Ae){return{type:7,name:Me,definitions:Ae,options:{}}}function De(Me,Ae=null){return{type:4,styles:Ae,timings:Me}}function Pe(Me,Ae=null){return{type:2,steps:Me,options:Ae}}function de(Me){return{type:6,styles:Me,offset:null}}function $e(Me,Ae,Qe){return{type:0,name:Me,styles:Ae,options:Qe}}function ge(Me,Ae,Qe=null){return{type:1,expr:Me,animation:Ae,options:Qe}}function qe(Me){Promise.resolve().then(Me)}class Ve{constructor(Ae=0,Qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ae+Qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}onStart(Ae){this._originalOnStartFns.push(Ae),this._onStartFns.push(Ae)}onDone(Ae){this._originalOnDoneFns.push(Ae),this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ae){this._position=this.totalTime?Ae*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ae){const Qe="start"==Ae?this._onStartFns:this._onDoneFns;Qe.forEach(At=>At()),Qe.length=0}}class me{constructor(Ae){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ae;let Qe=0,At=0,Dt=0;const Ee=this.players.length;0==Ee?qe(()=>this._onFinish()):this.players.forEach(Ht=>{Ht.onDone(()=>{++Qe==Ee&&this._onFinish()}),Ht.onDestroy(()=>{++At==Ee&&this._onDestroy()}),Ht.onStart(()=>{++Dt==Ee&&this._onStart()})}),this.totalTime=this.players.reduce((Ht,Pt)=>Math.max(Ht,Pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ae=>Ae()),this._onDoneFns=[])}init(){this.players.forEach(Ae=>Ae.init())}onStart(Ae){this._onStartFns.push(Ae)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ae=>Ae()),this._onStartFns=[])}onDone(Ae){this._onDoneFns.push(Ae)}onDestroy(Ae){this._onDestroyFns.push(Ae)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ae=>Ae.play())}pause(){this.players.forEach(Ae=>Ae.pause())}restart(){this.players.forEach(Ae=>Ae.restart())}finish(){this._onFinish(),this.players.forEach(Ae=>Ae.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ae=>Ae.destroy()),this._onDestroyFns.forEach(Ae=>Ae()),this._onDestroyFns=[])}reset(){this.players.forEach(Ae=>Ae.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ae){const Qe=Ae*this.totalTime;this.players.forEach(At=>{const Dt=At.totalTime?Math.min(1,Qe/At.totalTime):1;At.setPosition(Dt)})}getPosition(){const Ae=this.players.reduce((Qe,At)=>null===Qe||At.totalTime>Qe.totalTime?At:Qe,null);return null!=Ae?Ae.getPosition():0}beforeDestroy(){this.players.forEach(Ae=>{Ae.beforeDestroy&&Ae.beforeDestroy()})}triggerCallback(Ae){const Qe="start"==Ae?this._onStartFns:this._onDoneFns;Qe.forEach(At=>At()),Qe.length=0}}const ht="!"},6895:(Wt,He,G)=>{G.d(He,{Do:()=>me,EM:()=>Sa,HT:()=>f,JF:()=>Ao,K0:()=>Ie,Mn:()=>ct,Mx:()=>Zs,NF:()=>ks,O5:()=>us,Ov:()=>Tt,PM:()=>Yi,S$:()=>tt,Tn:()=>Mt,UT:()=>ot,V_:()=>$e,Ye:()=>ht,Zx:()=>Ta,ax:()=>Ei,b0:()=>Ve,bD:()=>Ca,ez:()=>ds,mk:()=>Zn,ol:()=>Ze,p6:()=>or,q:()=>W,sg:()=>Ei,tP:()=>ii,w_:()=>De,x:()=>Pt});var b=G(4650);let z=null;function W(){return z}function f(F){z||(z=F)}class De{}const Ie=new b.OlP("DocumentToken");let Pe=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=b.Yz7({token:F,factory:function(){return function de(){return(0,b.LFG)(_e)}()},providedIn:"platform"}),F})();const $e=new b.OlP("Location Initialized");let _e=(()=>{class F extends Pe{constructor(U){super(),this._doc=U,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(U){const te=W().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",U,!1),()=>te.removeEventListener("popstate",U)}onHashChange(U){const te=W().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",U,!1),()=>te.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,te,we){ge()?this._history.pushState(U,te,we):this._location.hash=we}replaceState(U,te,we){ge()?this._history.replaceState(U,te,we):this._location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return F.\u0275fac=function(U){return new(U||F)(b.LFG(Ie))},F.\u0275prov=b.Yz7({token:F,factory:function(){return function Ne(){return new _e((0,b.LFG)(Ie))}()},providedIn:"platform"}),F})();function ge(){return!!window.history.pushState}function rt(F,K){if(0==F.length)return K;if(0==K.length)return F;let U=0;return F.endsWith("/")&&U++,K.startsWith("/")&&U++,2==U?F+K.substring(1):1==U?F+K:F+"/"+K}function st(F){const K=F.match(/#|\?|$/),U=K&&K.index||F.length;return F.slice(0,U-("/"===F[U-1]?1:0))+F.slice(U)}function Je(F){return F&&"?"!==F[0]?"?"+F:F}let tt=(()=>{class F{historyGo(U){throw new Error("Not implemented")}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=b.Yz7({token:F,factory:function(){return(0,b.f3M)(Ve)},providedIn:"root"}),F})();const qe=new b.OlP("appBaseHref");let Ve=(()=>{class F extends tt{constructor(U,te){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=te??this._platformLocation.getBaseHrefFromDOM()??(0,b.f3M)(Ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return rt(this._baseHref,U)}path(U=!1){const te=this._platformLocation.pathname+Je(this._platformLocation.search),we=this._platformLocation.hash;return we&&U?`${te}${we}`:te}pushState(U,te,we,ft){const Et=this.prepareExternalUrl(we+Je(ft));this._platformLocation.pushState(U,te,Et)}replaceState(U,te,we,ft){const Et=this.prepareExternalUrl(we+Je(ft));this._platformLocation.replaceState(U,te,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(b.LFG(Pe),b.LFG(qe,8))},F.\u0275prov=b.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),me=(()=>{class F extends tt{constructor(U,te){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(U){const te=rt(this._baseHref,U);return te.length>0?"#"+te:te}pushState(U,te,we,ft){let Et=this.prepareExternalUrl(we+Je(ft));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.pushState(U,te,Et)}replaceState(U,te,we,ft){let Et=this.prepareExternalUrl(we+Je(ft));0==Et.length&&(Et=this._platformLocation.pathname),this._platformLocation.replaceState(U,te,Et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}}return F.\u0275fac=function(U){return new(U||F)(b.LFG(Pe),b.LFG(qe,8))},F.\u0275prov=b.Yz7({token:F,factory:F.\u0275fac}),F})(),ht=(()=>{class F{constructor(U){this._subject=new b.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const te=this._locationStrategy.getBaseHref();this._basePath=function At(F){if(new RegExp("^(https?:)?//").test(F)){const[,U]=F.split(/\/\/[^\/]+/);return U}return F}(st(Qe(te))),this._locationStrategy.onPopState(we=>{this._subject.emit({url:this.path(!0),pop:!0,state:we.state,type:we.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,te=""){return this.path()==this.normalize(U+Je(te))}normalize(U){return F.stripTrailingSlash(function Ae(F,K){if(!F||!K.startsWith(F))return K;const U=K.substring(F.length);return""===U||["/",";","?","#"].includes(U[0])?U:K}(this._basePath,Qe(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,te="",we=null){this._locationStrategy.pushState(we,"",U,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Je(te)),we)}replaceState(U,te="",we=null){this._locationStrategy.replaceState(we,"",U,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+Je(te)),we)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)})),()=>{const te=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",te){this._urlChangeListeners.forEach(we=>we(U,te))}subscribe(U,te,we){return this._subject.subscribe({next:U,error:te,complete:we})}}return F.normalizeQueryParams=Je,F.joinWithSlash=rt,F.stripTrailingSlash=st,F.\u0275fac=function(U){return new(U||F)(b.LFG(tt))},F.\u0275prov=b.Yz7({token:F,factory:function(){return function Me(){return new ht((0,b.LFG)(tt))}()},providedIn:"root"}),F})();function Qe(F){return F.replace(/\/index.html$/,"")}var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),Pt=(()=>((Pt=Pt||{})[Pt.Format=0]="Format",Pt[Pt.Standalone=1]="Standalone",Pt))(),Mt=(()=>((Mt=Mt||{})[Mt.Narrow=0]="Narrow",Mt[Mt.Abbreviated=1]="Abbreviated",Mt[Mt.Wide=2]="Wide",Mt[Mt.Short=3]="Short",Mt))(),mn=(()=>((mn=mn||{})[mn.Short=0]="Short",mn[mn.Medium=1]="Medium",mn[mn.Long=2]="Long",mn[mn.Full=3]="Full",mn))(),tn=(()=>((tn=tn||{})[tn.Decimal=0]="Decimal",tn[tn.Group=1]="Group",tn[tn.List=2]="List",tn[tn.PercentSign=3]="PercentSign",tn[tn.PlusSign=4]="PlusSign",tn[tn.MinusSign=5]="MinusSign",tn[tn.Exponential=6]="Exponential",tn[tn.SuperscriptingExponent=7]="SuperscriptingExponent",tn[tn.PerMille=8]="PerMille",tn[tn.Infinity=9]="Infinity",tn[tn.NaN=10]="NaN",tn[tn.TimeSeparator=11]="TimeSeparator",tn[tn.CurrencyDecimal=12]="CurrencyDecimal",tn[tn.CurrencyGroup=13]="CurrencyGroup",tn))();function Ze(F,K,U){const te=(0,b.cg1)(F),ft=Ge([te[b.wAp.DayPeriodsFormat],te[b.wAp.DayPeriodsStandalone]],K);return Ge(ft,U)}function ct(F,K,U){const te=(0,b.cg1)(F),ft=Ge([te[b.wAp.DaysFormat],te[b.wAp.DaysStandalone]],K);return Ge(ft,U)}function ot(F,K,U){const te=(0,b.cg1)(F),ft=Ge([te[b.wAp.MonthsFormat],te[b.wAp.MonthsStandalone]],K);return Ge(ft,U)}function zt(F,K){return Ge((0,b.cg1)(F)[b.wAp.DateFormat],K)}function En(F,K){return Ge((0,b.cg1)(F)[b.wAp.TimeFormat],K)}function wt(F,K){return Ge((0,b.cg1)(F)[b.wAp.DateTimeFormat],K)}function qt(F,K){const U=(0,b.cg1)(F),te=U[b.wAp.NumberSymbols][K];if(typeof te>"u"){if(K===tn.CurrencyDecimal)return U[b.wAp.NumberSymbols][tn.Decimal];if(K===tn.CurrencyGroup)return U[b.wAp.NumberSymbols][tn.Group]}return te}function ar(F){if(!F[b.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${F[b.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ge(F,K){for(let U=K;U>-1;U--)if(typeof F[U]<"u")return F[U];throw new Error("Locale data API: locale data undefined")}function Ue(F){const[K,U]=F.split(":");return{hours:+K,minutes:+U}}const Tn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mn={},_n=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var On=(()=>((On=On||{})[On.Short=0]="Short",On[On.ShortGMT=1]="ShortGMT",On[On.Long=2]="Long",On[On.Extended=3]="Extended",On))(),rn=(()=>((rn=rn||{})[rn.FullYear=0]="FullYear",rn[rn.Month=1]="Month",rn[rn.Date=2]="Date",rn[rn.Hours=3]="Hours",rn[rn.Minutes=4]="Minutes",rn[rn.Seconds=5]="Seconds",rn[rn.FractionalSeconds=6]="FractionalSeconds",rn[rn.Day=7]="Day",rn))(),fn=(()=>((fn=fn||{})[fn.DayPeriods=0]="DayPeriods",fn[fn.Days=1]="Days",fn[fn.Months=2]="Months",fn[fn.Eras=3]="Eras",fn))();function or(F,K,U,te){let we=function ee(F){if(fe(F))return F;if("number"==typeof F&&!isNaN(F))return new Date(F);if("string"==typeof F){if(F=F.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(F)){const[we,ft=1,Et=1]=F.split("-").map(Sn=>+Sn);return cn(we,ft-1,Et)}const U=parseFloat(F);if(!isNaN(F-U))return new Date(U);let te;if(te=F.match(Tn))return function Re(F){const K=new Date(0);let U=0,te=0;const we=F[8]?K.setUTCFullYear:K.setFullYear,ft=F[8]?K.setUTCHours:K.setHours;F[9]&&(U=Number(F[9]+F[10]),te=Number(F[9]+F[11])),we.call(K,Number(F[1]),Number(F[2])-1,Number(F[3]));const Et=Number(F[4]||0)-U,Sn=Number(F[5]||0)-te,gi=Number(F[6]||0),Cr=Math.floor(1e3*parseFloat("0."+(F[7]||0)));return ft.call(K,Et,Sn,gi,Cr),K}(te)}const K=new Date(F);if(!fe(K))throw new Error(`Unable to convert "${F}" into a date`);return K}(F);K=hr(U,K)||K;let Sn,Et=[];for(;K;){if(Sn=_n.exec(K),!Sn){Et.push(K);break}{Et=Et.concat(Sn.slice(1));const jr=Et.pop();if(!jr)break;K=jr}}let gi=we.getTimezoneOffset();te&&(gi=ye(te,gi),we=function oe(F,K,U){const te=U?-1:1,we=F.getTimezoneOffset();return function ne(F,K){return(F=new Date(F.getTime())).setMinutes(F.getMinutes()+K),F}(F,te*(ye(K,we)-we))}(we,te,!0));let Cr="";return Et.forEach(jr=>{const $n=function Se(F){if(Tr[F])return Tr[F];let K;switch(F){case"G":case"GG":case"GGG":K=nr(fn.Eras,Mt.Abbreviated);break;case"GGGG":K=nr(fn.Eras,Mt.Wide);break;case"GGGGG":K=nr(fn.Eras,Mt.Narrow);break;case"y":K=kn(rn.FullYear,1,0,!1,!0);break;case"yy":K=kn(rn.FullYear,2,0,!0,!0);break;case"yyy":K=kn(rn.FullYear,3,0,!1,!0);break;case"yyyy":K=kn(rn.FullYear,4,0,!1,!0);break;case"Y":K=Ai(1);break;case"YY":K=Ai(2,!0);break;case"YYY":K=Ai(3);break;case"YYYY":K=Ai(4);break;case"M":case"L":K=kn(rn.Month,1,1);break;case"MM":case"LL":K=kn(rn.Month,2,1);break;case"MMM":K=nr(fn.Months,Mt.Abbreviated);break;case"MMMM":K=nr(fn.Months,Mt.Wide);break;case"MMMMM":K=nr(fn.Months,Mt.Narrow);break;case"LLL":K=nr(fn.Months,Mt.Abbreviated,Pt.Standalone);break;case"LLLL":K=nr(fn.Months,Mt.Wide,Pt.Standalone);break;case"LLLLL":K=nr(fn.Months,Mt.Narrow,Pt.Standalone);break;case"w":K=ci(1);break;case"ww":K=ci(2);break;case"W":K=ci(1,!0);break;case"d":K=kn(rn.Date,1);break;case"dd":K=kn(rn.Date,2);break;case"c":case"cc":K=kn(rn.Day,1);break;case"ccc":K=nr(fn.Days,Mt.Abbreviated,Pt.Standalone);break;case"cccc":K=nr(fn.Days,Mt.Wide,Pt.Standalone);break;case"ccccc":K=nr(fn.Days,Mt.Narrow,Pt.Standalone);break;case"cccccc":K=nr(fn.Days,Mt.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":K=nr(fn.Days,Mt.Abbreviated);break;case"EEEE":K=nr(fn.Days,Mt.Wide);break;case"EEEEE":K=nr(fn.Days,Mt.Narrow);break;case"EEEEEE":K=nr(fn.Days,Mt.Short);break;case"a":case"aa":case"aaa":K=nr(fn.DayPeriods,Mt.Abbreviated);break;case"aaaa":K=nr(fn.DayPeriods,Mt.Wide);break;case"aaaaa":K=nr(fn.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":K=nr(fn.DayPeriods,Mt.Abbreviated,Pt.Standalone,!0);break;case"bbbb":K=nr(fn.DayPeriods,Mt.Wide,Pt.Standalone,!0);break;case"bbbbb":K=nr(fn.DayPeriods,Mt.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":K=nr(fn.DayPeriods,Mt.Abbreviated,Pt.Format,!0);break;case"BBBB":K=nr(fn.DayPeriods,Mt.Wide,Pt.Format,!0);break;case"BBBBB":K=nr(fn.DayPeriods,Mt.Narrow,Pt.Format,!0);break;case"h":K=kn(rn.Hours,1,-12);break;case"hh":K=kn(rn.Hours,2,-12);break;case"H":K=kn(rn.Hours,1);break;case"HH":K=kn(rn.Hours,2);break;case"m":K=kn(rn.Minutes,1);break;case"mm":K=kn(rn.Minutes,2);break;case"s":K=kn(rn.Seconds,1);break;case"ss":K=kn(rn.Seconds,2);break;case"S":K=kn(rn.FractionalSeconds,1);break;case"SS":K=kn(rn.FractionalSeconds,2);break;case"SSS":K=kn(rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=Bn(On.Short);break;case"ZZZZZ":K=Bn(On.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=Bn(On.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=Bn(On.Long);break;default:return null}return Tr[F]=K,K}(jr);Cr+=$n?$n(we,U,gi):"''"===jr?"'":jr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Cr}function cn(F,K,U){const te=new Date(0);return te.setFullYear(F,K,U),te.setHours(0,0,0),te}function hr(F,K){const U=function gt(F){return(0,b.cg1)(F)[b.wAp.LocaleId]}(F);if(Mn[U]=Mn[U]||{},Mn[U][K])return Mn[U][K];let te="";switch(K){case"shortDate":te=zt(F,mn.Short);break;case"mediumDate":te=zt(F,mn.Medium);break;case"longDate":te=zt(F,mn.Long);break;case"fullDate":te=zt(F,mn.Full);break;case"shortTime":te=En(F,mn.Short);break;case"mediumTime":te=En(F,mn.Medium);break;case"longTime":te=En(F,mn.Long);break;case"fullTime":te=En(F,mn.Full);break;case"short":const we=hr(F,"shortTime"),ft=hr(F,"shortDate");te=lr(wt(F,mn.Short),[we,ft]);break;case"medium":const Et=hr(F,"mediumTime"),Sn=hr(F,"mediumDate");te=lr(wt(F,mn.Medium),[Et,Sn]);break;case"long":const gi=hr(F,"longTime"),Cr=hr(F,"longDate");te=lr(wt(F,mn.Long),[gi,Cr]);break;case"full":const jr=hr(F,"fullTime"),$n=hr(F,"fullDate");te=lr(wt(F,mn.Full),[jr,$n])}return te&&(Mn[U][K]=te),te}function lr(F,K){return K&&(F=F.replace(/\{([^}]+)}/g,function(U,te){return null!=K&&te in K?K[te]:U})),F}function Hn(F,K,U="-",te,we){let ft="";(F<0||we&&F<=0)&&(we?F=1-F:(F=-F,ft=U));let Et=String(F);for(;Et.length<K;)Et="0"+Et;return te&&(Et=Et.slice(Et.length-K)),ft+Et}function kn(F,K,U=0,te=!1,we=!1){return function(ft,Et){let Sn=function Si(F,K){switch(F){case rn.FullYear:return K.getFullYear();case rn.Month:return K.getMonth();case rn.Date:return K.getDate();case rn.Hours:return K.getHours();case rn.Minutes:return K.getMinutes();case rn.Seconds:return K.getSeconds();case rn.FractionalSeconds:return K.getMilliseconds();case rn.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${F}".`)}}(F,ft);if((U>0||Sn>-U)&&(Sn+=U),F===rn.Hours)0===Sn&&-12===U&&(Sn=12);else if(F===rn.FractionalSeconds)return function ri(F,K){return Hn(F,3).substring(0,K)}(Sn,K);const gi=qt(Et,tn.MinusSign);return Hn(Sn,K,gi,te,we)}}function nr(F,K,U=Pt.Format,te=!1){return function(we,ft){return function li(F,K,U,te,we,ft){switch(U){case fn.Months:return ot(K,we,te)[F.getMonth()];case fn.Days:return ct(K,we,te)[F.getDay()];case fn.DayPeriods:const Et=F.getHours(),Sn=F.getMinutes();if(ft){const Cr=function ni(F){const K=(0,b.cg1)(F);return ar(K),(K[b.wAp.ExtraData][2]||[]).map(te=>"string"==typeof te?Ue(te):[Ue(te[0]),Ue(te[1])])}(K),jr=function Ye(F,K,U){const te=(0,b.cg1)(F);ar(te);const ft=Ge([te[b.wAp.ExtraData][0],te[b.wAp.ExtraData][1]],K)||[];return Ge(ft,U)||[]}(K,we,te),$n=Cr.findIndex(fi=>{if(Array.isArray(fi)){const[Wr,Qi]=fi,Kr=Et>=Wr.hours&&Sn>=Wr.minutes,xr=Et<Qi.hours||Et===Qi.hours&&Sn<Qi.minutes;if(Wr.hours<Qi.hours){if(Kr&&xr)return!0}else if(Kr||xr)return!0}else if(fi.hours===Et&&fi.minutes===Sn)return!0;return!1});if(-1!==$n)return jr[$n]}return Ze(K,we,te)[Et<12?0:1];case fn.Eras:return function It(F,K){return Ge((0,b.cg1)(F)[b.wAp.Eras],K)}(K,te)[F.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(we,ft,F,K,U,te)}}function Bn(F){return function(K,U,te){const we=-1*te,ft=qt(U,tn.MinusSign),Et=we>0?Math.floor(we/60):Math.ceil(we/60);switch(F){case On.Short:return(we>=0?"+":"")+Hn(Et,2,ft)+Hn(Math.abs(we%60),2,ft);case On.ShortGMT:return"GMT"+(we>=0?"+":"")+Hn(Et,1,ft);case On.Long:return"GMT"+(we>=0?"+":"")+Hn(Et,2,ft)+":"+Hn(Math.abs(we%60),2,ft);case On.Extended:return 0===te?"Z":(we>=0?"+":"")+Hn(Et,2,ft)+":"+Hn(Math.abs(we%60),2,ft);default:throw new Error(`Unknown zone width "${F}"`)}}}const Br=0,Sr=4;function yr(F){return cn(F.getFullYear(),F.getMonth(),F.getDate()+(Sr-F.getDay()))}function ci(F,K=!1){return function(U,te){let we;if(K){const ft=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,Et=U.getDate();we=1+Math.floor((Et+ft)/7)}else{const ft=yr(U),Et=function ui(F){const K=cn(F,Br,1).getDay();return cn(F,0,1+(K<=Sr?Sr:Sr+7)-K)}(ft.getFullYear()),Sn=ft.getTime()-Et.getTime();we=1+Math.round(Sn/6048e5)}return Hn(we,F,qt(te,tn.MinusSign))}}function Ai(F,K=!1){return function(U,te){return Hn(yr(U).getFullYear(),F,qt(te,tn.MinusSign),K)}}const Tr={};function ye(F,K){F=F.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+F)/6e4;return isNaN(U)?K:U}function fe(F){return F instanceof Date&&!isNaN(F.valueOf())}const ve=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ce=22,Te=".",Xe="0",Ct=";",on=",",an="#";function rr(F){const K=parseInt(F);if(isNaN(K))throw new Error("Invalid integer literal when parsing "+F);return K}function Zs(F,K){K=encodeURIComponent(K);for(const U of F.split(";")){const te=U.indexOf("="),[we,ft]=-1==te?[U,""]:[U.slice(0,te),U.slice(te+1)];if(we.trim()===K)return decodeURIComponent(ft)}return null}const Nr=/\s+/,Jt=[];let Zn=(()=>{class F{constructor(U,te,we,ft){this._iterableDiffers=U,this._keyValueDiffers=te,this._ngEl=we,this._renderer=ft,this.initialClasses=Jt,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Nr):Jt}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Nr):U}ngDoCheck(){for(const te of this.initialClasses)this._updateState(te,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const te of U)this._updateState(te,!0);else if(null!=U)for(const te of Object.keys(U))this._updateState(te,Boolean(U[te]));this._applyStateDiff()}_updateState(U,te){const we=this.stateMap.get(U);void 0!==we?(we.enabled!==te&&(we.changed=!0,we.enabled=te),we.touched=!0):this.stateMap.set(U,{enabled:te,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const te=U[0],we=U[1];we.changed?(this._toggleClass(te,we.enabled),we.changed=!1):we.touched||(we.enabled&&this._toggleClass(te,!1),this.stateMap.delete(te)),we.touched=!1}}_toggleClass(U,te){(U=U.trim()).length>0&&U.split(Nr).forEach(we=>{te?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.ZZ4),b.Y36(b.aQg),b.Y36(b.SBq),b.Y36(b.Qsj))},F.\u0275dir=b.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),F})();class di{constructor(K,U,te,we){this.$implicit=K,this.ngForOf=U,this.index=te,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ei=(()=>{class F{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,te,we){this._viewContainer=U,this._template=te,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const te=this._viewContainer;U.forEachOperation((we,ft,Et)=>{if(null==we.previousIndex)te.createEmbeddedView(this._template,new di(we.item,this._ngForOf,-1,-1),null===Et?void 0:Et);else if(null==Et)te.remove(null===ft?void 0:ft);else if(null!==ft){const Sn=te.get(ft);te.move(Sn,Et),ur(Sn,we)}});for(let we=0,ft=te.length;we<ft;we++){const Sn=te.get(we).context;Sn.index=we,Sn.count=ft,Sn.ngForOf=this._ngForOf}U.forEachIdentityChange(we=>{ur(te.get(we.currentIndex),we)})}static ngTemplateContextGuard(U,te){return!0}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.s_b),b.Y36(b.Rgc),b.Y36(b.ZZ4))},F.\u0275dir=b.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),F})();function ur(F,K){F.context.$implicit=K.item}let us=(()=>{class F{constructor(U,te){this._viewContainer=U,this._context=new Un,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){cs("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){cs("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,te){return!0}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.s_b),b.Y36(b.Rgc))},F.\u0275dir=b.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),F})();class Un{constructor(){this.$implicit=null,this.ngIf=null}}function cs(F,K){if(K&&!K.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,b.AaK)(K)}'.`)}let ii=(()=>{class F{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const te=this._viewContainerRef;if(this._viewRef&&te.remove(te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:we,ngTemplateOutletContext:ft,ngTemplateOutletInjector:Et}=this;this._viewRef=te.createEmbeddedView(we,ft,Et?{injector:Et}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.s_b))},F.\u0275dir=b.lG2({type:F,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.TTD]}),F})();function Ss(F,K){return new b.vHH(2100,!1)}class Js{createSubscription(K,U){return K.subscribe({next:U,error:te=>{throw te}})}dispose(K){K.unsubscribe()}}class je{createSubscription(K,U){return K.then(U,te=>{throw te})}dispose(K){}}const Fe=new je,nt=new Js;let Tt=(()=>{class F{constructor(U){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=U}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(U){return this._obj?U!==this._obj?(this._dispose(),this.transform(U)):this._latestValue:(U&&this._subscribe(U),this._latestValue)}_subscribe(U){this._obj=U,this._strategy=this._selectStrategy(U),this._subscription=this._strategy.createSubscription(U,te=>this._updateLatestValue(U,te))}_selectStrategy(U){if((0,b.QGY)(U))return Fe;if((0,b.F4k)(U))return nt;throw Ss()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(U,te){U===this._obj&&(this._latestValue=te,this._ref.markForCheck())}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.sBO,16))},F.\u0275pipe=b.Yjl({name:"async",type:F,pure:!1,standalone:!0}),F})(),Ta=(()=>{class F{constructor(U){this._locale=U}transform(U,te,we){if(!function Ia(F){return!(null==F||""===F||F!=F)}(U))return null;we=we||this._locale;try{return function Vt(F,K,U){return function ut(F,K,U,te,we,ft,Et=!1){let Sn="",gi=!1;if(isFinite(F)){let Cr=function wn(F){let te,we,ft,Et,Sn,K=Math.abs(F)+"",U=0;for((we=K.indexOf(Te))>-1&&(K=K.replace(Te,"")),(ft=K.search(/e/i))>0?(we<0&&(we=ft),we+=+K.slice(ft+1),K=K.substring(0,ft)):we<0&&(we=K.length),ft=0;K.charAt(ft)===Xe;ft++);if(ft===(Sn=K.length))te=[0],we=1;else{for(Sn--;K.charAt(Sn)===Xe;)Sn--;for(we-=ft,te=[],Et=0;ft<=Sn;ft++,Et++)te[Et]=Number(K.charAt(ft))}return we>ce&&(te=te.splice(0,ce-1),U=we-1,we=1),{digits:te,exponent:U,integerLen:we}}(F);Et&&(Cr=function jn(F){if(0===F.digits[0])return F;const K=F.digits.length-F.integerLen;return F.exponent?F.exponent+=2:(0===K?F.digits.push(0,0):1===K&&F.digits.push(0),F.integerLen+=2),F}(Cr));let jr=K.minInt,$n=K.minFrac,fi=K.maxFrac;if(ft){const Ds=ft.match(ve);if(null===Ds)throw new Error(`${ft} is not a valid digit info`);const Ls=Ds[1],io=Ds[3],Ko=Ds[5];null!=Ls&&(jr=rr(Ls)),null!=io&&($n=rr(io)),null!=Ko?fi=rr(Ko):null!=io&&$n>fi&&(fi=$n)}!function vr(F,K,U){if(K>U)throw new Error(`The minimum number of digits after fraction (${K}) is higher than the maximum (${U}).`);let te=F.digits,we=te.length-F.integerLen;const ft=Math.min(Math.max(K,we),U);let Et=ft+F.integerLen,Sn=te[Et];if(Et>0){te.splice(Math.max(F.integerLen,Et));for(let $n=Et;$n<te.length;$n++)te[$n]=0}else{we=Math.max(0,we),F.integerLen=1,te.length=Math.max(1,Et=ft+1),te[0]=0;for(let $n=1;$n<Et;$n++)te[$n]=0}if(Sn>=5)if(Et-1<0){for(let $n=0;$n>Et;$n--)te.unshift(0),F.integerLen++;te.unshift(1),F.integerLen++}else te[Et-1]++;for(;we<Math.max(0,ft);we++)te.push(0);let gi=0!==ft;const Cr=K+F.integerLen,jr=te.reduceRight(function($n,fi,Wr,Qi){return Qi[Wr]=(fi+=$n)<10?fi:fi-10,gi&&(0===Qi[Wr]&&Wr>=Cr?Qi.pop():gi=!1),fi>=10?1:0},0);jr&&(te.unshift(jr),F.integerLen++)}(Cr,$n,fi);let Wr=Cr.digits,Qi=Cr.integerLen;const Kr=Cr.exponent;let xr=[];for(gi=Wr.every(Ds=>!Ds);Qi<jr;Qi++)Wr.unshift(0);for(;Qi<0;Qi++)Wr.unshift(0);Qi>0?xr=Wr.splice(Qi,Wr.length):(xr=Wr,Wr=[0]);const As=[];for(Wr.length>=K.lgSize&&As.unshift(Wr.splice(-K.lgSize,Wr.length).join(""));Wr.length>K.gSize;)As.unshift(Wr.splice(-K.gSize,Wr.length).join(""));Wr.length&&As.unshift(Wr.join("")),Sn=As.join(qt(U,te)),xr.length&&(Sn+=qt(U,we)+xr.join("")),Kr&&(Sn+=qt(U,tn.Exponential)+"+"+Kr)}else Sn=qt(U,tn.Infinity);return Sn=F<0&&!gi?K.negPre+Sn+K.negSuf:K.posPre+Sn+K.posSuf,Sn}(F,function bn(F,K="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},te=F.split(Ct),we=te[0],ft=te[1],Et=-1!==we.indexOf(Te)?we.split(Te):[we.substring(0,we.lastIndexOf(Xe)+1),we.substring(we.lastIndexOf(Xe)+1)],Sn=Et[0],gi=Et[1]||"";U.posPre=Sn.substring(0,Sn.indexOf(an));for(let jr=0;jr<gi.length;jr++){const $n=gi.charAt(jr);$n===Xe?U.minFrac=U.maxFrac=jr+1:$n===an?U.maxFrac=jr+1:U.posSuf+=$n}const Cr=Sn.split(on);if(U.gSize=Cr[1]?Cr[1].length:0,U.lgSize=Cr[2]||Cr[1]?(Cr[2]||Cr[1]).length:0,ft){const jr=we.length-U.posPre.length-U.posSuf.length,$n=ft.indexOf(an);U.negPre=ft.substring(0,$n).replace(/'/g,""),U.negSuf=ft.slice($n+jr).replace(/'/g,"")}else U.negPre=K+U.posPre,U.negSuf=U.posSuf;return U}(function hn(F,K){return(0,b.cg1)(F)[b.wAp.NumberFormats][K]}(K,Ee.Percent),qt(K,tn.MinusSign)),K,tn.Group,tn.Decimal,U,!0).replace(new RegExp("%","g"),qt(K,tn.PercentSign))}(function ra(F){if("string"==typeof F&&!isNaN(Number(F)-parseFloat(F)))return Number(F);if("number"!=typeof F)throw new Error(`${F} is not a number`);return F}(U),we,te)}catch(ft){throw Ss()}}}return F.\u0275fac=function(U){return new(U||F)(b.Y36(b.soG,16))},F.\u0275pipe=b.Yjl({name:"percent",type:F,pure:!0,standalone:!0}),F})();let ds=(()=>{class F{}return F.\u0275fac=function(U){return new(U||F)},F.\u0275mod=b.oAB({type:F}),F.\u0275inj=b.cJS({}),F})();const Ca="browser",Gs="server";function ks(F){return F===Ca}function Yi(F){return F===Gs}let Sa=(()=>{class F{}return F.\u0275prov=(0,b.Yz7)({token:F,providedIn:"root",factory:()=>new Ga((0,b.LFG)(Ie),window)}),F})();class Ga{constructor(K,U){this.document=K,this.window=U,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const U=function So(F,K){const U=F.getElementById(K)||F.getElementsByName(K)[0];if(U)return U;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const te=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let we=te.currentNode;for(;we;){const ft=we.shadowRoot;if(ft){const Et=ft.getElementById(K)||ft.querySelector(`[name="${K}"]`);if(Et)return Et}we=te.nextNode()}}return null}(this.document,K);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=K)}}scrollToElement(K){const U=K.getBoundingClientRect(),te=U.left+this.window.pageXOffset,we=U.top+this.window.pageYOffset,ft=this.offset();this.window.scrollTo(te-ft[0],we-ft[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=yo(this.window.history)||yo(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yo(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class Ao{}},4650:(Wt,He,G)=>{G.d(He,{$8M:()=>dr,$WT:()=>_i,$Z:()=>jp,AFp:()=>jb,ALo:()=>s,AaK:()=>de,BQk:()=>Vl,CHM:()=>Wn,CRH:()=>vb,CZH:()=>bv,CqO:()=>Mu,D6c:()=>OD,EJc:()=>Kw,EiD:()=>vp,EpF:()=>fa,F$t:()=>nc,F4k:()=>cd,FYo:()=>Df,FiY:()=>Ol,Gf:()=>_b,GfV:()=>qg,Gpc:()=>ge,Hsn:()=>Zh,Ikx:()=>j_,JOm:()=>Po,JVY:()=>Sg,JZr:()=>tt,Jf7:()=>Tc,KtG:()=>cr,L6k:()=>Jm,LAX:()=>ff,LFG:()=>Bn,LMc:()=>xD,LSH:()=>bh,Lbi:()=>$w,Lck:()=>lv,MAs:()=>Ln,MGl:()=>dd,MMx:()=>Dg,MT6:()=>Ry,NdJ:()=>og,OlP:()=>Gt,Oqu:()=>L_,P3R:()=>Pg,PXZ:()=>lD,Q6J:()=>sr,QGY:()=>pa,QbO:()=>Hw,Qsj:()=>Np,QtT:()=>J_,R0b:()=>Rc,RDi:()=>Cg,Rgc:()=>Lr,SBq:()=>zu,SDv:()=>ov,Sil:()=>Zw,Suo:()=>yb,TTD:()=>Ya,TgZ:()=>ha,Tol:()=>x_,Udp:()=>O_,VKq:()=>oy,W1O:()=>Eb,WLB:()=>ay,X6Q:()=>fD,XFs:()=>Ue,Xpm:()=>an,Xts:()=>kg,Y36:()=>Sc,YKP:()=>ry,YNc:()=>Dl,Yjl:()=>jn,Yz7:()=>qt,Z0I:()=>Yr,ZZ4:()=>Y0,_Bn:()=>su,_UZ:()=>qa,_Vd:()=>Jl,_c5:()=>ND,_uU:()=>Im,aQg:()=>Q0,c2e:()=>zw,cJS:()=>Jn,cg1:()=>Nm,dDg:()=>iD,dqk:()=>_n,eBb:()=>Ws,eFA:()=>tw,eJc:()=>P0,ekj:()=>R_,eoX:()=>Qb,f3M:()=>Sr,g9A:()=>Hb,h0i:()=>ga,hGG:()=>MD,hij:()=>Cm,iGM:()=>mb,ifc:()=>oe,ip1:()=>Gb,jDz:()=>lh,kEZ:()=>pv,kL8:()=>qf,lG2:()=>bn,lcZ:()=>y,lqb:()=>Hu,lri:()=>Zb,mCW:()=>vc,n5z:()=>uu,oAB:()=>it,oxw:()=>lg,pB0:()=>pf,pQV:()=>Um,q3G:()=>Bs,q4F:()=>Mp,qLn:()=>Eh,qOj:()=>Hh,qZA:()=>Ks,qzn:()=>yc,rWj:()=>Yb,s9C:()=>jf,sBO:()=>pD,s_b:()=>ps,soG:()=>wv,tb:()=>Xb,tp0:()=>$r,uIk:()=>xe,vHH:()=>qe,vpe:()=>Zt,wAp:()=>pr,xp6:()=>Xl,ynx:()=>ho,z2F:()=>Dv,z3N:()=>Ql,zSh:()=>Bg,zW0:()=>ud,zs3:()=>bl});var b=G(7579),z=G(727),W=G(9751),f=G(6451),De=G(3099);function Ie(n){for(let i in n)if(n[i]===Ie)return i;throw Error("Could not find renamed property on target object.")}function Pe(n,i){for(const a in i)i.hasOwnProperty(a)&&!n.hasOwnProperty(a)&&(n[a]=i[a])}function de(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(de).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const a=i.indexOf("\n");return-1===a?i:i.substring(0,a)}function $e(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const _e=Ie({__forward_ref__:Ie});function ge(n){return n.__forward_ref__=ge,n.toString=function(){return de(this())},n}function Ne(n){return rt(n)?n():n}function rt(n){return"function"==typeof n&&n.hasOwnProperty(_e)&&n.__forward_ref__===ge}function st(n){return n&&!!n.\u0275providers}const tt="https://g.co/ng/security#xss";class qe extends Error{constructor(i,a){super(Ve(i,a)),this.code=i}}function Ve(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function me(n){return"string"==typeof n?n:null==n?"":String(n)}function At(n,i){throw new qe(-201,!1)}function bt(n,i,a,h){throw new Error(`ASSERTION ERROR: ${n}`+(null==h?"":` [Expected=> ${a} ${h} ${i} <=Actual]`))}function qt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Jn(n){return{providers:n.providers||[],imports:n.imports||[]}}function gr(n){return Xn(n,ni)||Xn(n,ke)}function Yr(n){return null!==gr(n)}function Xn(n,i){return n.hasOwnProperty(i)?n[i]:null}function ar(n){return n&&(n.hasOwnProperty(Ye)||n.hasOwnProperty(Ge))?n[Ye]:null}const ni=Ie({\u0275prov:Ie}),Ye=Ie({\u0275inj:Ie}),ke=Ie({ngInjectableDef:Ie}),Ge=Ie({ngInjectorDef:Ie});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let Ot;function Pn(n){const i=Ot;return Ot=n,i}function Tn(n,i,a){const h=gr(n);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:a&Ue.Optional?null:void 0!==i?i:void At(de(n))}const _n=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),or={},cn="__NG_DI_FLAG__",hr="ngTempTokenPath",lr="ngTokenPath",Hn=/\n/gm,ri="\u0275",kn="__source";let Si;function nr(n){const i=Si;return Si=n,i}function li(n,i=Ue.Default){if(void 0===Si)throw new qe(-203,!1);return null===Si?Tn(n,void 0,i):Si.get(n,i&Ue.Optional?null:void 0,i)}function Bn(n,i=Ue.Default){return(function Qt(){return Ot}()||li)(Ne(n),i)}function Sr(n,i=Ue.Default){return Bn(n,ui(i))}function ui(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function yr(n){const i=[];for(let a=0;a<n.length;a++){const h=Ne(n[a]);if(Array.isArray(h)){if(0===h.length)throw new qe(900,!1);let p,_=Ue.Default;for(let C=0;C<h.length;C++){const P=h[C],B=Ai(P);"number"==typeof B?-1===B?p=P.token:_|=B:p=P}i.push(Bn(p,_))}else i.push(Bn(h))}return i}function ci(n,i){return n[cn]=i,n.prototype[cn]=i,n}function Ai(n){return n[cn]}function ye(n){return{toString:n}.toString()}var ne=(()=>((ne=ne||{})[ne.OnPush=0]="OnPush",ne[ne.Default=1]="Default",ne))(),oe=(()=>{return(n=oe||(oe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",oe;var n})();const ee={},Re=[],fe=Ie({\u0275cmp:Ie}),ve=Ie({\u0275dir:Ie}),ce=Ie({\u0275pipe:Ie}),Te=Ie({\u0275mod:Ie}),Xe=Ie({\u0275fac:Ie}),Ct=Ie({__NG_ELEMENT_ID__:Ie});let on=0;function an(n){return ye(()=>{const i=Co(n),a={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ne.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||oe.Emulated,id:"c"+on++,styles:n.styles||Re,_:null,schemas:n.schemas||null,tView:null};ta(a);const h=n.dependencies;return a.directiveDefs=Zs(h,!1),a.pipeDefs=Zs(h,!0),a})}function Dr(n){return wn(n)||vr(n)}function ut(n){return null!==n}function it(n){return ye(()=>({type:n.type,bootstrap:n.bootstrap||Re,declarations:n.declarations||Re,imports:n.imports||Re,exports:n.exports||Re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pn(n,i){if(null==n)return ee;const a={};for(const h in n)if(n.hasOwnProperty(h)){let p=n[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),a[p]=h,i&&(i[p]=_)}return a}function bn(n){return ye(()=>{const i=Co(n);return ta(i),i})}function jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function wn(n){return n[fe]||null}function vr(n){return n[ve]||null}function rr(n){return n[ce]||null}function _i(n){const i=wn(n)||vr(n)||rr(n);return null!==i&&i.standalone}function Ri(n,i){const a=n[Te]||null;if(!a&&!0===i)throw new Error(`Type ${de(n)} does not have '\u0275mod' property.`);return a}function Co(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Re,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pn(n.inputs,i),outputs:pn(n.outputs)}}function ta(n){n.features?.forEach(i=>i(n))}function Zs(n,i){if(!n)return null;const a=i?rr:Dr;return()=>("function"==typeof n?n():n).map(h=>a(h)).filter(ut)}const Nr=0,Jt=1,Zn=2,yi=3,Er=4,Ji=5,di=6,Ei=7,ur=8,Gi=9,us=10,Un=11,cs=12,Cs=13,Ys=14,ji=15,Rr=16,po=17,xs=18,Xi=19,Qs=20,ii=21,Qr=22,Js=1,je=2,Fe=7,nt=8,Tt=9,kt=10;function qn(n){return Array.isArray(n)&&"object"==typeof n[Js]}function ir(n){return Array.isArray(n)&&!0===n[Js]}function Yn(n){return 0!=(4&n.flags)}function es(n){return n.componentOffset>-1}function Xs(n){return 1==(1&n.flags)}function Jr(n){return!!n.template}function go(n){return 0!=(256&n[Zn])}function _s(n,i){return n.hasOwnProperty(Xe)?n[Xe]:null}class _o{constructor(i,a,h){this.previousValue=i,this.currentValue=a,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ya(){return Sa}function Sa(n){return n.type.prototype.ngOnChanges&&(n.setInput=yo),Ga}function Ga(){const n=vo(this),i=n?.current;if(i){const a=n.previous;if(a===ee)n.previous=i;else for(let h in i)a[h]=i[h];n.current=null,this.ngOnChanges(i)}}function yo(n,i,a,h){const p=this.declaredInputs[a],_=vo(n)||function Ao(n,i){return n[So]=i}(n,{previous:ee,current:null}),C=_.current||(_.current={}),P=_.previous,B=P[p];C[p]=new _o(B&&B.currentValue,i,P===ee),n[h]=i}Ya.ngInherit=!0;const So="__ngSimpleChanges__";function vo(n){return n[So]||null}const vi=function(n,i,a){};function Fi(n){for(;Array.isArray(n);)n=n[Nr];return n}function jo(n,i){return Fi(i[n])}function Li(n,i){return Fi(i[n.index])}function $o(n,i){return n.data[i]}function Hi(n,i){return n[i]}function Ii(n,i){const a=i[n];return qn(a)?a:a[Nr]}function bo(n){return 64==(64&n[Zn])}function js(n,i){return null==i?null:n[i]}function ya(n){n[xs]=0}function zo(n,i){n[Ji]+=i;let a=n,h=n[yi];for(;null!==h&&(1===i&&1===a[Ji]||-1===i&&0===a[Ji]);)h[Ji]+=i,a=h,h=h[yi]}const Gn={lFrame:Oo(null),bindingsEnabled:!0};function le(){return Gn.bindingsEnabled}function Be(){return Gn.lFrame.lView}function Ft(){return Gn.lFrame.tView}function Wn(n){return Gn.lFrame.contextLView=n,n[ur]}function cr(n){return Gn.lFrame.contextLView=null,n}function mr(){let n=Ni();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ni(){return Gn.lFrame.currentTNode}function si(){const n=Gn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function zr(n,i){const a=Gn.lFrame;a.currentTNode=n,a.isParent=i}function xi(){return Gn.lFrame.isParent}function zi(){Gn.lFrame.isParent=!1}function Ir(){const n=Gn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function ts(){return Gn.lFrame.bindingIndex}function Fs(){return Gn.lFrame.bindingIndex++}function ws(n){const i=Gn.lFrame,a=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,a}function va(n){Gn.lFrame.inI18n=n}function Gl(n,i){const a=Gn.lFrame;a.bindingIndex=a.bindingRootIndex=n,ns(i)}function ns(n){Gn.lFrame.currentDirectiveIndex=n}function Na(){return Gn.lFrame.currentQueryIndex}function al(n){Gn.lFrame.currentQueryIndex=n}function Ma(n){const i=n[Jt];return 2===i.type?i.declTNode:1===i.type?n[di]:null}function Oa(n,i,a){if(a&Ue.SkipSelf){let p=i,_=n;for(;!(p=p.parent,null!==p||a&Ue.Host||(p=Ma(_),null===p||(_=_[ji],10&p.type))););if(null===p)return!1;i=p,n=_}const h=Gn.lFrame=xa();return h.currentTNode=i,h.lView=n,!0}function Ra(n){const i=xa(),a=n[Jt];Gn.lFrame=i,i.currentTNode=a.firstChild,i.lView=n,i.tView=a,i.contextLView=n,i.bindingIndex=a.bindingStartIndex,i.inI18n=!1}function xa(){const n=Gn.lFrame,i=null===n?null:n.child;return null===i?Oo(n):i}function Oo(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Tl(){const n=Gn.lFrame;return Gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Il=Tl;function jl(){const n=Tl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ti(){return Gn.lFrame.selectedIndex}function Wo(n){Gn.lFrame.selectedIndex=n}function Ui(){const n=Gn.lFrame;return $o(n.tView,n.selectedIndex)}function Ja(n,i){for(let a=i.directiveStart,h=i.directiveEnd;a<h;a++){const _=n.data[a].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:P,ngAfterViewInit:B,ngAfterViewChecked:Y,ngOnDestroy:ie}=_;C&&(n.contentHooks??(n.contentHooks=[])).push(-a,C),P&&((n.contentHooks??(n.contentHooks=[])).push(a,P),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(a,P)),B&&(n.viewHooks??(n.viewHooks=[])).push(-a,B),Y&&((n.viewHooks??(n.viewHooks=[])).push(a,Y),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(a,Y)),null!=ie&&(n.destroyHooks??(n.destroyHooks=[])).push(a,ie)}}function Do(n,i,a){K(n,i,3,a)}function Sl(n,i,a,h){(3&n[Zn])===a&&K(n,i,a,h)}function F(n,i){let a=n[Zn];(3&a)===i&&(a&=2047,a+=1,n[Zn]=a)}function K(n,i,a,h){const _=h??-1,C=i.length-1;let P=0;for(let B=void 0!==h?65535&n[xs]:0;B<C;B++)if("number"==typeof i[B+1]){if(P=i[B],null!=h&&P>=h)break}else i[B]<0&&(n[xs]+=65536),(P<_||-1==_)&&(U(n,a,i,B),n[xs]=(4294901760&n[xs])+B+2),B++}function U(n,i,a,h){const p=a[h]<0,_=a[h+1],P=n[p?-a[h]:a[h]];if(p){if(n[Zn]>>11<n[xs]>>16&&(3&n[Zn])===i){n[Zn]+=2048,vi(4,P,_);try{_.call(P)}finally{vi(5,P,_)}}}else{vi(4,P,_);try{_.call(P)}finally{vi(5,P,_)}}}const te=-1;class we{constructor(i,a,h){this.factory=i,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=h}}function Wr(n,i,a){let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const _=a[h++],C=a[h++],P=a[h++];n.setAttribute(i,C,P,_)}else{const _=p,C=a[++h];Kr(_)?n.setProperty(i,_,C):n.setAttribute(i,_,C),h++}}return h}function Qi(n){return 3===n||4===n||6===n}function Kr(n){return 64===n.charCodeAt(0)}function xr(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let a=-1;for(let h=0;h<i.length;h++){const p=i[h];"number"==typeof p?a=p:0===a||As(n,a,p,null,-1===a||2===a?i[++h]:null)}}return n}function As(n,i,a,h,p){let _=0,C=n.length;if(-1===i)C=-1;else for(;_<n.length;){const P=n[_++];if("number"==typeof P){if(P===i){C=-1;break}if(P>i){C=_-1;break}}}for(;_<n.length;){const P=n[_];if("number"==typeof P)break;if(P===a){if(null===h)return void(null!==p&&(n[_+1]=p));if(h===n[_+1])return void(n[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==C&&(n.splice(C,0,i),_=C+1),n.splice(_++,0,a),null!==h&&n.splice(_++,0,h),null!==p&&n.splice(_++,0,p)}function Ds(n){return n!==te}function Ls(n){return 32767&n}function Ko(n,i){let a=function io(n){return n>>16}(n),h=i;for(;a>0;)h=h[ji],a--;return h}let Pu=!0;function Ro(n){const i=Pu;return Pu=n,i}const rs=255,Xa=5;let Pa=0;const so={};function $t(n,i){const a=sa(n,i);if(-1!==a)return a;const h=i[Jt];h.firstCreatePass&&(n.injectorIndex=i.length,fr(h.data,n),fr(i,null),fr(h.blueprint,null));const p=Xr(n,i),_=n.injectorIndex;if(Ds(p)){const C=Ls(p),P=Ko(p,i),B=P[Jt].data;for(let Y=0;Y<8;Y++)i[_+Y]=P[C+Y]|B[C+Y]}return i[_+8]=p,_}function fr(n,i){n.push(0,0,0,0,0,0,0,0,i)}function sa(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Xr(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let a=0,h=null,p=i;for(;null!==p;){if(h=cl(p),null===h)return te;if(a++,p=p[ji],-1!==h.injectorIndex)return h.injectorIndex|a<<16}return te}function gn(n,i,a){!function _d(n,i,a){let h;"string"==typeof a?h=a.charCodeAt(0)||0:a.hasOwnProperty(Ct)&&(h=a[Ct]),null==h&&(h=a[Ct]=Pa++);const p=h&rs;i.data[n+(p>>Xa)]|=1<<p}(n,i,a)}function ku(n,i,a){if(a&Ue.Optional||void 0!==n)return n;At()}function dn(n,i,a,h){if(a&Ue.Optional&&void 0===h&&(h=null),!(a&(Ue.Self|Ue.Host))){const p=n[Gi],_=Pn(void 0);try{return p?p.get(i,h,a&Ue.Optional):Tn(i,h,a&Ue.Optional)}finally{Pn(_)}}return ku(h,0,a)}function _t(n,i,a,h=Ue.Default,p){if(null!==n){if(1024&i[Zn]){const C=function cu(n,i,a,h,p){let _=n,C=i;for(;null!==_&&null!==C&&1024&C[Zn]&&!(256&C[Zn]);){const P=Bt(_,C,a,h|Ue.Self,so);if(P!==so)return P;let B=_.parent;if(!B){const Y=C[ii];if(Y){const ie=Y.get(a,so,h);if(ie!==so)return ie}B=cl(C),C=C[ji]}_=B}return p}(n,i,a,h,so);if(C!==so)return C}const _=Bt(n,i,a,h,so);if(_!==so)return _}return dn(i,a,h,p)}function Bt(n,i,a,h,p){const _=function lu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Ct)?n[Ct]:void 0;return"number"==typeof i?i>=0?i&rs:Fu:i}(a);if("function"==typeof _){if(!Oa(i,n,h))return h&Ue.Host?ku(p,0,h):dn(i,a,h,p);try{const C=_(h);if(null!=C||h&Ue.Optional)return C;At()}finally{Il()}}else if("number"==typeof _){let C=null,P=sa(n,i),B=te,Y=h&Ue.Host?i[Rr][di]:null;for((-1===P||h&Ue.SkipSelf)&&(B=-1===P?Xr(n,i):i[P+8],B!==te&&$l(h,!1)?(C=i[Jt],P=Ls(B),i=Ko(B,i)):P=-1);-1!==P;){const ie=i[Jt];if(Es(_,P,ie.data)){const be=qr(P,i,a,C,h,Y);if(be!==so)return be}B=i[P+8],B!==te&&$l(h,i[Jt].data[P+8]===Y)&&Es(_,P,i)?(C=ie,P=Ls(B),i=Ko(B,i)):P=-1}}return p}function qr(n,i,a,h,p,_){const C=i[Jt],P=C.data[n+8],ie=ul(P,C,a,null==h?es(P)&&Pu:h!=C&&0!=(3&P.type),p&Ue.Host&&_===P);return null!==ie?Wi(i,C,ie,P):so}function ul(n,i,a,h,p){const _=n.providerIndexes,C=i.data,P=1048575&_,B=n.directiveStart,ie=_>>20,ze=p?P+ie:n.directiveEnd;for(let pt=h?P:P+ie;pt<ze;pt++){const Ut=C[pt];if(pt<B&&a===Ut||pt>=B&&Ut.type===a)return pt}if(p){const pt=C[B];if(pt&&Jr(pt)&&pt.type===a)return B}return null}function Wi(n,i,a,h){let p=n[a];const _=i.data;if(function ft(n){return n instanceof we}(p)){const C=p;C.resolving&&function Me(n,i){const a=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new qe(-200,`Circular dependency in DI detected for ${n}${a}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():me(n)}(_[a]));const P=Ro(C.canSeeViewProviders);C.resolving=!0;const B=C.injectImpl?Pn(C.injectImpl):null;Oa(n,h,Ue.Default);try{p=n[a]=C.factory(void 0,_,n,h),i.firstCreatePass&&a>=h.directiveStart&&function xu(n,i,a){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=i.type.prototype;if(h){const C=Sa(i);(a.preOrderHooks??(a.preOrderHooks=[])).push(n,C),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,C)}p&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-n,p),_&&((a.preOrderHooks??(a.preOrderHooks=[])).push(n,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(n,_))}(a,_[a],i)}finally{null!==B&&Pn(B),Ro(P),C.resolving=!1,Il()}}return p}function Es(n,i,a){return!!(a[i+(n>>Xa)]&1<<n)}function $l(n,i){return!(n&Ue.Self||n&Ue.Host&&i)}class oa{constructor(i,a){this._tNode=i,this._lView=a}get(i,a,h){return _t(this._tNode,this._lView,i,ui(h),a)}}function Fu(){return new oa(mr(),Be())}function uu(n){return ye(()=>{const i=n.prototype.constructor,a=i[Xe]||xo(i),h=Object.prototype;let p=Object.getPrototypeOf(n.prototype).constructor;for(;p&&p!==h;){const _=p[Xe]||xo(p);if(_&&_!==a)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function xo(n){return rt(n)?()=>{const i=xo(Ne(n));return i&&i()}:_s(n)}function cl(n){const i=n[Jt],a=i.type;return 2===a?i.declTNode:1===a?n[di]:null}function dr(n){return function Dn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const a=n.attrs;if(a){const h=a.length;let p=0;for(;p<h;){const _=a[p];if(Qi(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof a[p];)p++;else{if(_===i)return a[p+1];p+=2}}}return null}(mr(),n)}const ka="__parameters__";function Pr(n,i,a){return ye(()=>{const h=function dl(n){return function(...a){if(n){const h=n(...a);for(const p in h)this[p]=h[p]}}}(i);function p(..._){if(this instanceof p)return h.apply(this,_),this;const C=new p(..._);return P.annotation=C,P;function P(B,Y,ie){const be=B.hasOwnProperty(ka)?B[ka]:Object.defineProperty(B,ka,{value:[]})[ka];for(;be.length<=ie;)be.push(null);return(be[ie]=be[ie]||[]).push(C),B}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=n,p.annotationCls=p,p})}class Gt{constructor(i,a){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function at(n,i){n.forEach(a=>Array.isArray(a)?at(a,i):i(a))}function Ml(n,i,a){i>=n.length?n.push(a):n.splice(i,0,a)}function A(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function M(n,i){const a=[];for(let h=0;h<n;h++)a.push(i);return a}function ae(n,i,a){let h=xt(n,i);return h>=0?n[1|h]=a:(h=~h,function H(n,i,a,h){let p=n.length;if(p==i)n.push(a,h);else if(1===p)n.push(h,n[0]),n[0]=a;else{for(p--,n.push(n[p-1],n[p]);p>i;)n[p]=n[p-2],p--;n[i]=a,n[i+1]=h}}(n,h,i,a)),h}function We(n,i){const a=xt(n,i);if(a>=0)return n[1|a]}function xt(n,i){return function nn(n,i,a){let h=0,p=n.length>>a;for(;p!==h;){const _=h+(p-h>>1),C=n[_<<a];if(i===C)return _<<a;C>i?p=_:h=_+1}return~(p<<a)}(n,i,1)}const Ol=ci(Pr("Optional"),8),$r=ci(Pr("SkipSelf"),4);var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();const ko=/^>|^->|<!--|-->|--!>|<!-$/g,Uc=/(<|>)/,ba="\u200b$1\u200b";const Vu=new Map;let Rl=0;const et="__ngContext__";function lt(n,i){qn(i)?(n[et]=i[Qs],function Gu(n){Vu.set(n[Qs],n)}(i)):n[et]=i}let za;function Wa(n,i){return za(n,i)}function Vc(n){const i=n[yi];return ir(i)?i[yi]:i}function wa(n){return fc(n[Cs])}function ql(n){return fc(n[Er])}function fc(n){for(;null!==n&&!ir(n);)n=n[Er];return n}function xl(n,i,a,h,p){if(null!=h){let _,C=!1;ir(h)?_=h:qn(h)&&(C=!0,h=h[Nr]);const P=Fi(h);0===n&&null!==a?null==p?la(i,a,P):Mr(i,a,P,p||null,!0):1===n&&null!==a?Mr(i,a,P,p||null,!0):2===n?zc(i,P,C):3===n&&i.destroyNode(P),null!=_&&function Zm(n,i,a,h,p){const _=a[Fe];_!==Fi(a)&&xl(i,n,h,_,p);for(let P=kt;P<a.length;P++){const B=a[P];Nd(B[Jt],B,n,i,h,_)}}(i,n,_,a,p)}}function _l(n,i){return n.createText(i)}function Sd(n,i,a){n.setValue(i,a)}function ip(n,i){return n.createComment(function nl(n){return n.replace(ko,i=>i.replace(Uc,ba))}(i))}function ph(n,i,a){return n.createElement(i,a)}function R(n,i){const a=n[Tt],h=a.indexOf(i),p=i[yi];512&i[Zn]&&(i[Zn]&=-513,zo(p,-1)),a.splice(h,1)}function J(n,i){if(n.length<=kt)return;const a=kt+i,h=n[a];if(h){const p=h[po];null!==p&&p!==n&&R(p,h),i>0&&(n[a-1][Er]=h[Er]);const _=A(n,kt+i);!function sp(n,i){Nd(n,i,i[Un],2,null,null),i[Nr]=null,i[di]=null}(h[Jt],h);const C=_[Xi];null!==C&&C.detachView(_[Jt]),h[yi]=null,h[Er]=null,h[Zn]&=-65}return h}function ue(n,i){if(!(128&i[Zn])){const a=i[Un];a.destroyNode&&Nd(n,i,a,3,null,null),function N(n){let i=n[Cs];if(!i)return Ke(n[Jt],n);for(;i;){let a=null;if(qn(i))a=i[Cs];else{const h=i[kt];h&&(a=h)}if(!a){for(;i&&!i[Er]&&i!==n;)qn(i)&&Ke(i[Jt],i),i=i[yi];null===i&&(i=n),qn(i)&&Ke(i[Jt],i),a=i&&i[Er]}i=a}}(i)}}function Ke(n,i){if(!(128&i[Zn])){i[Zn]&=-65,i[Zn]|=128,function Xt(n,i){let a;if(null!=n&&null!=(a=n.destroyHooks))for(let h=0;h<a.length;h+=2){const p=i[a[h]];if(!(p instanceof we)){const _=a[h+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const P=p[_[C]],B=_[C+1];vi(4,P,B);try{B.call(P)}finally{vi(5,P,B)}}else{vi(4,p,_);try{_.call(p)}finally{vi(5,p,_)}}}}}(n,i),function yt(n,i){const a=n.cleanup,h=i[Ei];let p=-1;if(null!==a)for(let _=0;_<a.length-1;_+=2)if("string"==typeof a[_]){const C=a[_+3];C>=0?h[p=C]():h[p=-C].unsubscribe(),_+=2}else{const C=h[p=a[_+1]];a[_].call(C)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();i[Ei]=null}}(n,i),1===i[Jt].type&&i[Un].destroy();const a=i[po];if(null!==a&&ir(i[yi])){a!==i[yi]&&R(a,i);const h=i[Xi];null!==h&&h.detachView(n)}!function O(n){Vu.delete(n[Qs])}(i)}}function yn(n,i,a){return zn(n,i.parent,a)}function zn(n,i,a){let h=i;for(;null!==h&&40&h.type;)h=(i=h).parent;if(null===h)return a[Nr];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:_}=n.data[h.directiveStart+p];if(_===oe.None||_===oe.Emulated)return null}return Li(h,a)}}function Mr(n,i,a,h,p){n.insertBefore(i,a,h,p)}function la(n,i,a){n.appendChild(i,a)}function ua(n,i,a,h,p){null!==h?Mr(n,i,a,h,p):la(n,i,a)}function Pl(n,i){return n.parentNode(i)}function Zl(n,i,a){return kl(n,i,a)}function Gc(n,i,a){return 40&n.type?Li(n,a):null}let Os,yl,_h,Wc,kl=Gc;function jc(n,i){kl=n,Os=i}function yu(n,i,a,h){const p=yn(n,h,i),_=i[Un],P=Zl(h.parent||i[di],h,i);if(null!=p)if(Array.isArray(a))for(let B=0;B<a.length;B++)ua(_,p,a[B],P,!1);else ua(_,p,a,P,!1);void 0!==Os&&Os(_,h,i,a,p)}function Yl(n,i){if(null!==i){const a=i.type;if(3&a)return Li(i,n);if(4&a)return Hc(-1,n[i.index]);if(8&a){const h=i.child;if(null!==h)return Yl(n,h);{const p=n[i.index];return ir(p)?Hc(-1,p):Fi(p)}}if(32&a)return Wa(i,n)()||Fi(n[i.index]);{const h=$c(n,i);return null!==h?Array.isArray(h)?h[0]:Yl(Vc(n[Rr]),h):Yl(n,i.next)}}return null}function $c(n,i){return null!==i?n[Rr][di].projection[i.projection]:null}function Hc(n,i){const a=kt+n+1;if(a<i.length){const h=i[a],p=h[Jt].firstChild;if(null!==p)return Yl(h,p)}return i[Fe]}function zc(n,i,a){const h=Pl(n,i);h&&function pc(n,i,a,h){n.removeChild(i,a,h)}(n,h,i,a)}function gc(n,i,a,h,p,_,C){for(;null!=a;){const P=h[a.index],B=a.type;if(C&&0===i&&(P&&lt(Fi(P),h),a.flags|=2),32!=(32&a.flags))if(8&B)gc(n,i,a.child,h,p,_,!1),xl(i,n,p,P,_);else if(32&B){const Y=Wa(a,h);let ie;for(;ie=Y();)xl(i,n,p,ie,_);xl(i,n,p,P,_)}else 16&B?vu(n,i,h,a,p,_):xl(i,n,p,P,_);a=C?a.projectionNext:a.next}}function Nd(n,i,a,h,p,_){gc(a,h,n.firstChild,i,p,_,!1)}function vu(n,i,a,h,p,_){const C=a[Rr],B=C[di].projection[h.projection];if(Array.isArray(B))for(let Y=0;Y<B.length;Y++)xl(i,n,p,B[Y],_);else gc(n,i,B,C[yi],p,_,!0)}function Md(n,i,a){""===a?n.removeAttribute(i,"class"):n.setAttribute(i,"class",a)}function df(n,i,a){const{mergedAttrs:h,classes:p,styles:_}=a;null!==h&&Wr(n,i,h),null!==p&&Md(n,i,p),null!==_&&function op(n,i,a){n.setAttribute(i,"style",a)}(n,i,_)}function bu(n){return function gh(){if(void 0===yl&&(yl=null,_n.trustedTypes))try{yl=_n.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return yl}()?.createHTML(n)||n}function Cg(n){_h=n}function up(n){return function Kc(){if(void 0===Wc&&(Wc=null,_n.trustedTypes))try{Wc=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wc}()?.createScriptURL(n)||n}class vl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tt})`}}class mc extends vl{getTypeName(){return"HTML"}}class cp extends vl{getTypeName(){return"Style"}}class _c extends vl{getTypeName(){return"Script"}}class dp extends vl{getTypeName(){return"URL"}}class qc extends vl{getTypeName(){return"ResourceURL"}}function Ql(n){return n instanceof vl?n.changingThisBreaksApplicationSecurity:n}function yc(n,i){const a=function hf(n){return n instanceof vl&&n.getTypeName()||null}(n);if(null!=a&&a!==i){if("ResourceURL"===a&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${a} (see ${tt})`)}return a===i}function Sg(n){return new mc(n)}function Jm(n){return new cp(n)}function Ws(n){return new _c(n)}function ff(n){return new dp(n)}function pf(n){return new qc(n)}function gf(n){const i=new mf(n);return function cy(){try{return!!(new window.DOMParser).parseFromString(bu(""),"text/html")}catch{return!1}}()?new Xm(i):i}class Xm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const a=(new window.DOMParser).parseFromString(bu(i),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(i):(a.removeChild(a.firstChild),a)}catch{return null}}}class mf{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const a=this.inertDocument.createElement("template");return a.innerHTML=bu(i),a}}const e_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vc(n){return(n=String(n)).match(e_)?n:"unsafe:"+n}function La(n){const i={};for(const a of n.split(","))i[a]=!0;return i}function Zc(...n){const i={};for(const a of n)for(const h in a)a.hasOwnProperty(h)&&(i[h]=!0);return i}const hp=La("area,br,col,hr,img,wbr"),fp=La("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bc=La("rp,rt"),Rd=Zc(hp,Zc(fp,La("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zc(bc,La("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zc(bc,fp)),gp=La("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oi=Zc(gp,La("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),La("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mg=La("script,style,template");class mp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let a=i.firstChild,h=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?h=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,h&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(i){const a=i.nodeName.toLowerCase();if(!Rd.hasOwnProperty(a))return this.sanitizedSomething=!0,!Mg.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const h=i.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),C=_.name,P=C.toLowerCase();if(!Oi.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let B=_.value;gp[P]&&(B=vc(B)),this.buf.push(" ",C,'="',yp(B),'"')}return this.buf.push(">"),!0}endElement(i){const a=i.nodeName.toLowerCase();Rd.hasOwnProperty(a)&&!hp.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(i){this.buf.push(yp(i))}checkClobberedElement(i,a){if(a&&(i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return a}}const _p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_f=/([^\#-~ |!])/g;function yp(n){return n.replace(/&/g,"&amp;").replace(_p,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(_f,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yh;function vp(n,i){let a=null;try{yh=yh||gf(n);let h=i?String(i):"";a=yh.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=a.innerHTML,a=yh.getInertBodyElement(h)}while(h!==_);return bu((new mp).sanitizeChildren(yf(a)||a))}finally{if(a){const h=yf(a)||a;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function yf(n){return"content"in n&&function bp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Bs=(()=>((Bs=Bs||{})[Bs.NONE=0]="NONE",Bs[Bs.HTML=1]="HTML",Bs[Bs.STYLE=2]="STYLE",Bs[Bs.SCRIPT=3]="SCRIPT",Bs[Bs.URL=4]="URL",Bs[Bs.RESOURCE_URL=5]="RESOURCE_URL",Bs))();function bh(n){const i=wh();return i?i.sanitize(Bs.URL,n)||"":yc(n,"URL")?Ql(n):vc(me(n))}function Og(n){const i=wh();if(i)return up(i.sanitize(Bs.RESOURCE_URL,n)||"");if(yc(n,"ResourceURL"))return up(Ql(n));throw new qe(904,!1)}function Pg(n,i,a){return function xg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Og:bh}(i,a)(n)}function wh(){const n=Be();return n&&n[cs]}const kg=new Gt("ENVIRONMENT_INITIALIZER"),wp=new Gt("INJECTOR",-1),Pd=new Gt("INJECTOR_DEF_TYPES");class Fg{get(i,a=or){if(a===or){const h=new Error(`NullInjectorError: No provider for ${de(i)}!`);throw h.name="NullInjectorError",h}return a}}function Lo(...n){return{\u0275providers:Dp(0,n),\u0275fromNgModule:!0}}function Dp(n,...i){const a=[],h=new Set;let p;return at(i,_=>{const C=_;kd(C,a,[],h)&&(p||(p=[]),p.push(C))}),void 0!==p&&Lg(p,a),a}function Lg(n,i){for(let a=0;a<n.length;a++){const{providers:p}=n[a];vf(p,_=>{i.push(_)})}}function kd(n,i,a,h){if(!(n=Ne(n)))return!1;let p=null,_=ar(n);const C=!_&&wn(n);if(_||C){if(C&&!C.standalone)return!1;p=n}else{const B=n.ngModule;if(_=ar(B),!_)return!1;p=B}const P=h.has(p);if(C){if(P)return!1;if(h.add(p),C.dependencies){const B="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const Y of B)kd(Y,i,a,h)}}else{if(!_)return!1;{if(null!=_.imports&&!P){let Y;h.add(p);try{at(_.imports,ie=>{kd(ie,i,a,h)&&(Y||(Y=[]),Y.push(ie))})}finally{}void 0!==Y&&Lg(Y,i)}if(!P){const Y=_s(p)||(()=>new p);i.push({provide:p,useFactory:Y,deps:Re},{provide:Pd,useValue:p,multi:!0},{provide:kg,useValue:()=>Bn(p),multi:!0})}const B=_.providers;null==B||P||vf(B,ie=>{i.push(ie)})}}return p!==n&&void 0!==n.providers}function vf(n,i){for(let a of n)st(a)&&(a=a.\u0275providers),Array.isArray(a)?vf(a,i):i(a)}const i_=Ie({provide:String,useValue:Ie});function Fd(n){return null!==n&&"object"==typeof n&&i_ in n}function Dc(n){return"function"==typeof n}const Bg=new Gt("Set Injector scope."),$u={},Tp={};let Ip;function Dh(){return void 0===Ip&&(Ip=new Fg),Ip}class Hu{}class Cp extends Hu{get destroyed(){return this._destroyed}constructor(i,a,h,p){super(),this.parent=a,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ap(i,C=>this.processProvider(C)),this.records.set(wp,Ld(void 0,this)),p.has("environment")&&this.records.set(Hu,Ld(void 0,this));const _=this.records.get(Bg);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Pd.multi,Re,Ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const a=nr(this),h=Pn(void 0);try{return i()}finally{nr(a),Pn(h)}}get(i,a=or,h=Ue.Default){this.assertNotDestroyed(),h=ui(h);const p=nr(this),_=Pn(void 0);try{if(!(h&Ue.SkipSelf)){let P=this.records.get(i);if(void 0===P){const B=function Gg(n){return"function"==typeof n||"object"==typeof n&&n instanceof Gt}(i)&&gr(i);P=B&&this.injectableDefInScope(B)?Ld(Sp(i),$u):null,this.records.set(i,P)}if(null!=P)return this.hydrate(i,P)}return(h&Ue.Self?Dh():this.parent).get(i,a=h&Ue.Optional&&a===or?null:a)}catch(C){if("NullInjectorError"===C.name){if((C[hr]=C[hr]||[]).unshift(de(i)),p)throw C;return function Tr(n,i,a,h){const p=n[hr];throw i[kn]&&p.unshift(i[kn]),n.message=function Se(n,i,a,h=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ri?n.slice(2):n;let p=de(i);if(Array.isArray(i))p=i.map(de).join(" -> ");else if("object"==typeof i){let _=[];for(let C in i)if(i.hasOwnProperty(C)){let P=i[C];_.push(C+":"+("string"==typeof P?JSON.stringify(P):de(P)))}p=`{${_.join(", ")}}`}return`${a}${h?"("+h+")":""}[${p}]: ${n.replace(Hn,"\n  ")}`}("\n"+n.message,p,a,h),n[lr]=p,n[hr]=null,n}(C,i,"R3InjectorError",this.source)}throw C}finally{Pn(_),nr(p)}}resolveInjectorInitializers(){const i=nr(this),a=Pn(void 0);try{const h=this.get(kg.multi,Re,Ue.Self);for(const p of h)p()}finally{nr(i),Pn(a)}}toString(){const i=[],a=this.records;for(const h of a.keys())i.push(de(h));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qe(205,!1)}processProvider(i){let a=Dc(i=Ne(i))?i:Ne(i&&i.provide);const h=function s_(n){return Fd(n)?Ld(void 0,n.useValue):Ld(Vg(n),$u)}(i);if(Dc(i)||!0!==i.multi)this.records.get(a);else{let p=this.records.get(a);p||(p=Ld(void 0,$u,!0),p.factory=()=>yr(p.multi),this.records.set(a,p)),a=i,p.multi.push(i)}this.records.set(a,h)}hydrate(i,a){return a.value===$u&&(a.value=Tp,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Bd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(i){if(!i.providedIn)return!1;const a=Ne(i.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Sp(n){const i=gr(n),a=null!==i?i.factory:_s(n);if(null!==a)return a;if(n instanceof Gt)throw new qe(204,!1);if(n instanceof Function)return function Ug(n){const i=n.length;if(i>0)throw M(i,"?"),new qe(204,!1);const a=function er(n){return n&&(n[ni]||n[ke])||null}(n);return null!==a?()=>a.factory(n):()=>new n}(n);throw new qe(204,!1)}function Vg(n,i,a){let h;if(Dc(n)){const p=Ne(n);return _s(p)||Sp(p)}if(Fd(n))h=()=>Ne(n.useValue);else if(function Ep(n){return!(!n||!n.useFactory)}(n))h=()=>n.useFactory(...yr(n.deps||[]));else if(function bf(n){return!(!n||!n.useExisting)}(n))h=()=>Bn(Ne(n.useExisting));else{const p=Ne(n&&(n.useClass||n.provide));if(!function Yc(n){return!!n.deps}(n))return _s(p)||Sp(p);h=()=>new p(...yr(n.deps))}return h}function Ld(n,i,a=!1){return{factory:n,value:i,multi:a?[]:void 0}}function Ap(n,i){for(const a of n)Array.isArray(a)?Ap(a,i):a&&st(a)?Ap(a.\u0275providers,i):i(a)}class jg{}class wu{}class wf{resolveComponentFactory(i){throw function $g(n){const i=Error(`No component factory found for ${de(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Jl=(()=>{class n{}return n.NULL=new wf,n})();function Qc(){return Fl(mr(),Be())}function Fl(n,i){return new zu(Li(n,i))}let zu=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Qc,n})();function zg(n){return n instanceof zu?n.nativeElement:n}class Df{}let Np=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Wg(){const n=Be(),a=Ii(mr().index,n);return(qn(a)?a:n)[Un]}(),n})(),Kg=(()=>{class n{}return n.\u0275prov=qt({token:n,providedIn:"root",factory:()=>null}),n})();class qg{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Mp=new qg("15.2.9"),Ef={},Ud="ngOriginalError";function Wu(n){return n[Ud]}class Eh{constructor(){this._console=console}handleError(i){const a=this._findOriginalError(i);this._console.error("ERROR",i),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(i){let a=i&&Wu(i);for(;a&&Wu(a);)a=Wu(a);return a||null}}function Tc(n){return n.ownerDocument.defaultView}function Eu(n){return n instanceof Function?n():n}function Tu(n,i,a){let h=n.length;for(;;){const p=n.indexOf(i,a);if(-1===p)return p;if(0===p||n.charCodeAt(p-1)<=32){const _=i.length;if(p+_===h||n.charCodeAt(p+_)<=32)return p}a=p+1}}const Sf="ng-template";function Af(n,i,a){let h=0,p=!0;for(;h<n.length;){let _=n[h++];if("string"==typeof _&&p){const C=n[h++];if(a&&"class"===_&&-1!==Tu(C.toLowerCase(),i,0))return!0}else{if(1===_){for(;h<n.length&&"string"==typeof(_=n[h++]);)if(_.toLowerCase()===i)return!0;return!1}"number"==typeof _&&(p=!1)}}return!1}function a_(n){return 4===n.type&&n.value!==Sf}function xp(n,i,a){return i===(4!==n.type||a?n.value:Sf)}function Th(n,i,a){let h=4;const p=n.attrs||[],_=function Ih(n){for(let i=0;i<n.length;i++)if(Qi(n[i]))return i;return n.length}(p);let C=!1;for(let P=0;P<i.length;P++){const B=i[P];if("number"!=typeof B){if(!C)if(4&h){if(h=2|1&h,""!==B&&!xp(n,B,a)||""===B&&1===i.length){if(Ll(h))return!1;C=!0}}else{const Y=8&h?B:i[++P];if(8&h&&null!==n.attrs){if(!Af(n.attrs,Y,a)){if(Ll(h))return!1;C=!0}continue}const be=l_(8&h?"class":B,p,a_(n),a);if(-1===be){if(Ll(h))return!1;C=!0;continue}if(""!==Y){let ze;ze=be>_?"":p[be+1].toLowerCase();const pt=8&h?ze:null;if(pt&&-1!==Tu(pt,Y,0)||2&h&&Y!==ze){if(Ll(h))return!1;C=!0}}}}else{if(!C&&!Ll(h)&&!Ll(B))return!1;if(C&&Ll(B))continue;C=!1,h=B|1&h}}return Ll(h)||C}function Ll(n){return 0==(1&n)}function l_(n,i,a,h){if(null===i)return-1;let p=0;if(h||!a){let _=!1;for(;p<i.length;){const C=i[p];if(C===n)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let P=i[++p];for(;"string"==typeof P;)P=i[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function Pp(n,i){let a=n.indexOf(4);if(a>-1)for(a++;a<n.length;){const h=n[a];if("number"==typeof h)return-1;if(h===i)return a;a++}return-1}(i,n)}function Jc(n,i,a=!1){for(let h=0;h<i.length;h++)if(Th(n,i[h],a))return!0;return!1}function em(n,i){e:for(let a=0;a<i.length;a++){const h=i[a];if(n.length===h.length){for(let p=0;p<n.length;p++)if(n[p]!==h[p])continue e;return!0}}return!1}function Jo(n,i){return n?":not("+i.trim()+")":i}function Ch(n){let i=n[0],a=1,h=2,p="",_=!1;for(;a<n.length;){let C=n[a];if("string"==typeof C)if(2&h){const P=n[++a];p+="["+C+(P.length>0?'="'+P+'"':"")+"]"}else 8&h?p+="."+C:4&h&&(p+=" "+C);else""!==p&&!Ll(C)&&(i+=Jo(_,p),p=""),h=C,_=_||!Ll(h);a++}return""!==p&&(i+=Jo(_,p)),i}const kr={};function Xl(n){Ka(Ft(),Be(),Ti()+n,!1)}function Ka(n,i,a,h){if(!h)if(3==(3&i[Zn])){const _=n.preOrderCheckHooks;null!==_&&Do(i,_,a)}else{const _=n.preOrderHooks;null!==_&&Sl(i,_,0,a)}Wo(a)}function Lp(n,i=null,a=null,h){const p=Bl(n,i,a,h);return p.resolveInjectorInitializers(),p}function Bl(n,i=null,a=null,h,p=new Set){const _=[a||Re,Lo(n)];return h=h||("object"==typeof n?void 0:de(n)),new Cp(_,i||Dh(),h||null,p)}let bl=(()=>{class n{static create(a,h){if(Array.isArray(a))return Lp({name:""},h,a,"");{const p=a.name??"";return Lp({name:p},a.parent,a.providers,p)}}}return n.THROW_IF_NOT_FOUND=or,n.NULL=new Fg,n.\u0275prov=qt({token:n,providedIn:"any",factory:()=>Bn(wp)}),n.__NG_ELEMENT_ID__=-1,n})();function Sc(n,i=Ue.Default){const a=Be();return null===a?Bn(n,i):_t(mr(),a,Ne(n),i)}function jp(){throw new Error("invalid")}function $p(n,i){const a=n.contentQueries;if(null!==a)for(let h=0;h<a.length;h+=2){const _=a[h+1];if(-1!==_){const C=n.data[_];al(a[h]),C.contentQueries(2,i[_],_)}}}function Cu(n,i,a,h,p,_,C,P,B,Y,ie){const be=i.blueprint.slice();return be[Nr]=p,be[Zn]=76|h,(null!==ie||n&&1024&n[Zn])&&(be[Zn]|=1024),ya(be),be[yi]=be[ji]=n,be[ur]=a,be[us]=C||n&&n[us],be[Un]=P||n&&n[Un],be[cs]=B||n&&n[cs]||null,be[Gi]=Y||n&&n[Gi]||null,be[di]=_,be[Qs]=function Id(){return Rl++}(),be[ii]=ie,be[Rr]=2==i.type?n[Rr]:be,be}function Yu(n,i,a,h,p){let _=n.data[i];if(null===_)_=Rh(n,i,a,h,p),function Mo(){return Gn.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=a,_.value=h,_.attrs=p;const C=si();_.injectorIndex=null===C?-1:C.injectorIndex}return zr(_,!0),_}function Rh(n,i,a,h,p){const _=Ni(),C=xi(),B=n.data[i]=function xf(n,i,a,h,p,_){return{type:a,index:h,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,a,i,h,p);return null===n.firstChild&&(n.firstChild=B),null!==_&&(C?null==_.child&&null!==B.parent&&(_.child=B):null===_.next&&(_.next=B,B.prev=_)),B}function Qu(n,i,a,h){if(0===a)return-1;const p=i.length;for(let _=0;_<a;_++)i.push(h),n.blueprint.push(h),n.data.push(null);return p}function zp(n,i,a){Ra(i);try{const h=n.viewQuery;null!==h&&sd(1,h,a);const p=n.template;null!==p&&rd(n,i,p,1,a),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$p(n,i),n.staticViewQueries&&sd(2,n.viewQuery,a);const _=n.components;null!==_&&function Hp(n,i){for(let a=0;a<i.length;a++)Bh(n,i[a])}(i,_)}catch(h){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),h}finally{i[Zn]&=-5,jl()}}function Ju(n,i,a,h){const p=i[Zn];if(128!=(128&p)){Ra(i);try{ya(i),function bs(n){return Gn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==a&&rd(n,i,a,2,h);const C=3==(3&p);if(C){const Y=n.preOrderCheckHooks;null!==Y&&Do(i,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&Sl(i,Y,0,null),F(i,0)}if(function Ul(n){for(let i=wa(n);null!==i;i=ql(i)){if(!i[je])continue;const a=i[Tt];for(let h=0;h<a.length;h++){const p=a[h];512&p[Zn]||zo(p[yi],1),p[Zn]|=512}}}(i),function Jp(n){for(let i=wa(n);null!==i;i=ql(i))for(let a=kt;a<i.length;a++){const h=i[a],p=h[Jt];bo(h)&&Ju(p,h,p.template,h[ur])}}(i),null!==n.contentQueries&&$p(n,i),C){const Y=n.contentCheckHooks;null!==Y&&Do(i,Y)}else{const Y=n.contentHooks;null!==Y&&Sl(i,Y,1),F(i,1)}!function p_(n,i){const a=n.hostBindingOpCodes;if(null!==a)try{for(let h=0;h<a.length;h++){const p=a[h];if(p<0)Wo(~p);else{const _=p,C=a[++h],P=a[++h];Gl(C,_),P(2,i[_])}}}finally{Wo(-1)}}(n,i);const P=n.components;null!==P&&function im(n,i){for(let a=0;a<i.length;a++)Xp(n,i[a])}(i,P);const B=n.viewQuery;if(null!==B&&sd(2,B,h),C){const Y=n.viewCheckHooks;null!==Y&&Do(i,Y)}else{const Y=n.viewHooks;null!==Y&&Sl(i,Y,2),F(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Zn]&=-41,512&i[Zn]&&(i[Zn]&=-513,zo(i[yi],-1))}finally{jl()}}}function rd(n,i,a,h,p){const _=Ti(),C=2&h;try{Wo(-1),C&&i.length>Qr&&Ka(n,i,Qr,!1),vi(C?2:0,p),a(h,p)}finally{Wo(_),vi(C?3:1,p)}}function xh(n,i,a){if(Yn(i)){const p=i.directiveEnd;for(let _=i.directiveStart;_<p;_++){const C=n.data[_];C.contentQueries&&C.contentQueries(1,a[_],_)}}}function Wd(n,i,a){le()&&(function Lf(n,i,a,h){const p=a.directiveStart,_=a.directiveEnd;es(a)&&function Lh(n,i,a){const h=Li(i,n),p=Wp(a),_=n[us],C=Qd(n,Cu(n,p,null,a.onPush?32:16,h,i,_,_.createRenderer(h,a),null,null,null));n[i.index]=C}(i,a,n.data[p+a.componentOffset]),n.firstCreatePass||$t(a,i),lt(h,i);const C=a.initialInputs;for(let P=p;P<_;P++){const B=n.data[P],Y=Wi(i,n,P,a);lt(Y,i),null!==C&&v_(0,P-p,Y,B,0,C),Jr(B)&&(Ii(a.index,i)[ur]=Wi(i,n,P,a))}}(n,i,a,Li(a,i)),64==(64&a.flags)&&Bf(n,i,a))}function Kd(n,i,a=Li){const h=i.localNames;if(null!==h){let p=i.index+1;for(let _=0;_<h.length;_+=2){const C=h[_+1],P=-1===C?a(i,n):n[C];n[p++]=P}}}function Wp(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=id(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function id(n,i,a,h,p,_,C,P,B,Y){const ie=Qr+h,be=ie+p,ze=function Kp(n,i){const a=[];for(let h=0;h<i;h++)a.push(h<n?null:kr);return a}(ie,be),pt="function"==typeof Y?Y():Y;return ze[Jt]={type:n,blueprint:ze,template:a,queries:null,viewQuery:P,declTNode:i,data:ze.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:B,consts:pt,incompleteFirstPass:!1}}function sm(n,i,a,h){const p=Uh(i);null===a?p.push(h):(p.push(a),n.firstCreatePass&&Su(n).push(h,p.length-1))}function qp(n,i,a,h){for(let p in n)if(n.hasOwnProperty(p)){a=null===a?{}:a;const _=n[p];null===h?om(a,i,p,_):h.hasOwnProperty(p)&&om(a,i,h[p],_)}return a}function om(n,i,a,h){n.hasOwnProperty(a)?n[a].push(i,h):n[a]=[i,h]}function Da(n,i,a,h,p,_,C,P){const B=Li(i,a);let ie,Y=i.inputs;!P&&null!=Y&&(ie=Y[h])?(Au(n,a,ie,h,p),es(i)&&function Pf(n,i){const a=Ii(i,n);16&a[Zn]||(a[Zn]|=32)}(a,i.index)):3&i.type&&(h=function Zp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(h),p=null!=C?C(p,i.value||"",h):p,_.setProperty(B,h,p))}function Zd(n,i,a,h){if(le()){const p=null===h?null:{"":-1},_=function __(n,i){const a=n.directiveRegistry;let h=null,p=null;if(a)for(let _=0;_<a.length;_++){const C=a[_];if(Jc(i,C.selectors,!1))if(h||(h=[]),Jr(C))if(null!==C.findHostDirectiveDefs){const P=[];p=p||new Map,C.findHostDirectiveDefs(C,P,p),h.unshift(...P,C),ea(n,i,P.length)}else h.unshift(C),ea(n,i,0);else p=p||new Map,C.findHostDirectiveDefs?.(C,h,p),h.push(C)}return null===h?null:[h,p]}(n,a);let C,P;null===_?C=P=null:[C,P]=_,null!==C&&am(n,i,a,C,p,P),p&&function y_(n,i,a){if(i){const h=n.localNames=[];for(let p=0;p<i.length;p+=2){const _=a[i[p+1]];if(null==_)throw new qe(-301,!1);h.push(i[p],_)}}}(a,h,p)}a.mergedAttrs=xr(a.mergedAttrs,a.attrs)}function am(n,i,a,h,p,_){for(let Y=0;Y<h.length;Y++)gn($t(a,i),n,h[Y].type);!function kh(n,i,a){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+a,n.providerIndexes=i}(a,n.data.length,h.length);for(let Y=0;Y<h.length;Y++){const ie=h[Y];ie.providersResolver&&ie.providersResolver(ie)}let C=!1,P=!1,B=Qu(n,i,h.length,null);for(let Y=0;Y<h.length;Y++){const ie=h[Y];a.mergedAttrs=xr(a.mergedAttrs,ie.hostAttrs),Fh(n,a,i,B,ie),um(B,ie,p),null!==ie.contentQueries&&(a.flags|=4),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(a.flags|=64);const be=ie.type.prototype;!C&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(a.index),C=!0),!P&&(be.ngOnChanges||be.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(a.index),P=!0),B++}!function Ph(n,i,a){const p=i.directiveEnd,_=n.data,C=i.attrs,P=[];let B=null,Y=null;for(let ie=i.directiveStart;ie<p;ie++){const be=_[ie],ze=a?a.get(be):null,Ut=ze?ze.outputs:null;B=qp(be.inputs,ie,B,ze?ze.inputs:null),Y=qp(be.outputs,ie,Y,Ut);const ln=null===B||null===C||a_(i)?null:b_(B,ie,C);P.push(ln)}null!==B&&(B.hasOwnProperty("class")&&(i.flags|=8),B.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=P,i.inputs=B,i.outputs=Y}(n,a,_)}function Bf(n,i,a){const h=a.directiveStart,p=a.directiveEnd,_=a.index,C=function El(){return Gn.lFrame.currentDirectiveIndex}();try{Wo(_);for(let P=h;P<p;P++){const B=n.data[P],Y=i[P];ns(P),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&m_(B,Y)}}finally{Wo(-1),ns(C)}}function m_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function ea(n,i,a){i.componentOffset=a,(n.components??(n.components=[])).push(i.index)}function um(n,i,a){if(a){if(i.exportAs)for(let h=0;h<i.exportAs.length;h++)a[i.exportAs[h]]=n;Jr(i)&&(a[""]=n)}}function Fh(n,i,a,h,p){n.data[h]=p;const _=p.factory||(p.factory=_s(p.type)),C=new we(_,Jr(p),Sc);n.blueprint[h]=C,a[h]=C,function g_(n,i,a,h,p){const _=p.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const P=~i.index;(function lm(n){let i=n.length;for(;i>0;){const a=n[--i];if("number"==typeof a&&a<0)return a}return 0})(C)!=P&&C.push(P),C.push(a,h,_)}}(n,i,h,Qu(n,a,p.hostVars,kr),p)}function Yp(n,i,a,h,p,_,C){if(null==_)n.removeAttribute(i,p,a);else{const P=null==C?me(_):C(_,h||"",p);n.setAttribute(i,p,P,a)}}function v_(n,i,a,h,p,_){const C=_[i];if(null!==C){const P=h.setInput;for(let B=0;B<C.length;){const Y=C[B++],ie=C[B++],be=C[B++];null!==P?h.setInput(a,be,Y,ie):a[ie]=be}}}function b_(n,i,a){let h=null,p=0;for(;p<a.length;){const _=a[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===h&&(h=[]);const C=n[_];for(let P=0;P<C.length;P+=2)if(C[P]===i){h.push(_,C[P+1],a[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function Qp(n,i,a,h){return[n,!0,!1,i,null,0,h,a,null,null]}function Xp(n,i){const a=Ii(i,n);if(bo(a)){const h=a[Jt];48&a[Zn]?Ju(h,a,h.template,a[ur]):a[Ji]>0&&nu(a)}}function nu(n){for(let h=wa(n);null!==h;h=ql(h))for(let p=kt;p<h.length;p++){const _=h[p];if(bo(_))if(512&_[Zn]){const C=_[Jt];Ju(C,_,C.template,_[ur])}else _[Ji]>0&&nu(_)}const a=n[Jt].components;if(null!==a)for(let h=0;h<a.length;h++){const p=Ii(a[h],n);bo(p)&&p[Ji]>0&&nu(p)}}function Bh(n,i){const a=Ii(i,n),h=a[Jt];(function Yd(n,i){for(let a=i.length;a<n.blueprint.length;a++)i.push(n.blueprint[a])})(h,a),zp(h,a,a[ur])}function Qd(n,i){return n[Cs]?n[Ys][Er]=i:n[Cs]=i,n[Ys]=i,i}function Xu(n){for(;n;){n[Zn]|=32;const i=Vc(n);if(go(n)&&!i)return n;n=i}return null}function Ac(n,i,a,h=!0){const p=i[us];p.begin&&p.begin();try{Ju(n,i,n.template,a)}catch(C){throw h&&wl(i,C),C}finally{p.end&&p.end()}}function sd(n,i,a){al(0),i(n,a)}function Uh(n){return n[Ei]||(n[Ei]=[])}function Su(n){return n.cleanup||(n.cleanup=[])}function wl(n,i){const a=n[Gi],h=a?a.get(Eh,null):null;h&&h.handleError(i)}function Au(n,i,a,h,p){for(let _=0;_<a.length;){const C=a[_++],P=a[_++],B=i[C],Y=n.data[C];null!==Y.setInput?Y.setInput(B,p,h,P):B[P]=p}}function Jd(n,i,a){let h=a?n.styles:null,p=a?n.classes:null,_=0;if(null!==i)for(let C=0;C<i.length;C++){const P=i[C];"number"==typeof P?_=P:1==_?p=$e(p,P):2==_&&(h=$e(h,P+": "+i[++C]+";"))}a?n.styles=h:n.stylesWithoutHost=h,a?n.classes=p:n.classesWithoutHost=p}function Vh(n,i,a,h,p=!1){for(;null!==a;){const _=i[a.index];if(null!==_&&h.push(Fi(_)),ir(_))for(let P=kt;P<_.length;P++){const B=_[P],Y=B[Jt].firstChild;null!==Y&&Vh(B[Jt],B,Y,h)}const C=a.type;if(8&C)Vh(n,i,a.child,h);else if(32&C){const P=Wa(a,i);let B;for(;B=P();)h.push(B)}else if(16&C){const P=$c(i,a);if(Array.isArray(P))h.push(...P);else{const B=Vc(i[Rr]);Vh(B[Jt],B,P,h,!0)}}a=p?a.projectionNext:a.next}return h}class od{get rootNodes(){const i=this._lView,a=i[Jt];return Vh(a,i,a.firstChild,[])}constructor(i,a){this._lView=i,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ur]}set context(i){this._lView[ur]=i}get destroyed(){return 128==(128&this._lView[Zn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[yi];if(ir(i)){const a=i[nt],h=a?a.indexOf(this):-1;h>-1&&(J(i,h),A(a,h))}this._attachedToViewContainer=!1}ue(this._lView[Jt],this._lView)}onDestroy(i){sm(this._lView[Jt],this._lView,null,i)}markForCheck(){Xu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zn]&=-65}reattach(){this._lView[Zn]|=64}detectChanges(){Ac(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Km(n,i){Nd(n,i,i[Un],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new qe(902,!1);this._appRef=i}}class Gh extends od{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Ac(i[Jt],i,i[ur],!1)}checkNoChanges(){}get context(){return null}}class ad extends Jl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const a=wn(i);return new $h(a,this.ngModule)}}function eg(n){const i=[];for(let a in n)n.hasOwnProperty(a)&&i.push({propName:n[a],templateName:a});return i}class jh{constructor(i,a){this.injector=i,this.parentInjector=a}get(i,a,h){h=ui(h);const p=this.injector.get(i,Ef,h);return p!==Ef||a===Ef?p:this.parentInjector.get(i,a,h)}}class $h extends wu{get inputs(){return eg(this.componentDef.inputs)}get outputs(){return eg(this.componentDef.outputs)}constructor(i,a){super(),this.componentDef=i,this.ngModule=a,this.componentType=i.type,this.selector=function Xc(n){return n.map(Ch).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!a}create(i,a,h,p){let _=(p=p||this.ngModule)instanceof Hu?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new jh(i,_):i,P=C.get(Df,null);if(null===P)throw new qe(407,!1);const B=C.get(Kg,null),Y=P.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",be=h?function qd(n,i,a){return n.selectRootElement(i,a===oe.ShadowDom)}(Y,h,this.componentDef.encapsulation):ph(Y,ie,function Xd(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ie)),ze=this.componentDef.onPush?288:272,pt=id(0,null,null,1,0,null,null,null,null,null),Ut=Cu(null,pt,null,ze,null,null,P,Y,B,C,null);let ln,Nn;Ra(Ut);try{const Qn=this.componentDef;let Or,Yt=null;Qn.findHostDirectiveDefs?(Or=[],Yt=new Map,Qn.findHostDirectiveDefs(Qn,Or,Yt),Or.push(Qn)):Or=[Qn];const ai=function fm(n,i){const a=n[Jt],h=Qr;return n[h]=i,Yu(a,h,2,"#host",null)}(Ut,be),Vo=function D_(n,i,a,h,p,_,C,P){const B=p[Jt];!function tg(n,i,a,h){for(const p of n)i.mergedAttrs=xr(i.mergedAttrs,p.hostAttrs);null!==i.mergedAttrs&&(Jd(i,i.mergedAttrs,!0),null!==a&&df(h,a,i))}(h,n,i,C);const Y=_.createRenderer(i,a),ie=Cu(p,Wp(a),null,a.onPush?32:16,p[n.index],n,_,Y,P||null,null,null);return B.firstCreatePass&&ea(B,n,h.length-1),Qd(p,ie),p[n.index]=ie}(ai,be,Qn,Or,Ut,P,Y);Nn=$o(pt,Qr),be&&function eh(n,i,a,h){if(h)Wr(n,a,["ng-version",Mp.full]);else{const{attrs:p,classes:_}=function ed(n){const i=[],a=[];let h=1,p=2;for(;h<n.length;){let _=n[h];if("string"==typeof _)2===p?""!==_&&i.push(_,n[++h]):8===p&&a.push(_);else{if(!Ll(p))break;p=_}h++}return{attrs:i,classes:a}}(i.selectors[0]);p&&Wr(n,a,p),_&&_.length>0&&Md(n,a,_.join(" "))}}(Y,Qn,be,h),void 0!==a&&function gm(n,i,a){const h=n.projection=[];for(let p=0;p<i.length;p++){const _=a[p];h.push(null!=_?Array.from(_):null)}}(Nn,this.ngContentSelectors,a),ln=function pm(n,i,a,h,p,_){const C=mr(),P=p[Jt],B=Li(C,p);am(P,p,C,a,null,h);for(let ie=0;ie<a.length;ie++)lt(Wi(p,P,C.directiveStart+ie,C),p);Bf(P,p,C),B&&lt(B,p);const Y=Wi(p,P,C.directiveStart+C.componentOffset,C);if(n[ur]=p[ur]=Y,null!==_)for(const ie of _)ie(Y,i);return xh(P,C,n),Y}(Vo,Qn,Or,Yt,Ut,[ng]),zp(pt,Ut,null)}finally{jl()}return new hm(this.componentType,ln,Fl(Nn,Ut),Ut,Nn)}}class hm extends jg{constructor(i,a,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=a,this.hostView=this.changeDetectorRef=new Gh(p),this.componentType=i}setInput(i,a){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[i])){const _=this._rootLView;Au(_[Jt],_,p,i,a),Xu(Ii(this._tNode.index,_))}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ng(){const n=mr();Ja(Be()[Jt],n)}function Hh(n){let i=function rg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),a=!0;const h=[n];for(;i;){let p;if(Jr(n))p=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new qe(903,!1);p=i.\u0275dir}if(p){if(a){h.push(p);const C=n;C.inputs=zh(n.inputs),C.declaredInputs=zh(n.declaredInputs),C.outputs=zh(n.outputs);const P=p.hostBindings;P&&th(n,P);const B=p.viewQuery,Y=p.contentQueries;if(B&&ig(n,B),Y&&sg(n,Y),Pe(n.inputs,p.inputs),Pe(n.declaredInputs,p.declaredInputs),Pe(n.outputs,p.outputs),Jr(p)&&p.data.animation){const ie=n.data;ie.animation=(ie.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const P=_[C];P&&P.ngInherit&&P(n),P===Hh&&(a=!1)}}i=Object.getPrototypeOf(i)}!function mm(n){let i=0,a=null;for(let h=n.length-1;h>=0;h--){const p=n[h];p.hostVars=i+=p.hostVars,p.hostAttrs=xr(p.hostAttrs,a=xr(a,p.hostAttrs))}}(h)}function zh(n){return n===ee?{}:n===Re?[]:n}function ig(n,i){const a=n.viewQuery;n.viewQuery=a?(h,p)=>{i(h,p),a(h,p)}:i}function sg(n,i){const a=n.contentQueries;n.contentQueries=a?(h,p,_)=>{i(h,p,_),a(h,p,_)}:i}function th(n,i){const a=n.hostBindings;n.hostBindings=a?(h,p)=>{i(h,p),a(h,p)}:i}function ud(n){return i=>{i.findHostDirectiveDefs=_m,i.hostDirectives=(Array.isArray(n)?n:n()).map(a=>"function"==typeof a?{directive:Ne(a),inputs:ee,outputs:ee}:{directive:Ne(a.directive),inputs:nh(a.inputs),outputs:nh(a.outputs)})}}function _m(n,i,a){if(null!==n.hostDirectives)for(const h of n.hostDirectives){const p=vr(h.directive);py(p.declaredInputs,h.inputs),_m(p,i,a),a.set(p,h),i.push(p)}}function nh(n){if(void 0===n||0===n.length)return ee;const i={};for(let a=0;a<n.length;a+=2)i[n[a]]=n[a+1];return i}function py(n,i){for(const a in i)i.hasOwnProperty(a)&&(n[i[a]]=n[a])}function rh(n){return!!o(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function o(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function v(n,i,a){return n[i]=a}function $(n,i,a){return!Object.is(n[i],a)&&(n[i]=a,!0)}function Q(n,i,a,h){const p=$(n,i,a);return $(n,i+1,h)||p}function xe(n,i,a,h){const p=Be();return $(p,Fs(),i)&&(Ft(),function tu(n,i,a,h,p,_){const C=Li(n,i);Yp(i[Un],C,_,n.value,a,h,p)}(Ui(),p,n,i,a,h)),xe}function St(n,i,a,h){return $(n,Fs(),a)?i+me(a)+h:kr}function Dl(n,i,a,h,p,_,C,P){const B=Be(),Y=Ft(),ie=n+Qr,be=Y.firstCreatePass?function Nu(n,i,a,h,p,_,C,P,B){const Y=i.consts,ie=Yu(i,n,4,C||null,js(Y,P));Zd(i,a,ie,js(Y,B)),Ja(i,ie);const be=ie.tView=id(2,ie,h,p,_,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Y);return null!==i.queries&&(i.queries.template(i,ie),be.queries=i.queries.embeddedTView(ie)),ie}(ie,Y,B,i,a,h,p,_,C):Y.data[ie];zr(be,!1);const ze=B[Un].createComment("");yu(Y,B,ze,be),lt(ze,B),Qd(B,B[ie]=Qp(ze,B,ze,be)),Xs(be)&&Wd(Y,B,be),null!=C&&Kd(B,be,P)}function Ln(n){return Hi(function No(){return Gn.lFrame.contextLView}(),Qr+n)}function sr(n,i,a){const h=Be();return $(h,Fs(),i)&&Da(Ft(),Ui(),h,n,i,h[Un],a,!1),sr}function Gr(n,i,a,h,p){const C=p?"class":"style";Au(n,a,i.inputs[C],C,h)}function ha(n,i,a,h){const p=Be(),_=Ft(),C=Qr+n,P=p[Un],B=_.firstCreatePass?function fs(n,i,a,h,p,_){const C=i.consts,B=Yu(i,n,2,h,js(C,p));return Zd(i,a,B,js(C,_)),null!==B.attrs&&Jd(B,B.attrs,!1),null!==B.mergedAttrs&&Jd(B,B.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,B),B}(C,_,p,i,a,h):_.data[C],Y=p[C]=ph(P,i,function bi(){return Gn.lFrame.currentNamespace}()),ie=Xs(B);return zr(B,!0),df(P,Y,B),32!=(32&B.flags)&&yu(_,p,Y,B),0===function D(){return Gn.lFrame.elementDepthCount}()&&lt(Y,p),function I(){Gn.lFrame.elementDepthCount++}(),ie&&(Wd(_,p,B),xh(_,B,p)),null!==h&&Kd(p,B),ha}function Ks(){let n=mr();xi()?zi():(n=n.parent,zr(n,!1));const i=n;!function V(){Gn.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(Ja(a,n),Yn(n)&&a.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Cr(n){return 0!=(8&n.flags)}(i)&&Gr(a,i,Be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function jr(n){return 0!=(16&n.flags)}(i)&&Gr(a,i,Be(),i.stylesWithoutHost,!1),Ks}function qa(n,i,a,h){return ha(n,i,a,h),Ks(),qa}function ho(n,i,a){const h=Be(),p=Ft(),_=n+Qr,C=p.firstCreatePass?function Zi(n,i,a,h,p){const _=i.consts,C=js(_,h),P=Yu(i,n,8,"ng-container",C);return null!==C&&Jd(P,C,!0),Zd(i,a,P,js(_,p)),null!==i.queries&&i.queries.elementStart(i,P),P}(_,p,h,i,a):p.data[_];zr(C,!0);const P=h[_]=h[Un].createComment("");return yu(p,h,P,C),lt(P,h),Xs(C)&&(Wd(p,h,C),xh(p,C,h)),null!=a&&Kd(h,C),ho}function Vl(){let n=mr();const i=Ft();return xi()?zi():(n=n.parent,zr(n,!1)),i.firstCreatePass&&(Ja(i,n),Yn(n)&&i.queries.elementEnd(n)),Vl}function fa(){return Be()}function pa(n){return!!n&&"function"==typeof n.then}function cd(n){return!!n&&"function"==typeof n.subscribe}const Mu=cd;function og(n,i,a,h){const p=Be(),_=Ft(),C=mr();return function Gf(n,i,a,h,p,_,C){const P=Xs(h),Y=n.firstCreatePass&&Su(n),ie=i[ur],be=Uh(i);let ze=!0;if(3&h.type||C){const ln=Li(h,i),Nn=C?C(ln):ln,Qn=be.length,Or=C?ai=>C(Fi(ai[h.index])):h.index;let Yt=null;if(!C&&P&&(Yt=function E_(n,i,a,h){const p=n.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===a&&p[_+1]===h){const P=i[Ei],B=p[_+2];return P.length>B?P[B]:null}"string"==typeof C&&(_+=2)}return null}(n,i,p,h.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=_,Yt.__ngLastListenerFn__=_,ze=!1;else{_=qh(h,i,ie,_,!1);const ai=a.listen(Nn,p,_);be.push(_,ai),Y&&Y.push(p,Or,Qn,Qn+1)}}else _=qh(h,i,ie,_,!1);const pt=h.outputs;let Ut;if(ze&&null!==pt&&(Ut=pt[p])){const ln=Ut.length;if(ln)for(let Nn=0;Nn<ln;Nn+=2){const Vo=i[Ut[Nn]][Ut[Nn+1]].subscribe(_),Ea=be.length;be.push(_,Vo),Y&&Y.push(p,h.index,Ea,-(Ea+1))}}}(_,p,p[Un],C,n,i,h),og}function ag(n,i,a,h){try{return vi(6,i,a),!1!==a(h)}catch(p){return wl(n,p),!1}finally{vi(7,i,a)}}function qh(n,i,a,h,p){return function _(C){if(C===Function)return h;Xu(n.componentOffset>-1?Ii(n.index,i):i);let B=ag(i,a,h,C),Y=_.__ngNextListenerFn__;for(;Y;)B=ag(i,a,Y,C)&&B,Y=Y.__ngNextListenerFn__;return p&&!1===B&&(C.preventDefault(),C.returnValue=!1),B}}function lg(n=1){return function Cl(n){return(Gn.lFrame.contextLView=function ll(n,i){for(;n>0;)i=i[ji],n--;return i}(n,Gn.lFrame.contextLView))[ur]}(n)}function ug(n,i){let a=null;const h=function Vd(n){const i=n.attrs;if(null!=i){const a=i.indexOf(5);if(!(1&a))return i[a+1]}return null}(n);for(let p=0;p<i.length;p++){const _=i[p];if("*"!==_){if(null===h?Jc(n,_,!0):em(h,_))return p}else a=p}return a}function nc(n){const i=Be()[Rr][di];if(!i.projection){const h=i.projection=M(n?n.length:1,null),p=h.slice();let _=i.child;for(;null!==_;){const C=n?ug(_,n):0;null!==C&&(p[C]?p[C].projectionNext=_:h[C]=_,p[C]=_),_=_.next}}}function Zh(n,i=0,a){const h=Be(),p=Ft(),_=Yu(p,Qr+n,16,null,a||null);null===_.projection&&(_.projection=i),zi(),32!=(32&_.flags)&&function qm(n,i,a){vu(i[Un],0,i,a,yn(n,a,i),Zl(a.parent||i[di],a,i))}(p,h,_)}function jf(n,i,a){return dd(n,"",i,"",a),jf}function dd(n,i,a,h,p){const _=Be(),C=St(_,i,a,h);return C!==kr&&Da(Ft(),Ui(),_,n,C,_[Un],p,!1),dd}function dg(n,i){return n<<17|i<<2}function ru(n){return n>>17&32767}function T_(n){return 2|n}function Xh(n){return(131068&n)>>2}function I_(n,i){return-131069&n|i<<2}function zf(n){return 1|n}function wm(n,i,a,h,p){const _=n[a+1],C=null===i;let P=h?ru(_):Xh(_),B=!1;for(;0!==P&&(!1===B||C);){const ie=n[P+1];S_(n[P],i)&&(B=!0,n[P+1]=h?zf(ie):T_(ie)),P=h?ru(ie):Xh(ie)}B&&(n[a+1]=h?T_(_):zf(_))}function S_(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&xt(n,i)>=0}const Bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dm(n){return n.substring(Bo.key,Bo.keyEnd)}function A_(n,i){const a=Bo.textEnd;return a===i?-1:(i=Bo.keyEnd=function Nv(n,i,a){for(;i<a&&n.charCodeAt(i)>32;)i++;return i}(n,Bo.key=i,a),ih(n,i,a))}function ih(n,i,a){for(;i<a&&n.charCodeAt(i)<=32;)i++;return i}function O_(n,i,a){return iu(n,i,a,!1),O_}function R_(n,i){return iu(n,i,null,!0),R_}function x_(n){Ou(Mc,rc,n,!0)}function rc(n,i){for(let a=function Em(n){return function ef(n){Bo.key=0,Bo.keyEnd=0,Bo.value=0,Bo.valueEnd=0,Bo.textEnd=n.length}(n),A_(n,ih(n,0,Bo.textEnd))}(i);a>=0;a=A_(i,a))ae(n,Dm(i),!0)}function iu(n,i,a,h){const p=Be(),_=Ft(),C=ws(2);_.firstUpdatePass&&k_(_,n,C,h),i!==kr&&$(p,C,i)&&Ay(_,_.data[Ti()],p,p[Un],n,p[C+1]=function F_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=de(Ql(n)))),n}(i,a),h,C)}function Ou(n,i,a,h){const p=Ft(),_=ws(2);p.firstUpdatePass&&k_(p,null,_,h);const C=Be();if(a!==kr&&$(C,_,a)){const P=p.data[Ti()];if(Ny(P,h)&&!P_(p,_)){let B=h?P.classesWithoutHost:P.stylesWithoutHost;null!==B&&(a=$e(B,a||"")),Gr(p,P,C,a,h)}else!function Sy(n,i,a,h,p,_,C,P){p===kr&&(p=Re);let B=0,Y=0,ie=0<p.length?p[0]:null,be=0<_.length?_[0]:null;for(;null!==ie||null!==be;){const ze=B<p.length?p[B+1]:void 0,pt=Y<_.length?_[Y+1]:void 0;let ln,Ut=null;ie===be?(B+=2,Y+=2,ze!==pt&&(Ut=be,ln=pt)):null===be||null!==ie&&ie<be?(B+=2,Ut=ie):(Y+=2,Ut=be,ln=pt),null!==Ut&&Ay(n,i,a,h,Ut,ln,C,P),ie=B<p.length?p[B]:null,be=Y<_.length?_[Y]:null}}(p,P,C,C[Un],C[_+1],C[_+1]=function no(n,i,a){if(null==a||""===a)return Re;const h=[],p=Ql(a);if(Array.isArray(p))for(let _=0;_<p.length;_++)n(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&n(h,_,p[_]);else"string"==typeof p&&i(h,p);return h}(n,i,a),h,_)}}function P_(n,i){return i>=n.expandoStartIndex}function k_(n,i,a,h){const p=n.data;if(null===p[a+1]){const _=p[Ti()],C=P_(n,a);Ny(_,h)&&null===i&&!C&&(i=!1),i=function Tm(n,i,a,h){const p=function Aa(n){const i=Gn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let _=h?i.residualClasses:i.residualStyles;if(null===p)0===(h?i.classBindings:i.styleBindings)&&(a=Wf(a=tf(null,n,i,a,h),i.attrs,h),_=null);else{const C=i.directiveStylingLast;if(-1===C||n[C]!==p)if(a=tf(p,n,i,a,h),null===_){let B=function ki(n,i,a){const h=a?i.classBindings:i.styleBindings;if(0!==Xh(h))return n[ru(h)]}(n,i,h);void 0!==B&&Array.isArray(B)&&(B=tf(null,n,i,B[1],h),B=Wf(B,i.attrs,h),function Iy(n,i,a,h){n[ru(a?i.classBindings:i.styleBindings)]=h}(n,i,h,B))}else _=function Cy(n,i,a){let h;const p=i.directiveEnd;for(let _=1+i.directiveStylingLast;_<p;_++)h=Wf(h,n[_].hostAttrs,a);return Wf(h,i.attrs,a)}(n,i,h)}return void 0!==_&&(h?i.residualClasses=_:i.residualStyles=_),a}(p,_,i,h),function C_(n,i,a,h,p,_){let C=_?i.classBindings:i.styleBindings,P=ru(C),B=Xh(C);n[h]=a;let ie,Y=!1;if(Array.isArray(a)?(ie=a[1],(null===ie||xt(a,ie)>0)&&(Y=!0)):ie=a,p)if(0!==B){const ze=ru(n[P+1]);n[h+1]=dg(ze,P),0!==ze&&(n[ze+1]=I_(n[ze+1],h)),n[P+1]=function bm(n,i){return 131071&n|i<<17}(n[P+1],h)}else n[h+1]=dg(P,0),0!==P&&(n[P+1]=I_(n[P+1],h)),P=h;else n[h+1]=dg(B,0),0===P?P=h:n[B+1]=I_(n[B+1],h),B=h;Y&&(n[h+1]=T_(n[h+1])),wm(n,ie,h,!0),wm(n,ie,h,!1),function by(n,i,a,h,p){const _=p?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof i&&xt(_,i)>=0&&(a[h+1]=zf(a[h+1]))}(i,ie,n,h,_),C=dg(P,B),_?i.classBindings=C:i.styleBindings=C}(p,_,i,a,C,h)}}function tf(n,i,a,h,p){let _=null;const C=a.directiveEnd;let P=a.directiveStylingLast;for(-1===P?P=a.directiveStart:P++;P<C&&(_=i[P],h=Wf(h,_.hostAttrs,p),_!==n);)P++;return null!==n&&(a.directiveStylingLast=P),h}function Wf(n,i,a){const h=a?1:2;let p=-1;if(null!==i)for(let _=0;_<i.length;_++){const C=i[_];"number"==typeof C?p=C:p===h&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ae(n,C,!!a||i[++_]))}return void 0===n?null:n}function Mc(n,i,a){const h=String(i);""!==h&&!h.includes(" ")&&ae(n,h,a)}function Ay(n,i,a,h,p,_,C,P){if(!(3&i.type))return;const B=n.data,Y=B[P+1],ie=function Av(n){return 1==(1&n)}(Y)?hg(B,i,a,p,Xh(Y),C):void 0;fg(ie)||(fg(_)||function _y(n){return 2==(2&n)}(Y)&&(_=hg(B,null,a,p,P,C)),function rl(n,i,a,h,p){if(i)p?n.addClass(a,h):n.removeClass(a,h);else{let _=-1===h.indexOf("-")?void 0:Po.DashCase;null==p?n.removeStyle(a,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Po.Important),n.setStyle(a,h,p,_))}}(h,C,jo(Ti(),a),p,_))}function hg(n,i,a,h,p,_){const C=null===i;let P;for(;p>0;){const B=n[p],Y=Array.isArray(B),ie=Y?B[1]:B,be=null===ie;let ze=a[p+1];ze===kr&&(ze=be?Re:void 0);let pt=be?We(ze,h):ie===h?ze:void 0;if(Y&&!fg(pt)&&(pt=We(B,h)),fg(pt)&&(P=pt,C))return P;const Ut=n[p+1];p=C?ru(Ut):Xh(Ut)}if(null!==i){let B=_?i.residualClasses:i.residualStyles;null!=B&&(P=We(B,h))}return P}function fg(n){return void 0!==n}function Ny(n,i){return 0!=(n.flags&(i?8:16))}function Im(n,i=""){const a=Be(),h=Ft(),p=n+Qr,_=h.firstCreatePass?Yu(h,p,1,i,null):h.data[p],C=a[p]=_l(a[Un],i);yu(h,a,C,_),zr(_,!1)}function L_(n){return Cm("",n,""),L_}function Cm(n,i,a){const h=Be(),p=St(h,n,i,a);return p!==kr&&function ec(n,i,a){const h=jo(i,n);Sd(n[Un],h,a)}(h,Ti(),p),Cm}function Ry(n,i,a,h,p){Ou(ae,rc,function Lt(n,i,a,h,p,_){const P=Q(n,ts(),a,p);return ws(2),P?i+me(a)+h+me(p)+_:kr}(Be(),n,i,a,h,p),!0)}function j_(n,i,a){const h=Be();return $(h,Fs(),i)&&Da(Ft(),Ui(),h,n,i,h[Un],a,!0),j_}const fd=void 0;var By=["en",[["a","p"],["AM","PM"],fd],[["AM","PM"],fd,fd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fd,"{1} 'at' {0}",fd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $_(n){const a=Math.floor(Math.abs(n)),h=n.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===h?1:5}];let Ru={};function Nm(n){const i=function Gy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let a=Vy(i);if(a)return a;const h=i.split("-")[0];if(a=Vy(h),a)return a;if("en"===h)return By;throw new qe(701,!1)}function qf(n){return Nm(n)[pr.PluralCase]}function Vy(n){return n in Ru||(Ru[n]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[n]),Ru[n]}var pr=(()=>((pr=pr||{})[pr.LocaleId=0]="LocaleId",pr[pr.DayPeriodsFormat=1]="DayPeriodsFormat",pr[pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",pr[pr.DaysFormat=3]="DaysFormat",pr[pr.DaysStandalone=4]="DaysStandalone",pr[pr.MonthsFormat=5]="MonthsFormat",pr[pr.MonthsStandalone=6]="MonthsStandalone",pr[pr.Eras=7]="Eras",pr[pr.FirstDayOfWeek=8]="FirstDayOfWeek",pr[pr.WeekendRange=9]="WeekendRange",pr[pr.DateFormat=10]="DateFormat",pr[pr.TimeFormat=11]="TimeFormat",pr[pr.DateTimeFormat=12]="DateTimeFormat",pr[pr.NumberSymbols=13]="NumberSymbols",pr[pr.NumberFormats=14]="NumberFormats",pr[pr.CurrencyCode=15]="CurrencyCode",pr[pr.CurrencySymbol=16]="CurrencySymbol",pr[pr.CurrencyName=17]="CurrencyName",pr[pr.Currencies=18]="Currencies",pr[pr.Directionality=19]="Directionality",pr[pr.PluralCase=20]="PluralCase",pr[pr.ExtraData=21]="ExtraData",pr))();const _g=["zero","one","two","few","many"],pd="en-US",Zf={marker:"element"},oh={marker:"ICU"};var Ts=(()=>((Ts=Ts||{})[Ts.SHIFT=2]="SHIFT",Ts[Ts.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ts[Ts.COMMENT=2]="COMMENT",Ts))();let $y=pd;function rf(n){(function mt(n,i){null==n&&bt(i,n,null,"!=")})(n,"Expected localeId to be defined"),"string"==typeof n&&($y=n.toLowerCase().replace(/_/g,"-"))}function zv(n,i,a){const h=i.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?Gc(n,0,a):Fi(a[p])}function Om(n,i,a,h,p){const _=i.insertBeforeIndex;if(Array.isArray(_)){let C=h,P=null;if(3&i.type||(P=C,C=p),null!==C&&-1===i.componentOffset)for(let B=1;B<_.length;B++)Mr(n,C,a[_[B]],P,!1)}}function Hy(n,i){if(n.push(i),n.length>1)for(let a=n.length-2;a>=0;a--){const h=n[a];yg(h)||Wv(h,i)&&null===Kv(h)&&Rm(h,i.index)}}function yg(n){return!(64&n.type)}function Wv(n,i){return yg(i)||n.index>i.index}function Kv(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function Rm(n,i){const a=n.insertBeforeIndex;Array.isArray(a)?a[0]=i:(jc(zv,Om),n.insertBeforeIndex=i)}function vg(n,i){const a=n.data[i];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function Zv(n,i,a){const h=Rh(n,a,64,null,null);return Hy(i,h),h}function Pm(n,i){const a=i[n.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function z_(n){return n>>>17}function W_(n){return(131070&n)>>>1}let Yf=0,Qf=0;function Qv(n,i,a,h){const p=a[Un];let C,_=null;for(let P=0;P<i.length;P++){const B=i[P];if("string"==typeof B){const Y=i[++P];null===a[Y]&&(a[Y]=_l(p,B))}else if("number"==typeof B)switch(1&B){case 0:const Y=z_(B);let ie,be;if(null===_&&(_=Y,C=Pl(p,h)),Y===_?(ie=h,be=C):(ie=null,be=Fi(a[Y])),null!==be){const ln=W_(B);Mr(p,be,a[ln],ie,!1);const Qn=vg(n,ln);if(null!==Qn&&"object"==typeof Qn){const Or=Pm(Qn,a);null!==Or&&Qv(n,Qn.create[Or],a,a[Qn.anchorIdx])}}break;case 1:const pt=i[++P],Ut=i[++P];Yp(p,jo(B>>>1,a),null,null,pt,Ut,null)}else switch(B){case oh:const Y=i[++P],ie=i[++P];null===a[ie]&&lt(a[ie]=ip(p,Y),a);break;case Zf:const be=i[++P],ze=i[++P];null===a[ze]&&lt(a[ze]=ph(p,be,null),a)}}}function Jv(n,i,a,h,p){for(let _=0;_<a.length;_++){const C=a[_],P=a[++_];if(C&p){let B="";for(let Y=_+1;Y<=_+P;Y++){const ie=a[Y];if("string"==typeof ie)B+=ie;else if("number"==typeof ie)if(ie<0)B+=me(i[h-ie]);else{const be=ie>>>2;switch(3&ie){case 1:const ze=a[++Y],pt=a[++Y],Ut=n.data[be];"string"==typeof Ut?Yp(i[Un],i[be],null,Ut,ze,B,pt):Da(n,Ut,i,ze,B,i[Un],pt,!1);break;case 0:const ln=i[be];null!==ln&&Sd(i[Un],ln,B);break;case 2:tb(n,vg(n,be),i,B);break;case 3:Wy(n,vg(n,be),h,i)}}}}else{const B=a[_+1];if(B>0&&3==(3&B)){const ie=vg(n,B>>>2);i[ie.currentCaseLViewIndex]<0&&Wy(n,ie,h,i)}}_+=P}}function Wy(n,i,a,h){let p=h[i.currentCaseLViewIndex];if(null!==p){let _=Yf;p<0&&(p=h[i.currentCaseLViewIndex]=~p,_=-1),Jv(n,h,i.update[p],a,_)}}function tb(n,i,a,h){const p=function sf(n,i){let a=n.cases.indexOf(i);if(-1===a)switch(n.type){case 1:{const h=function Hv(n,i){const a=qf(i)(parseInt(n,10)),h=_g[a];return void 0!==h?h:"other"}(i,function eb(){return $y}());a=n.cases.indexOf(h),-1===a&&"other"!==h&&(a=n.cases.indexOf("other"));break}case 0:a=n.cases.indexOf("other")}return-1===a?null:a}(i,h);if(Pm(i,a)!==p&&(Xv(n,i,a),a[i.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=a[i.anchorIdx];C&&Qv(n,i.create[p],a,C)}}function Xv(n,i,a){let h=Pm(i,a);if(null!==h){const p=i.remove[h];for(let _=0;_<p.length;_++){const C=p[_];if(C>0){const P=jo(C,a);null!==P&&zc(a[Un],P)}else Xv(n,vg(n,~C),a)}}}function gd(){const n=[];let a,h,i=-1;function _(P,B){i=0;const Y=Pm(P,B);h=null!==Y?P.remove[Y]:Re}function C(){if(i<h.length){const P=h[i++];return P>0?a[P]:(n.push(i,h),_(a[Jt].data[~P],a),C())}return 0===n.length?null:(h=n.pop(),i=n.pop(),C())}return function p(P,B){for(a=B;n.length;)n.pop();return _(P.value,B),C}}const ic=/\ufffd(\d+):?\d*\ufffd/gi,n0=/\ufffd(\d+)\ufffd/,qy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,bg="\ufffd",r0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Zy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Yy=/\uE500/g;function Jy(n,i,a,h,p,_,C){const P=Qu(n,h,1,null);let B=P<<Ts.SHIFT,Y=si();i===Y&&(Y=null),null===Y&&(B|=Ts.APPEND_EAGERLY),C&&(B|=Ts.COMMENT,function rp(n){void 0===za&&(za=n())}(gd)),p.push(B,null===_?"":_);const ie=Rh(n,P,C?32:1,null===_?"":_,null);Hy(a,ie);const be=ie.index;return zr(ie,!1),null!==Y&&i!==Y&&function xm(n,i){let a=n.insertBeforeIndex;null===a?(jc(zv,Om),a=n.insertBeforeIndex=[null,i]):(function Mt(n,i,a){n!=i&&bt(a,n,i,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(i))}(Y,be),ie}function Jf(n,i,a,h,p,_,C){const P=C.match(ic),B=Jy(n,i,a,_,h,P?null:C,!1);P&&Lm(p,C,B.index,null,0,null)}function Lm(n,i,a,h,p,_){const C=n.length,P=C+1;n.push(null,null);const B=C+2,Y=i.split(ic);let ie=0;for(let be=0;be<Y.length;be++){const ze=Y[be];if(1&be){const pt=p+parseInt(ze,10);n.push(-1-pt),ie|=Xy(pt)}else""!==ze&&n.push(ze)}return n.push(a<<2|(h?1:0)),h&&n.push(h,_),n[C]=ie,n[P]=n.length-B,ie}function Xy(n){return 1<<Math.min(n,31)}function ev(n){let i,_,a="",h=0,p=!1;for(;null!==(i=r0.exec(n));)p?i[0]===`${bg}/*${_}${bg}`&&(h=i.index,p=!1):(a+=n.substring(h,i.index+i[0].length),_=i[1],p=!0);return a+=n.slice(h),a}function u0(n,i,a,h,p,_){let C=0;const P={type:p.type,currentCaseLViewIndex:Qu(n,i,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function ob(n,i,a){n.push(Xy(i.mainBinding),2,-1-i.mainBinding,a<<2|2)})(a,p,_),function qv(n,i,a){const h=n.data[i];null===h?n.data[i]=a:h.value=a}(n,_,P);const B=p.values;for(let Y=0;Y<B.length;Y++){const ie=B[Y],be=[];for(let ze=0;ze<ie.length;ze++){const pt=ie[ze];if("string"!=typeof pt){const Ut=be.push(pt)-1;ie[ze]=`\x3c!--\ufffd${Ut}\ufffd--\x3e`}}C=sb(n,P,i,a,h,p.cases[Y],ie.join(""),be)|C}C&&function d0(n,i,a){n.push(i,1,a<<2|3)}(a,C,_)}function ib(n){const i=[],a=[];let h=1,p=0;const _=tv(n=n.replace(qy,function(C,P,B){return h="select"===B?0:1,p=parseInt(P.slice(1),10),""}));for(let C=0;C<_.length;){let P=_[C++].trim();1===h&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&i.push(P);const B=tv(_[C++]);i.length>a.length&&a.push(B)}return{type:h,mainBinding:p,cases:i,values:a}}function tv(n){if(!n)return[];let i=0;const a=[],h=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(n);){const P=_.index;if("}"==_[0]){if(a.pop(),0==a.length){const B=n.substring(i,P);qy.test(B)?h.push(ib(B)):h.push(B),i=P+1}}else{if(0==a.length){const B=n.substring(i,P);h.push(B),i=P+1}a.push("{")}}const C=n.substring(i);return h.push(C),h}function sb(n,i,a,h,p,_,C,P){const B=[],Y=[],ie=[];i.cases.push(_),i.create.push(B),i.remove.push(Y),i.update.push(ie);const ze=gf(function ap(){return void 0!==_h?_h:typeof document<"u"?document:void 0}()).getInertBodyElement(C),pt=yf(ze)||ze;return pt?nv(n,i,a,h,B,Y,ie,pt,p,P,0):0}function nv(n,i,a,h,p,_,C,P,B,Y,ie){let be=0,ze=P.firstChild;for(;ze;){const pt=Qu(n,a,1,null);switch(ze.nodeType){case Node.ELEMENT_NODE:const Ut=ze,ln=Ut.tagName.toLowerCase();if(Rd.hasOwnProperty(ln)){Bm(p,Zf,ln,B,pt),n.data[pt]=ln;const Yt=Ut.attributes;for(let ai=0;ai<Yt.length;ai++){const Vo=Yt.item(ai),Ea=Vo.name.toLowerCase();Vo.value.match(ic)?Oi.hasOwnProperty(Ea)&&Lm(C,Vo.value,pt,Vo.name,0,gp[Ea]?vc:null):ah(p,pt,Vo)}be=nv(n,i,a,h,p,_,C,ze,pt,Y,ie+1)|be,rv(_,pt,ie)}break;case Node.TEXT_NODE:const Nn=ze.textContent||"",Qn=Nn.match(ic);Bm(p,null,Qn?"":Nn,B,pt),rv(_,pt,ie),Qn&&(be=Lm(C,Nn,pt,null,0,null)|be);break;case Node.COMMENT_NODE:const Or=n0.exec(ze.textContent||"");if(Or){const ai=Y[parseInt(Or[1],10)];Bm(p,oh,"",B,pt),u0(n,a,h,B,ai,pt),c0(_,pt,ie)}}ze=ze.nextSibling}return be}function rv(n,i,a){0===a&&n.push(i)}function c0(n,i,a){0===a&&(n.push(~i),n.push(i))}function Bm(n,i,a,h,p){null!==i&&n.push(i),n.push(a,p,function zy(n,i,a){return n|i<<17|a<<1}(0,h,p))}function ah(n,i,a){n.push(i<<1|1,a.name,a.value)}function Y_(n,i,a=-1){const h=Ft(),p=Be(),_=Qr+n,C=js(h.consts,i),P=si();h.firstCreatePass&&function Qy(n,i,a,h,p,_){const C=si(),P=[],B=[],Y=[[]];p=function l0(n,i){if(function a0(n){return-1===n}(i))return ev(n);{const a=n.indexOf(`:${i}${bg}`)+2+i.toString().length,h=n.search(new RegExp(`${bg}\\/\\*\\d+:${i}${bg}`));return ev(n.substring(a,h))}}(p,_);const ie=function s0(n){return n.replace(Yy," ")}(p).split(Zy);for(let be=0;be<ie.length;be++){let ze=ie[be];if(1&be){const pt=47===ze.charCodeAt(0),ln=(ze.charCodeAt(pt?1:0),Qr+Number.parseInt(ze.substring(pt?2:1)));if(pt)Y.shift(),zr(si(),!1);else{const Nn=Zv(n,Y[0],ln);Y.unshift([]),zr(Nn,!0)}}else{const pt=tv(ze);for(let Ut=0;Ut<pt.length;Ut++){let ln=pt[Ut];if(1&Ut){const Nn=ln;if("object"!=typeof Nn)throw new Error(`Unable to parse ICU expression in "${p}" message.`);u0(n,a,B,i,Nn,Jy(n,C,Y[0],a,P,"",!0).index)}else""!==ln&&Jf(n,C,Y[0],P,B,a,ln)}}}n.data[h]={create:P,update:B}}(h,null===P?0:P.index,p,_,C,a);const B=h.data[_],ie=zn(h,P===p[di]?null:P,p);(function Yv(n,i,a,h){const p=n[Un];for(let _=0;_<i.length;_++){const C=i[_++],P=i[_],Y=(C&Ts.APPEND_EAGERLY)===Ts.APPEND_EAGERLY,ie=C>>>Ts.SHIFT;let be=n[ie];null===be&&(be=n[ie]=(C&Ts.COMMENT)===Ts.COMMENT?p.createComment(P):_l(p,P)),Y&&null!==a&&Mr(p,a,be,h,!1)}})(p,B.create,ie,P&&8&P.type?p[P.index]:null),va(!0)}function ov(n,i,a){Y_(n,i,a),function sv(){va(!1)}()}function Um(n){return function q_(n){n&&(Yf|=1<<Math.min(Qf,31)),Qf++}($(Be(),Fs(),n)),Um}function J_(n){!function km(n,i,a){if(Qf>0){const h=n.data[a];Jv(n,i,Array.isArray(h)?h:h.update,ts()-Qf-1,Yf)}Yf=0,Qf=0}(Ft(),Be(),n+Qr)}function ey(n,i,a,h,p){if(n=Ne(n),Array.isArray(n))for(let _=0;_<n.length;_++)ey(n[_],i,a,h,p);else{const _=Ft(),C=Be();let P=Dc(n)?n:Ne(n.provide),B=Vg(n);const Y=mr(),ie=1048575&Y.providerIndexes,be=Y.directiveStart,ze=Y.providerIndexes>>20;if(Dc(n)||!n.multi){const pt=new we(B,p,Sc),Ut=Xf(P,i,p?ie:ie+ze,be);-1===Ut?(gn($t(Y,C),_,P),ty(_,n,i.length),i.push(P),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),a.push(pt),C.push(pt)):(a[Ut]=pt,C[Ut]=pt)}else{const pt=Xf(P,i,ie+ze,be),Ut=Xf(P,i,ie,ie+ze),Nn=Ut>=0&&a[Ut];if(p&&!Nn||!p&&!(pt>=0&&a[pt])){gn($t(Y,C),_,P);const Qn=function lf(n,i,a,h,p){const _=new we(n,a,Sc);return _.multi=[],_.index=i,_.componentProviders=0,ny(_,p,h&&!a),_}(p?av:y0,a.length,p,h,B);!p&&Nn&&(a[Ut].providerFactory=Qn),ty(_,n,i.length,0),i.push(P),Y.directiveStart++,Y.directiveEnd++,p&&(Y.providerIndexes+=1048576),a.push(Qn),C.push(Qn)}else ty(_,n,pt>-1?pt:Ut,ny(a[p?Ut:pt],B,!p&&h));!p&&h&&Nn&&a[Ut].componentProviders++}}}function ty(n,i,a,h){const p=Dc(i),_=function Rs(n){return!!n.useClass}(i);if(p||_){const B=(_?Ne(i.useClass):i).prototype.ngOnDestroy;if(B){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!p&&i.multi){const ie=Y.indexOf(a);-1===ie?Y.push(a,[h,B]):Y[ie+1].push(h,B)}else Y.push(a,B)}}}function ny(n,i,a){return a&&n.componentProviders++,n.multi.push(i)-1}function Xf(n,i,a,h){for(let p=a;p<h;p++)if(i[p]===n)return p;return-1}function y0(n,i,a,h){return Vm(this.multi,[])}function av(n,i,a,h){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,P=Wi(a,a[Jt],this.providerFactory.index,h);_=P.slice(0,C),Vm(p,_);for(let B=C;B<P.length;B++)_.push(P[B])}else _=[],Vm(p,_);return _}function Vm(n,i){for(let a=0;a<n.length;a++)i.push((0,n[a])());return i}function su(n,i=[]){return a=>{a.providersResolver=(h,p)=>function X_(n,i,a){const h=Ft();if(h.firstCreatePass){const p=Jr(n);ey(a,h.data,h.blueprint,p,!0),ey(i,h.data,h.blueprint,p,!1)}}(h,p?p(n):n,i)}}class ga{}class ry{}function lv(n,i){return new ep(n,i??null)}class ep extends ga{constructor(i,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ad(this);const h=Ri(i);this._bootstrapComponents=Eu(h.bootstrap),this._r3Injector=Bl(i,a,[{provide:ga,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],de(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Za extends ry{constructor(i){super(),this.moduleType=i}create(i){return new ep(this.moduleType,i)}}class v0 extends ga{constructor(i,a,h){super(),this.componentFactoryResolver=new ad(this),this.instance=null;const p=new Cp([...i,{provide:ga,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],a||Dh(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Dg(n,i,a=null){return new v0(n,i,a).injector}let tp=(()=>{class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const h=Dp(0,a.type),p=h.length>0?Dg([h],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,p)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=qt({token:n,providedIn:"environment",factory:()=>new n(Bn(Hu))}),n})();function lh(n){n.getStandaloneInjector=i=>i.get(tp).getOrCreateStandaloneInjector(n)}function oy(n,i,a,h){return mv(Be(),Ir(),n,i,a,h)}function ay(n,i,a,h,p){return function _v(n,i,a,h,p,_,C){const P=i+a;return Q(n,P,p,_)?v(n,P+2,C?h.call(C,p,_):h(p,_)):Hm(n,P+2)}(Be(),Ir(),n,i,a,h,p)}function pv(n,i,a,h,p,_){return function r(n,i,a,h,p,_,C,P){const B=i+a;return function re(n,i,a,h,p){const _=Q(n,i,a,h);return $(n,i+2,p)||_}(n,B,p,_,C)?v(n,B+3,P?h.call(P,p,_,C):h(p,_,C)):Hm(n,B+3)}(Be(),Ir(),n,i,a,h,p,_)}function Hm(n,i){const a=n[i];return a===kr?void 0:a}function mv(n,i,a,h,p,_){const C=i+a;return $(n,C,p)?v(n,C+1,_?h.call(_,p):h(p)):Hm(n,C+1)}function s(n,i){const a=Ft();let h;const p=n+Qr;a.firstCreatePass?(h=function u(n,i){if(i)for(let a=i.length-1;a>=0;a--){const h=i[a];if(n===h.name)return h}}(i,a.pipeRegistry),a.data[p]=h,h.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(p,h.onDestroy)):h=a.data[p];const _=h.factory||(h.factory=_s(h.type)),C=Pn(Sc);try{const P=Ro(!1),B=_();return Ro(P),function In(n,i,a,h){a>=n.data.length&&(n.data[a]=null,n.blueprint[a]=null),i[a]=h}(a,Be(),p,B),B}finally{Pn(C)}}function y(n,i,a){const h=n+Qr,p=Be(),_=Hi(p,h);return function Ce(n,i){return n[Jt].data[i].pure}(p,h)?mv(p,Ir(),i,_.transform,a,_):_.transform(a)}function Nt(n){return i=>{setTimeout(n,void 0,i)}}const Zt=class dt extends b.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,a,h){let p=i,_=a||(()=>null),C=h;if(i&&"object"==typeof i){const B=i;p=B.next?.bind(B),_=B.error?.bind(B),C=B.complete?.bind(B)}this.__isAsync&&(_=Nt(_),p&&(p=Nt(p)),C&&(C=Nt(C)));const P=super.subscribe({next:p,error:_,complete:C});return i instanceof z.w0&&i.add(P),P}};function Cn(){return this._results[Symbol.iterator]()}class An{get changes(){return this._changes||(this._changes=new Zt)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=An.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Cn)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,a){return this._results.reduce(i,a)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,a){const h=this;h.dirty=!1;const p=function $s(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Eo(n,i,a){if(n.length!==i.length)return!1;for(let h=0;h<n.length;h++){let p=n[h],_=i[h];if(a&&(p=a(p),_=a(_)),_!==p)return!1}return!0}(h._results,p,a))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=Io,n})();const Vi=Lr,ti=class extends Vi{constructor(i,a,h){super(),this._declarationLView=i,this._declarationTContainer=a,this.elementRef=h}createEmbeddedView(i,a){const h=this._declarationTContainer.tView,p=Cu(this._declarationLView,h,i,16,null,h.declTNode,null,null,null,null,a||null);p[po]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[Xi];return null!==C&&(p[Xi]=C.createEmbeddedView(h)),zp(h,p,i),new od(p)}};function Io(){return Is(mr(),Be())}function Is(n,i){return 4&n.type?new ti(i,n,Fl(n,i)):null}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=il,n})();function il(){return fb(mr(),Be())}const uf=ps,ly=class extends uf{constructor(i,a,h){super(),this._lContainer=i,this._hostTNode=a,this._hostLView=h}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const i=Xr(this._hostTNode,this._hostLView);if(Ds(i)){const a=Ko(i,this._hostLView),h=Ls(i);return new oa(a[Jt].data[h+8],a)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const a=hb(this._lContainer);return null!==a&&a[i]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(i,a,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const C=i.createEmbeddedView(a||{},_);return this.insert(C,p),C}createComponent(i,a,h,p,_){const C=i&&!function ss(n){return"function"==typeof n}(i);let P;if(C)P=a;else{const be=a||{};P=be.index,h=be.injector,p=be.projectableNodes,_=be.environmentInjector||be.ngModuleRef}const B=C?i:new $h(wn(i)),Y=h||this.parentInjector;if(!_&&null==B.ngModule){const ze=(C?Y:this.parentInjector).get(Hu,null);ze&&(_=ze)}const ie=B.create(Y,p,void 0,_);return this.insert(ie.hostView,P),ie}insert(i,a){const h=i._lView,p=h[Jt];if(function Ho(n){return ir(n[yi])}(h)){const ie=this.indexOf(i);if(-1!==ie)this.detach(ie);else{const be=h[yi],ze=new ly(be,be[di],be[yi]);ze.detach(ze.indexOf(i))}}const _=this._adjustIndex(a),C=this._lContainer;!function m(n,i,a,h){const p=kt+h,_=a.length;h>0&&(a[p-1][Er]=i),h<_-kt?(i[Er]=a[p],Ml(a,kt+h,i)):(a.push(i),i[Er]=null),i[yi]=a;const C=i[po];null!==C&&a!==C&&function w(n,i){const a=n[Tt];i[Rr]!==i[yi][yi][Rr]&&(n[je]=!0),null===a?n[Tt]=[i]:a.push(i)}(C,i);const P=i[Xi];null!==P&&P.insertView(n),i[Zn]|=64}(p,h,C,_);const P=Hc(_,C),B=h[Un],Y=Pl(B,C[Fe]);return null!==Y&&function Ig(n,i,a,h,p,_){h[Nr]=p,h[di]=i,Nd(n,h,a,1,p,_)}(p,C[di],B,h,Y,P),i.attachToViewContainerRef(),Ml(A0(C),_,i),i}move(i,a){return this.insert(i,a)}indexOf(i){const a=hb(this._lContainer);return null!==a?a.indexOf(i):-1}remove(i){const a=this._adjustIndex(i,-1),h=J(this._lContainer,a);h&&(A(A0(this._lContainer),a),ue(h[Jt],h))}detach(i){const a=this._adjustIndex(i,-1),h=J(this._lContainer,a);return h&&null!=A(A0(this._lContainer),a)?new od(h):null}_adjustIndex(i,a=0){return i??this.length+a}};function hb(n){return n[nt]}function A0(n){return n[nt]||(n[nt]=[])}function fb(n,i){let a;const h=i[n.index];if(ir(h))a=h;else{let p;if(8&n.type)p=Fi(h);else{const _=i[Un];p=_.createComment("");const C=Li(n,i);Mr(_,Pl(_,C),p,function Ad(n,i){return n.nextSibling(i)}(_,C),!1)}i[n.index]=a=Qp(h,i,p,n),Qd(i,a)}return new ly(a,n,i)}class N0{constructor(i){this.queryList=i,this.matches=null}clone(){return new N0(this.queryList)}setDirty(){this.queryList.setDirty()}}class M0{constructor(i=[]){this.queries=i}createEmbeddedView(i){const a=i.queries;if(null!==a){const h=null!==i.contentQueries?i.contentQueries[0]:a.length,p=[];for(let _=0;_<h;_++){const C=a.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new M0(p)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let a=0;a<this.queries.length;a++)null!==Db(i,a).matches&&this.queries[a].setDirty()}}class pb{constructor(i,a,h=null){this.predicate=i,this.flags=a,this.read=h}}class O0{constructor(i=[]){this.queries=i}elementStart(i,a){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(i,a)}elementEnd(i){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(i)}embeddedTView(i){let a=null;for(let h=0;h<this.length;h++){const p=null!==a?a.length:0,_=this.getByIndex(h).embeddedTView(i,p);_&&(_.indexInDeclarationView=h,null!==a?a.push(_):a=[_])}return null!==a?new O0(a):null}template(i,a){for(let h=0;h<this.queries.length;h++)this.queries[h].template(i,a)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class R0{constructor(i,a=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(i,a){this.isApplyingToNode(a)&&this.matchTNode(i,a)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,a){this.elementStart(i,a)}embeddedTView(i,a){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,a),new R0(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let h=i.parent;for(;null!==h&&8&h.type&&h.index!==a;)h=h.parent;return a===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(i,a){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(i,a,yw(a,_)),this.matchTNodeWithReadOption(i,a,ul(a,i,_,!1,!1))}else h===Lr?4&a.type&&this.matchTNodeWithReadOption(i,a,-1):this.matchTNodeWithReadOption(i,a,ul(a,i,h,!1,!1))}matchTNodeWithReadOption(i,a,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===zu||p===ps||p===Lr&&4&a.type)this.addMatch(a.index,-2);else{const _=ul(a,i,p,!1,!1);null!==_&&this.addMatch(a.index,_)}else this.addMatch(a.index,h)}}addMatch(i,a){null===this.matches?this.matches=[i,a]:this.matches.push(i,a)}}function yw(n,i){const a=n.localNames;if(null!==a)for(let h=0;h<a.length;h+=2)if(a[h]===i)return a[h+1];return null}function bw(n,i,a,h){return-1===a?function vw(n,i){return 11&n.type?Fl(n,i):4&n.type?Is(n,i):null}(i,n):-2===a?function ww(n,i,a){return a===zu?Fl(i,n):a===Lr?Is(i,n):a===ps?fb(i,n):void 0}(n,i,h):Wi(n,n[Jt],a,i)}function gb(n,i,a,h){const p=i[Xi].queries[h];if(null===p.matches){const _=n.data,C=a.matches,P=[];for(let B=0;B<C.length;B+=2){const Y=C[B];P.push(Y<0?null:bw(i,_[Y],C[B+1],a.metadata.read))}p.matches=P}return p.matches}function x0(n,i,a,h){const p=n.queries.getByIndex(a),_=p.matches;if(null!==_){const C=gb(n,i,p,a);for(let P=0;P<_.length;P+=2){const B=_[P];if(B>0)h.push(C[P/2]);else{const Y=_[P+1],ie=i[-B];for(let be=kt;be<ie.length;be++){const ze=ie[be];ze[po]===ze[yi]&&x0(ze[Jt],ze,Y,h)}if(null!==ie[Tt]){const be=ie[Tt];for(let ze=0;ze<be.length;ze++){const pt=be[ze];x0(pt[Jt],pt,Y,h)}}}}}return h}function mb(n){const i=Be(),a=Ft(),h=Na();al(h+1);const p=Db(a,h);if(n.dirty&&function _a(n){return 4==(4&n[Zn])}(i)===(2==(2&p.metadata.flags))){if(null===p.matches)n.reset([]);else{const _=p.crossesNgTemplate?x0(a,i,h,[]):gb(a,i,p,h);n.reset(_,zg),n.notifyOnChanges()}return!0}return!1}function _b(n,i,a){const h=Ft();h.firstCreatePass&&(wb(h,new pb(n,i,a),-1),2==(2&i)&&(h.staticViewQueries=!0)),bb(h,Be(),i)}function yb(n,i,a,h){const p=Ft();if(p.firstCreatePass){const _=mr();wb(p,new pb(i,a,h),_.index),function Ew(n,i){const a=n.contentQueries||(n.contentQueries=[]);i!==(a.length?a[a.length-1]:-1)&&a.push(n.queries.length-1,i)}(p,n),2==(2&a)&&(p.staticContentQueries=!0)}bb(p,Be(),a)}function vb(){return function Dw(n,i){return n[Xi].queries[i].queryList}(Be(),Na())}function bb(n,i,a){const h=new An(4==(4&a));sm(n,i,h,h.destroy),null===i[Xi]&&(i[Xi]=new M0),i[Xi].queries.push(new N0(h))}function wb(n,i,a){null===n.queries&&(n.queries=new O0),n.queries.track(new R0(i,a))}function Db(n,i){return n.queries.getByIndex(i)}function Eb(n,i){return Is(n,i)}function P0(n){return!!Ri(n)}function vv(...n){}const Gb=new Gt("Application Initializer");let bv=(()=>{class n{constructor(a){this.appInits=a,this.resolve=vv,this.reject=vv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(pa(_))a.push(_);else if(Mu(_)){const C=new Promise((P,B)=>{_.subscribe({complete:P,error:B})});a.push(C)}}Promise.all(a).then(()=>{h()}).catch(p=>{this.reject(p)}),0===a.length&&h(),this.initialized=!0}}return n.\u0275fac=function(a){return new(a||n)(Bn(Gb,8))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jb=new Gt("AppId",{providedIn:"root",factory:function $b(){return`${U0()}${U0()}${U0()}`}});function U0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hb=new Gt("Platform Initializer"),$w=new Gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hw=new Gt("AnimationModuleType");let zw=(()=>{class n{log(a){console.log(a)}warn(a){console.warn(a)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wv=new Gt("LocaleId",{providedIn:"root",factory:()=>Sr(wv,Ue.Optional|Ue.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||pd}()}),Kw=new Gt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qw{constructor(i,a){this.ngModuleFactory=i,this.componentFactories=a}}let Zw=(()=>{class n{compileModuleSync(a){return new Za(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const h=this.compileModuleSync(a),_=Eu(Ri(a).declarations).reduce((C,P)=>{const B=wn(P);return B&&C.push(new $h(B)),C},[]);return new qw(h,_)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jw=(()=>Promise.resolve(0))();function V0(n){typeof Zone>"u"?Jw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Rc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zt(!1),this.onMicrotaskEmpty=new Zt(!1),this.onStable=new Zt(!1),this.onError=new Zt(!1),typeof Zone>"u")throw new qe(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&a,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function Xw(){let n=_n.requestAnimationFrame,i=_n.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const h=i[Zone.__symbol__("OriginalDelegate")];h&&(i=h)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nD(n){const i=()=>{!function tD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(_n,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,j0(n),n.isCheckStableRunning=!0,G0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),j0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,h,p,_,C,P)=>{try{return Kb(n),a.invokeTask(p,_,C,P)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&i(),qb(n)}},onInvoke:(a,h,p,_,C,P,B)=>{try{return Kb(n),a.invoke(p,_,C,P,B)}finally{n.shouldCoalesceRunChangeDetection&&i(),qb(n)}},onHasTask:(a,h,p,_)=>{a.hasTask(p,_),h===p&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,j0(n),G0(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(a,h,p,_)=>(a.handleError(p,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rc.isInAngularZone())throw new qe(909,!1)}static assertNotInAngularZone(){if(Rc.isInAngularZone())throw new qe(909,!1)}run(i,a,h){return this._inner.run(i,a,h)}runTask(i,a,h,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,i,eD,vv,vv);try{return _.runTask(C,a,h)}finally{_.cancelTask(C)}}runGuarded(i,a,h){return this._inner.runGuarded(i,a,h)}runOutsideAngular(i){return this._outer.run(i)}}const eD={};function G0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function j0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Kb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qb(n){n._nesting--,G0(n)}class rD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zt,this.onMicrotaskEmpty=new Zt,this.onStable=new Zt,this.onError=new Zt}run(i,a,h){return i.apply(a,h)}runGuarded(i,a,h){return i.apply(a,h)}runOutsideAngular(i){return i()}runTask(i,a,h,p){return i.apply(a,h)}}const Zb=new Gt(""),Yb=new Gt("");let $0,iD=(()=>{class n{constructor(a,h,p){this._ngZone=a,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$0||(function sD(n){$0=n}(p),p.addToWindow(h)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rc.assertNotInAngularZone(),V0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())V0(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(a)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),a(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:a,timeoutId:_,updateCb:p})}whenStable(a,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,h,p){return[]}}return n.\u0275fac=function(a){return new(a||n)(Bn(Rc),Bn(Qb),Bn(Yb))},n.\u0275prov=qt({token:n,factory:n.\u0275fac}),n})(),Qb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(a,h){this._applications.set(a,h)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,h=!0){return $0?.findTestabilityInTree(this,a,h)??null}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cf=!1;let np=null;const Jb=new Gt("AllowMultipleToken"),H0=new Gt("PlatformDestroyListeners"),Xb=new Gt("appBootstrapListener");class lD{constructor(i,a){this.name=i,this.token=a}}function tw(n,i,a=[]){const h=`Platform: ${i}`,p=new Gt(h);return(_=[])=>{let C=z0();if(!C||C.injector.get(Jb,!1)){const P=[...a,..._,{provide:p,useValue:!0}];n?n(P):function uD(n){if(np&&!np.get(Jb,!1))throw new qe(400,!1);np=n;const i=n.get(rw);(function ew(n){const i=n.get(Hb,null);i&&i.forEach(a=>a())})(n)}(function nw(n=[],i){return bl.create({name:i,providers:[{provide:Bg,useValue:"platform"},{provide:H0,useValue:new Set([()=>np=null])},...n]})}(P,h))}return function dD(n){const i=z0();if(!i)throw new qe(401,!1);return i}()}}function z0(){return np?.get(rw)??null}let rw=(()=>{class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,h){const p=function sw(n,i){let a;return a="noop"===n?new rD:("zone.js"===n?void 0:n)||new Rc(i),a}(h?.ngZone,function iw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Rc,useValue:p}];return p.run(()=>{const C=bl.create({providers:_,parent:this.injector,name:a.moduleType.name}),P=a.create(C),B=P.injector.get(Eh,null);if(!B)throw new qe(402,!1);return p.runOutsideAngular(()=>{const Y=p.onError.subscribe({next:ie=>{B.handleError(ie)}});P.onDestroy(()=>{Ev(this._modules,P),Y.unsubscribe()})}),function ow(n,i,a){try{const h=a();return pa(h)?h.catch(p=>{throw i.runOutsideAngular(()=>n.handleError(p)),p}):h}catch(h){throw i.runOutsideAngular(()=>n.handleError(h)),h}}(B,p,()=>{const Y=P.injector.get(bv);return Y.runInitializers(),Y.donePromise.then(()=>(rf(P.injector.get(wv,pd)||pd),this._moduleDoBootstrap(P),P))})})}bootstrapModule(a,h=[]){const p=aw({},h);return function oD(n,i,a){const h=new Za(a);return Promise.resolve(h)}(0,0,a).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(a){const h=a.injector.get(Dv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new qe(-403,!1);a.instance.ngDoBootstrap(h)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const a=this._injector.get(H0,null);a&&(a.forEach(h=>h()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(a){return new(a||n)(Bn(bl))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function aw(n,i){return Array.isArray(i)?i.reduce(aw,n):{...n,...i}}let Dv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,h,p){this._zone=a,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new W.y(P=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{P.next(this._stable),P.complete()})}),C=new W.y(P=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Rc.assertNotInAngularZone(),V0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,P.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{Rc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{P.next(!1)}))});return()=>{B.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,f.T)(_,C.pipe((0,De.B)()))}bootstrap(a,h){const p=a instanceof wu;if(!this._injector.get(bv).done){!p&&_i(a);throw new qe(405,cf)}let C;C=p?a:this._injector.get(Jl).resolveComponentFactory(a),this.componentTypes.push(C.componentType);const P=function aD(n){return n.isBoundToModule}(C)?void 0:this._injector.get(ga),Y=C.create(bl.NULL,[],h||C.selector,P),ie=Y.location.nativeElement,be=Y.injector.get(Zb,null);return be?.registerApplication(ie),Y.onDestroy(()=>{this.detachView(Y.hostView),Ev(this.components,Y),be?.unregisterApplication(ie)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new qe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const h=a;this._views.push(h),h.attachToAppRef(this)}detachView(a){const h=a;Ev(this._views,h),h.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const h=this._injector.get(Xb,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ev(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new qe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(a){return new(a||n)(Bn(Rc),Bn(Hu),Bn(Eh))},n.\u0275prov=qt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ev(n,i){const a=n.indexOf(i);a>-1&&n.splice(a,1)}function fD(){return!1}let pD=(()=>{class n{}return n.__NG_ELEMENT_ID__=gD,n})();function gD(n){return function mD(n,i,a){if(es(n)&&!a){const h=Ii(n.index,i);return new od(h,h)}return 47&n.type?new od(i[Rr],i):null}(mr(),Be(),16==(16&n))}class hw{constructor(){}supports(i){return rh(i)}create(i){return new DD(i)}}const wD=(n,i)=>i;class DD{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wD}forEachItem(i){let a;for(a=this._itHead;null!==a;a=a._next)i(a)}forEachOperation(i){let a=this._itHead,h=this._removalsHead,p=0,_=null;for(;a||h;){const C=!h||a&&a.currentIndex<pw(h,p,_)?a:h,P=pw(C,p,_),B=C.currentIndex;if(C===h)p--,h=h._nextRemoved;else if(a=a._next,null==C.previousIndex)p++;else{_||(_=[]);const Y=P-p,ie=B-p;if(Y!=ie){for(let ze=0;ze<Y;ze++){const pt=ze<_.length?_[ze]:_[ze]=0,Ut=pt+ze;ie<=Ut&&Ut<Y&&(_[ze]=pt+1)}_[C.previousIndex]=ie-Y}}P!==B&&i(C,P,B)}}forEachPreviousItem(i){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachMovedItem(i){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}forEachIdentityChange(i){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)i(a)}diff(i){if(null==i&&(i=[]),!rh(i))throw new qe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let p,_,C,a=this._itHead,h=!1;if(Array.isArray(i)){this.length=i.length;for(let P=0;P<this.length;P++)_=i[P],C=this._trackByFn(P,_),null!==a&&Object.is(a.trackById,C)?(h&&(a=this._verifyReinsertion(a,_,C,P)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,C,P),h=!0),a=a._next}else p=0,function c(n,i){if(Array.isArray(n))for(let a=0;a<n.length;a++)i(n[a]);else{const a=n[Symbol.iterator]();let h;for(;!(h=a.next()).done;)i(h.value)}}(i,P=>{C=this._trackByFn(p,P),null!==a&&Object.is(a.trackById,C)?(h&&(a=this._verifyReinsertion(a,P,C,p)),Object.is(a.item,P)||this._addIdentityChange(a,P)):(a=this._mismatch(a,P,C,p),h=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,a,h,p){let _;return null===i?_=this._itTail:(_=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._reinsertAfter(i,_,p)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(i.item,a)||this._addIdentityChange(i,a),this._moveAfter(i,_,p)):i=this._addAfter(new ED(a,h),_,p),i}_verifyReinsertion(i,a,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?i=this._reinsertAfter(_,i._prev,p):i.currentIndex!=p&&(i.currentIndex=p,this._addToMoves(i,p)),i}_truncate(i){for(;null!==i;){const a=i._next;this._addToRemovals(this._unlink(i)),i=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,a,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const p=i._prevRemoved,_=i._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(i,a,h),this._addToMoves(i,h),i}_moveAfter(i,a,h){return this._unlink(i),this._insertAfter(i,a,h),this._addToMoves(i,h),i}_addAfter(i,a,h){return this._insertAfter(i,a,h),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,a,h){const p=null===a?this._itHead:a._next;return i._next=p,i._prev=a,null===p?this._itTail=i:p._prev=i,null===a?this._itHead=i:a._next=i,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(i),i.currentIndex=h,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const a=i._prev,h=i._next;return null===a?this._itHead=h:a._next=h,null===h?this._itTail=a:h._prev=a,i}_addToMoves(i,a){return i.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,a){return i.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class ED{constructor(i,a){this.item=i,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TD{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,a){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===a||a<=h.currentIndex)&&Object.is(h.trackById,i))return h;return null}remove(i){const a=i._prevDup,h=i._nextDup;return null===a?this._head=h:a._nextDup=h,null===h?this._tail=a:h._prevDup=a,null===this._head}}class fw{constructor(){this.map=new Map}put(i){const a=i.trackById;let h=this.map.get(a);h||(h=new TD,this.map.set(a,h)),h.add(i)}get(i,a){const p=this.map.get(i);return p?p.get(i,a):null}remove(i){const a=i.trackById;return this.map.get(a).remove(i)&&this.map.delete(a),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(n,i,a){const h=n.previousIndex;if(null===h)return h;let p=0;return a&&h<a.length&&(p=a[h]),h+i+p}class gw{constructor(){}supports(i){return i instanceof Map||o(i)}create(){return new ID}}class ID{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let a;for(a=this._mapHead;null!==a;a=a._next)i(a)}forEachPreviousItem(i){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)i(a)}forEachChangedItem(i){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)i(a)}forEachAddedItem(i){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)i(a)}forEachRemovedItem(i){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)i(a)}diff(i){if(i){if(!(i instanceof Map||o(i)))throw new qe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(i,(h,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,h),this._appendAfter=a,a=a._next;else{const _=this._getOrCreateRecordForKey(p,h);a=this._insertBeforeOrAppend(a,_)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let h=a;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,a){if(i){const h=i._prev;return a._next=i,a._prev=h,i._prev=a,h&&(h._next=a),i===this._mapHead&&(this._mapHead=a),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(i,a){if(this._records.has(i)){const p=this._records.get(i);this._maybeAddToChanges(p,a);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const h=new CD(i);return this._records.set(i,h),h.currentValue=a,this._addToAdditions(h),h}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,a){Object.is(a,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=a,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,a){i instanceof Map?i.forEach(a):Object.keys(i).forEach(h=>a(i[h],h))}}class CD{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new Y0([new hw])}let Y0=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(null!=h){const p=h.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||mw()),deps:[[n,new $r,new Ol]]}}find(a){const h=this.factories.find(p=>p.supports(a));if(null!=h)return h;throw new qe(901,!1)}}return n.\u0275prov=qt({token:n,providedIn:"root",factory:mw}),n})();function _w(){return new Q0([new gw])}let Q0=(()=>{class n{constructor(a){this.factories=a}static create(a,h){if(h){const p=h.factories.slice();a=a.concat(p)}return new n(a)}static extend(a){return{provide:n,useFactory:h=>n.create(a,h||_w()),deps:[[n,new $r,new Ol]]}}find(a){const h=this.factories.find(p=>p.supports(a));if(h)return h;throw new qe(901,!1)}}return n.\u0275prov=qt({token:n,providedIn:"root",factory:_w}),n})();const ND=tw(null,"core",[]);let MD=(()=>{class n{constructor(a){}}return n.\u0275fac=function(a){return new(a||n)(Bn(Dv))},n.\u0275mod=it({type:n}),n.\u0275inj=Jn({}),n})();function OD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xD(n,i){const a=wn(n),h=i.elementInjector||Dh();return new $h(a).create(h,i.projectableNodes,i.hostElement,i.environmentInjector)}},4006:(Wt,He,G)=>{G.d(He,{Cf:()=>Ve,Fj:()=>st,JJ:()=>Ge,JL:()=>Ue,JU:()=>de,On:()=>ii,Q7:()=>So,UX:()=>to,_Y:()=>Qr,kI:()=>Me,nD:()=>ia,qu:()=>Ho,sg:()=>Jr,u:()=>Vs,u5:()=>Gn});var b=G(4650),z=G(6895),W=G(8996),f=G(4128),De=G(4004);let Ie=(()=>{class E{constructor(I,V){this._renderer=I,this._elementRef=V,this.onChange=le=>{},this.onTouched=()=>{}}setProperty(I,V){this._renderer.setProperty(this._elementRef.nativeElement,I,V)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(b.Qsj),b.Y36(b.SBq))},E.\u0275dir=b.lG2({type:E}),E})(),Pe=(()=>{class E extends Ie{}return E.\u0275fac=function(){let D;return function(V){return(D||(D=b.n5z(E)))(V||E)}}(),E.\u0275dir=b.lG2({type:E,features:[b.qOj]}),E})();const de=new b.OlP("NgValueAccessor"),ge={provide:de,useExisting:(0,b.Gpc)(()=>st),multi:!0},rt=new b.OlP("CompositionEventMode");let st=(()=>{class E extends Ie{constructor(I,V,le){super(I,V),this._compositionMode=le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ne(){const E=(0,z.q)()?(0,z.q)().getUserAgent():"";return/android (\d+)/.test(E.toLowerCase())}())}writeValue(I){this.setProperty("value",I??"")}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(rt,8))},E.\u0275dir=b.lG2({type:E,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,V){1&I&&b.NdJ("input",function(Oe){return V._handleInput(Oe.target.value)})("blur",function(){return V.onTouched()})("compositionstart",function(){return V._compositionStart()})("compositionend",function(Oe){return V._compositionEnd(Oe.target.value)})},features:[b._Bn([ge]),b.qOj]}),E})();const Je=!1;function tt(E){return null==E||("string"==typeof E||Array.isArray(E))&&0===E.length}function qe(E){return null!=E&&"number"==typeof E.length}const Ve=new b.OlP("NgValidators"),me=new b.OlP("NgAsyncValidators"),ht=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Me{static min(D){return function Ae(E){return D=>{if(tt(D.value)||tt(E))return null;const I=parseFloat(D.value);return!isNaN(I)&&I<E?{min:{min:E,actual:D.value}}:null}}(D)}static max(D){return function Qe(E){return D=>{if(tt(D.value)||tt(E))return null;const I=parseFloat(D.value);return!isNaN(I)&&I>E?{max:{max:E,actual:D.value}}:null}}(D)}static required(D){return At(D)}static requiredTrue(D){return function Dt(E){return!0===E.value?null:{required:!0}}(D)}static email(D){return function Ee(E){return tt(E.value)||ht.test(E.value)?null:{email:!0}}(D)}static minLength(D){return function Ht(E){return D=>tt(D.value)||!qe(D.value)?null:D.value.length<E?{minlength:{requiredLength:E,actualLength:D.value.length}}:null}(D)}static maxLength(D){return Pt(D)}static pattern(D){return function Mt(E){if(!E)return mn;let D,I;return"string"==typeof E?(I="","^"!==E.charAt(0)&&(I+="^"),I+=E,"$"!==E.charAt(E.length-1)&&(I+="$"),D=new RegExp(I)):(I=E.toString(),D=E),V=>{if(tt(V.value))return null;const le=V.value;return D.test(le)?null:{pattern:{requiredPattern:I,actualValue:le}}}}(D)}static nullValidator(D){return null}static compose(D){return It(D)}static composeAsync(D){return bt(D)}}function At(E){return tt(E.value)?{required:!0}:null}function Pt(E){return D=>qe(D.value)&&D.value.length>E?{maxlength:{requiredLength:E,actualLength:D.value.length}}:null}function mn(E){return null}function tn(E){return null!=E}function pi(E){const D=(0,b.QGY)(E)?(0,W.D)(E):E;if(Je&&!(0,b.CqO)(D)){let I="Expected async validator to return Promise or Observable.";throw"object"==typeof E&&(I+=" Are you using a synchronous validator where an async validator is expected?"),new b.vHH(-1101,I)}return D}function gt(E){let D={};return E.forEach(I=>{D=null!=I?{...D,...I}:D}),0===Object.keys(D).length?null:D}function Ze(E,D){return D.map(I=>I(E))}function ot(E){return E.map(D=>function ct(E){return!E.validate}(D)?D:I=>D.validate(I))}function It(E){if(!E)return null;const D=E.filter(tn);return 0==D.length?null:function(I){return gt(Ze(I,D))}}function mt(E){return null!=E?It(ot(E)):null}function bt(E){if(!E)return null;const D=E.filter(tn);return 0==D.length?null:function(I){const V=Ze(I,D).map(pi);return(0,f.D)(V).pipe((0,De.U)(gt))}}function zt(E){return null!=E?bt(ot(E)):null}function En(E,D){return null===E?[D]:Array.isArray(E)?[...E,D]:[E,D]}function wt(E){return E._rawValidators}function qt(E){return E._rawAsyncValidators}function hn(E){return E?Array.isArray(E)?E:[E]:[]}function Jn(E,D){return Array.isArray(E)?E.includes(D):E===D}function gr(E,D){const I=hn(D);return hn(E).forEach(le=>{Jn(I,le)||I.push(le)}),I}function Yr(E,D){return hn(D).filter(I=>!Jn(E,I))}class Xn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=mt(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D){this.control&&this.control.reset(D)}hasError(D,I){return!!this.control&&this.control.hasError(D,I)}getError(D,I){return this.control?this.control.getError(D,I):null}}class er extends Xn{get formDirective(){return null}get path(){return null}}class ar extends Xn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ni{constructor(D){this._cd=D}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ge=(()=>{class E extends ni{constructor(I){super(I)}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(ar,2))},E.\u0275dir=b.lG2({type:E,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,V){2&I&&b.ekj("ng-untouched",V.isUntouched)("ng-touched",V.isTouched)("ng-pristine",V.isPristine)("ng-dirty",V.isDirty)("ng-valid",V.isValid)("ng-invalid",V.isInvalid)("ng-pending",V.isPending)},features:[b.qOj]}),E})(),Ue=(()=>{class E extends ni{constructor(I){super(I)}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(er,10))},E.\u0275dir=b.lG2({type:E,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(I,V){2&I&&b.ekj("ng-untouched",V.isUntouched)("ng-touched",V.isTouched)("ng-pristine",V.isPristine)("ng-dirty",V.isDirty)("ng-valid",V.isValid)("ng-invalid",V.isInvalid)("ng-pending",V.isPending)("ng-submitted",V.isSubmitted)},features:[b.qOj]}),E})();function Hn(E,D){return E?`with name: '${D}'`:`at index: ${D}`}const nr=!1,li="VALID",Bn="INVALID",Br="PENDING",Sr="DISABLED";function ui(E){return(Tr(E)?E.validators:E)||null}function ci(E,D){return(Tr(D)?D.asyncValidators:E)||null}function Tr(E){return null!=E&&!Array.isArray(E)&&"object"==typeof E}function Se(E,D,I){const V=E.controls;if(!(D?Object.keys(V):V).length)throw new b.vHH(1e3,nr?function ri(E){return`\n    There are no form controls registered with this ${E?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(D):"");if(!V[I])throw new b.vHH(1001,nr?function kn(E,D){return`Cannot find form control ${Hn(E,D)}`}(D,I):"")}function ye(E,D,I){E._forEachChild((V,le)=>{if(void 0===I[le])throw new b.vHH(1002,nr?function Si(E,D){return`Must supply a value for form control ${Hn(E,D)}`}(D,le):"")})}class ne{constructor(D,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators(I)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===li}get invalid(){return this.status===Bn}get pending(){return this.status==Br}get disabled(){return this.status===Sr}get enabled(){return this.status!==Sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(gr(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(gr(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(Yr(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(Yr(D,this._rawAsyncValidators))}hasValidator(D){return Jn(this._rawValidators,D)}hasAsyncValidator(D){return Jn(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=Br,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const I=this._parentMarkedDirty(D.onlySelf);this.status=Sr,this.errors=null,this._forEachChild(V=>{V.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:I}),this._onDisabledChange.forEach(V=>V(!0))}enable(D={}){const I=this._parentMarkedDirty(D.onlySelf);this.status=li,this._forEachChild(V=>{V.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:I}),this._onDisabledChange.forEach(V=>V(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===li||this.status===Br)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sr:li}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=Br,this._hasOwnPendingAsyncValidator=!0;const I=pi(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(V=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(V,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,I={}){this.errors=D,this._updateControlsErrors(!1!==I.emitEvent)}get(D){let I=D;return null==I||(Array.isArray(I)||(I=I.split(".")),0===I.length)?null:I.reduce((V,le)=>V&&V._find(le),this)}getError(D,I){const V=I?this.get(I):this;return V&&V.errors?V.errors[D]:null}hasError(D,I){return!!this.getError(D,I)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new b.vpe,this.statusChanges=new b.vpe}_calculateStatus(){return this._allControlsDisabled()?Sr:this.errors?Bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Br)?Br:this._anyControlsHaveStatus(Bn)?Bn:li}_anyControlsHaveStatus(D){return this._anyControls(I=>I.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){Tr(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function yr(E){return Array.isArray(E)?mt(E):E||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function Ai(E){return Array.isArray(E)?zt(E):E||null}(this._rawAsyncValidators)}}class oe extends ne{constructor(D,I,V){super(ui(I),ci(V,I)),this.controls=D,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,I){return this.controls[D]?this.controls[D]:(this.controls[D]=I,I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange),I)}addControl(D,I,V={}){this.registerControl(D,I),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}removeControl(D,I={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}setControl(D,I,V={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],I&&this.registerControl(D,I),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,I={}){ye(this,!0,D),Object.keys(D).forEach(V=>{Se(this,!0,V),this.controls[V].setValue(D[V],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(D,I={}){null!=D&&(Object.keys(D).forEach(V=>{const le=this.controls[V];le&&le.patchValue(D[V],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(D={},I={}){this._forEachChild((V,le)=>{V.reset(D[le],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this._reduceChildren({},(D,I,V)=>(D[V]=I.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,(I,V)=>!!V._syncPendingControls()||I);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach(I=>{const V=this.controls[I];V&&D(V,I)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[I,V]of Object.entries(this.controls))if(this.contains(I)&&D(V))return!0;return!1}_reduceValue(){return this._reduceChildren({},(I,V,le)=>((V.enabled||this.disabled)&&(I[le]=V.value),I))}_reduceChildren(D,I){let V=D;return this._forEachChild((le,Oe)=>{V=I(V,le,Oe)}),V}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}class fe extends oe{}const ce=new b.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Te}),Te="always";function Xe(E,D){return[...D.path,E]}function Ct(E,D,I=Te){Dr(E,D),D.valueAccessor.writeValue(E.value),(E.disabled||"always"===I)&&D.valueAccessor.setDisabledState?.(E.disabled),function it(E,D){D.valueAccessor.registerOnChange(I=>{E._pendingValue=I,E._pendingChange=!0,E._pendingDirty=!0,"change"===E.updateOn&&pn(E,D)})}(E,D),function bn(E,D){const I=(V,le)=>{D.valueAccessor.writeValue(V),le&&D.viewToModelUpdate(V)};E.registerOnChange(I),D._registerOnDestroy(()=>{E._unregisterOnChange(I)})}(E,D),function Vt(E,D){D.valueAccessor.registerOnTouched(()=>{E._pendingTouched=!0,"blur"===E.updateOn&&E._pendingChange&&pn(E,D),"submit"!==E.updateOn&&E.markAsTouched()})}(E,D),function Ar(E,D){if(D.valueAccessor.setDisabledState){const I=V=>{D.valueAccessor.setDisabledState(V)};E.registerOnDisabledChange(I),D._registerOnDestroy(()=>{E._unregisterOnDisabledChange(I)})}}(E,D)}function on(E,D,I=!0){const V=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(V),D.valueAccessor.registerOnTouched(V)),ut(E,D),E&&(D._invokeOnDestroyCallbacks(),E._registerOnCollectionChange(()=>{}))}function an(E,D){E.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(D)})}function Dr(E,D){const I=wt(E);null!==D.validator?E.setValidators(En(I,D.validator)):"function"==typeof I&&E.setValidators([I]);const V=qt(E);null!==D.asyncValidator?E.setAsyncValidators(En(V,D.asyncValidator)):"function"==typeof V&&E.setAsyncValidators([V]);const le=()=>E.updateValueAndValidity();an(D._rawValidators,le),an(D._rawAsyncValidators,le)}function ut(E,D){let I=!1;if(null!==E){if(null!==D.validator){const le=wt(E);if(Array.isArray(le)&&le.length>0){const Oe=le.filter(Rt=>Rt!==D.validator);Oe.length!==le.length&&(I=!0,E.setValidators(Oe))}}if(null!==D.asyncValidator){const le=qt(E);if(Array.isArray(le)&&le.length>0){const Oe=le.filter(Rt=>Rt!==D.asyncValidator);Oe.length!==le.length&&(I=!0,E.setAsyncValidators(Oe))}}}const V=()=>{};return an(D._rawValidators,V),an(D._rawAsyncValidators,V),I}function pn(E,D){E._pendingDirty&&E.markAsDirty(),E.setValue(E._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(E._pendingValue),E._pendingChange=!1}function ta(E,D){if(!E.hasOwnProperty("model"))return!1;const I=E.model;return!!I.isFirstChange()||!Object.is(D,I.currentValue)}function Jt(E,D){if(!D)return null;let I,V,le;return Array.isArray(D),D.forEach(Oe=>{Oe.constructor===st?I=Oe:function Zs(E){return Object.getPrototypeOf(E.constructor)===Pe}(Oe)?V=Oe:le=Oe}),le||V||I||null}function Ei(E,D){const I=E.indexOf(D);I>-1&&E.splice(I,1)}function ur(E){return"object"==typeof E&&null!==E&&2===Object.keys(E).length&&"value"in E&&"disabled"in E}const Gi=class extends ne{constructor(D=null,I,V){super(ui(I),ci(V,I)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tr(I)&&(I.nonNullable||I.initialValueIsDefault)&&(this.defaultValue=ur(D)?D.value:D)}setValue(D,I={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(V=>V(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(D,I={}){this.setValue(D,I)}reset(D=this.defaultValue,I={}){this._applyFormState(D),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){Ei(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){Ei(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){ur(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}},Xi={provide:ar,useExisting:(0,b.Gpc)(()=>ii)},Qs=(()=>Promise.resolve())();let ii=(()=>{class E extends ar{constructor(I,V,le,Oe,Rt,Be){super(),this._changeDetectorRef=Rt,this.callSetDisabledState=Be,this.control=new Gi,this._registered=!1,this.update=new b.vpe,this._parent=I,this._setValidators(V),this._setAsyncValidators(le),this.valueAccessor=Jt(0,Oe)}ngOnChanges(I){if(this._checkForErrors(),!this._registered||"name"in I){if(this._registered&&(this._checkName(),this.formDirective)){const V=I.name.previousValue;this.formDirective.removeControl({name:V,path:this._getPath(V)})}this._setUpControl()}"isDisabled"in I&&this._updateDisabled(I),ta(I,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ct(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(I){Qs.then(()=>{this.control.setValue(I,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(I){const V=I.isDisabled.currentValue,le=0!==V&&(0,b.D6c)(V);Qs.then(()=>{le&&!this.control.disabled?this.control.disable():!le&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(I){return this._parent?Xe(I,this._parent):[I]}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(er,9),b.Y36(Ve,10),b.Y36(me,10),b.Y36(de,10),b.Y36(b.sBO,8),b.Y36(ce,8))},E.\u0275dir=b.lG2({type:E,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b._Bn([Xi]),b.qOj,b.TTD]}),E})(),Qr=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275dir=b.lG2({type:E,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),E})(),nt=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=b.oAB({type:E}),E.\u0275inj=b.cJS({}),E})();const ir=new b.OlP("NgModelWithFormControlWarning"),Xs={provide:er,useExisting:(0,b.Gpc)(()=>Jr)};let Jr=(()=>{class E extends er{constructor(I,V,le){super(),this.callSetDisabledState=le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.vpe,this._setValidators(I),this._setAsyncValidators(V)}ngOnChanges(I){this._checkFormPresent(),I.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ut(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(I){const V=this.form.get(I.path);return Ct(V,I,this.callSetDisabledState),V.updateValueAndValidity({emitEvent:!1}),this.directives.push(I),V}getControl(I){return this.form.get(I.path)}removeControl(I){on(I.control||null,I,!1),function Zn(E,D){const I=E.indexOf(D);I>-1&&E.splice(I,1)}(this.directives,I)}addFormGroup(I){this._setUpFormContainer(I)}removeFormGroup(I){this._cleanUpFormContainer(I)}getFormGroup(I){return this.form.get(I.path)}addFormArray(I){this._setUpFormContainer(I)}removeFormArray(I){this._cleanUpFormContainer(I)}getFormArray(I){return this.form.get(I.path)}updateModel(I,V){this.form.get(I.path).setValue(V)}onSubmit(I){return this.submitted=!0,function Nr(E,D){E._syncPendingControls(),D.forEach(I=>{const V=I.control;"submit"===V.updateOn&&V._pendingChange&&(I.viewToModelUpdate(V._pendingValue),V._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(I),"dialog"===I?.target?.method}onReset(){this.resetForm()}resetForm(I){this.form.reset(I),this.submitted=!1}_updateDomValue(){this.directives.forEach(I=>{const V=I.control,le=this.form.get(I.path);V!==le&&(on(V||null,I),(E=>E instanceof Gi)(le)&&(Ct(le,I,this.callSetDisabledState),I.control=le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(I){const V=this.form.get(I.path);(function jn(E,D){Dr(E,D)})(V,I),V.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(I){if(this.form){const V=this.form.get(I.path);V&&function wn(E,D){return ut(E,D)}(V,I)&&V.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dr(this.form,this),this._oldForm&&ut(this._oldForm,this)}_checkFormPresent(){}}return E.\u0275fac=function(I){return new(I||E)(b.Y36(Ve,10),b.Y36(me,10),b.Y36(ce,8))},E.\u0275dir=b.lG2({type:E,selectors:[["","formGroup",""]],hostBindings:function(I,V){1&I&&b.NdJ("submit",function(Oe){return V.onSubmit(Oe)})("reset",function(){return V.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b._Bn([Xs]),b.qOj,b.TTD]}),E})();const mo={provide:ar,useExisting:(0,b.Gpc)(()=>Vs)};let Vs=(()=>{class E extends ar{set isDisabled(I){}constructor(I,V,le,Oe,Rt){super(),this._ngModelWarningConfig=Rt,this._added=!1,this.update=new b.vpe,this._ngModelWarningSent=!1,this._parent=I,this._setValidators(V),this._setAsyncValidators(le),this.valueAccessor=Jt(0,Oe)}ngOnChanges(I){this._added||this._setUpControl(),ta(I,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}get path(){return Xe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return E._ngModelWarningSentOnce=!1,E.\u0275fac=function(I){return new(I||E)(b.Y36(er,13),b.Y36(Ve,10),b.Y36(me,10),b.Y36(de,10),b.Y36(ir,8))},E.\u0275dir=b.lG2({type:E,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b._Bn([mo]),b.qOj,b.TTD]}),E})();let Yi=(()=>{class E{constructor(){this._validator=mn}ngOnChanges(I){if(this.inputName in I){const V=this.normalizeInput(I[this.inputName].currentValue);this._enabled=this.enabled(V),this._validator=this._enabled?this.createValidator(V):mn,this._onChange&&this._onChange()}}validate(I){return this._validator(I)}registerOnValidatorChange(I){this._onChange=I}enabled(I){return null!=I}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275dir=b.lG2({type:E,features:[b.TTD]}),E})();const Ga={provide:Ve,useExisting:(0,b.Gpc)(()=>So),multi:!0};let So=(()=>{class E extends Yi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.D6c,this.createValidator=I=>At}enabled(I){return I}}return E.\u0275fac=function(){let D;return function(V){return(D||(D=b.n5z(E)))(V||E)}}(),E.\u0275dir=b.lG2({type:E,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(I,V){2&I&&b.uIk("required",V._enabled?"":null)},inputs:{required:"required"},features:[b._Bn([Ga]),b.qOj]}),E})();const ro={provide:Ve,useExisting:(0,b.Gpc)(()=>ia),multi:!0};let ia=(()=>{class E extends Yi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=I=>function hi(E){return"number"==typeof E?E:parseInt(E,10)}(I),this.createValidator=I=>Pt(I)}}return E.\u0275fac=function(){let D;return function(V){return(D||(D=b.n5z(E)))(V||E)}}(),E.\u0275dir=b.lG2({type:E,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(I,V){2&I&&b.uIk("maxlength",V._enabled?V.maxlength:null)},inputs:{maxlength:"maxlength"},features:[b._Bn([ro]),b.qOj]}),E})(),$o=(()=>{class E{}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=b.oAB({type:E}),E.\u0275inj=b.cJS({imports:[nt]}),E})();class Hi extends ne{constructor(D,I,V){super(ui(I),ci(V,I)),this.controls=D,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(D){return this.controls[this._adjustIndex(D)]}push(D,I={}){this.controls.push(D),this._registerControl(D),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}insert(D,I,V={}){this.controls.splice(D,0,I),this._registerControl(I),this.updateValueAndValidity({emitEvent:V.emitEvent})}removeAt(D,I={}){let V=this._adjustIndex(D);V<0&&(V=0),this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:I.emitEvent})}setControl(D,I,V={}){let le=this._adjustIndex(D);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),I&&(this.controls.splice(le,0,I),this._registerControl(I)),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(D,I={}){ye(this,!1,D),D.forEach((V,le)=>{Se(this,!1,le),this.at(le).setValue(V,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(D,I={}){null!=D&&(D.forEach((V,le)=>{this.at(le)&&this.at(le).patchValue(V,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(D=[],I={}){this._forEachChild((V,le)=>{V.reset(D[le],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this.controls.map(D=>D.getRawValue())}clear(D={}){this.controls.length<1||(this._forEachChild(I=>I._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:D.emitEvent}))}_adjustIndex(D){return D<0?D+this.length:D}_syncPendingControls(){let D=this.controls.reduce((I,V)=>!!V._syncPendingControls()||I,!1);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){this.controls.forEach((I,V)=>{D(I,V)})}_updateValue(){this.value=this.controls.filter(D=>D.enabled||this.disabled).map(D=>D.value)}_anyControls(D){return this.controls.some(I=>I.enabled&&D(I))}_setUpControls(){this._forEachChild(D=>this._registerControl(D))}_allControlsDisabled(){for(const D of this.controls)if(D.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(D){D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)}_find(D){return this.at(D)??null}}function bo(E){return!!E&&(void 0!==E.asyncValidators||void 0!==E.validators||void 0!==E.updateOn)}let Ho=(()=>{class E{constructor(){this.useNonNullable=!1}get nonNullable(){const I=new E;return I.useNonNullable=!0,I}group(I,V=null){const le=this._reduceControls(I);let Oe={};return bo(V)?Oe=V:null!==V&&(Oe.validators=V.validator,Oe.asyncValidators=V.asyncValidator),new oe(le,Oe)}record(I,V=null){const le=this._reduceControls(I);return new fe(le,V)}control(I,V,le){let Oe={};return this.useNonNullable?(bo(V)?Oe=V:(Oe.validators=V,Oe.asyncValidators=le),new Gi(I,{...Oe,nonNullable:!0})):new Gi(I,V,le)}array(I,V,le){const Oe=I.map(Rt=>this._createControl(Rt));return new Hi(Oe,V,le)}_reduceControls(I){const V={};return Object.keys(I).forEach(le=>{V[le]=this._createControl(I[le])}),V}_createControl(I){return I instanceof Gi||I instanceof ne?I:Array.isArray(I)?this.control(I[0],I.length>1?I[1]:null,I.length>2?I[2]:null):this.control(I)}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275prov=b.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Gn=(()=>{class E{static withConfig(I){return{ngModule:E,providers:[{provide:ce,useValue:I.callSetDisabledState??Te}]}}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=b.oAB({type:E}),E.\u0275inj=b.cJS({imports:[$o]}),E})(),to=(()=>{class E{static withConfig(I){return{ngModule:E,providers:[{provide:ir,useValue:I.warnOnNgModelWithFormControl??"always"},{provide:ce,useValue:I.callSetDisabledState??Te}]}}}return E.\u0275fac=function(I){return new(I||E)},E.\u0275mod=b.oAB({type:E}),E.\u0275inj=b.cJS({imports:[$o]}),E})()},1321:()=>{const Wt=":";class mt extends Error{constructor(ke){super(`No translation found for ${hn(ke)}.`),this.parsedMessage=ke,this.type="MissingTranslationError"}}const er=function(Ye,...ke){if(er.translate){const Ue=er.translate(Ye,ke);Ye=Ue[0],ke=Ue[1]}let Ge=ni(Ye[0],Ye.raw[0]);for(let Ue=1;Ue<Ye.length;Ue++)Ge+=ke[Ue-1]+ni(Ye[Ue],Ye.raw[Ue]);return Ge},ar=":";function ni(Ye,ke){return ke.charAt(0)===ar?Ye.substring(function It(Ye,ke){for(let Ge=1,Ue=1;Ge<Ye.length;Ge++,Ue++)if("\\"===ke[Ue])Ue++;else if(Ye[Ge]===Wt)return Ge;throw new Error(`Unterminated $localize metadata block in "${ke}".`)}(Ye,ke)+1):Ye}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=er},1481:(Wt,He,G)=>{G.d(He,{Dx:()=>On,H7:()=>ne,b2:()=>Qt,q6:()=>ke,se:()=>tn});var b=G(6895),z=G(4650);class W extends b.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends W{static makeCurrent(){(0,b.HT)(new f)}onAndCancel(ve,ce,Te){return ve.addEventListener(ce,Te,!1),()=>{ve.removeEventListener(ce,Te,!1)}}dispatchEvent(ve,ce){ve.dispatchEvent(ce)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,ce){return(ce=ce||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,ce){return"window"===ce?window:"document"===ce?ve:"body"===ce?ve.body:null}getBaseHref(ve){const ce=function Ie(){return De=De||document.querySelector("base"),De?De.getAttribute("href"):null}();return null==ce?null:function de(fe){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",fe);const ve=Pe.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(ce)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,b.Mx)(document.cookie,ve)}}let Pe,De=null;const $e=new z.OlP("TRANSITION_ID"),ge=[{provide:z.ip1,useFactory:function _e(fe,ve,ce){return()=>{ce.get(z.CZH).donePromise.then(()=>{const Te=(0,b.q)(),Xe=ve.querySelectorAll(`style[ng-transition="${fe}"]`);for(let Ct=0;Ct<Xe.length;Ct++)Te.remove(Xe[Ct])})}},deps:[$e,b.K0,z.zs3],multi:!0}];let rt=(()=>{class fe{build(){return new XMLHttpRequest}}return fe.\u0275fac=function(ce){return new(ce||fe)},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const st=new z.OlP("EventManagerPlugins");let Je=(()=>{class fe{constructor(ce,Te){this._zone=Te,this._eventNameToPlugin=new Map,ce.forEach(Xe=>{Xe.manager=this}),this._plugins=ce.slice().reverse()}addEventListener(ce,Te,Xe){return this._findPluginFor(Te).addEventListener(ce,Te,Xe)}addGlobalEventListener(ce,Te,Xe){return this._findPluginFor(Te).addGlobalEventListener(ce,Te,Xe)}getZone(){return this._zone}_findPluginFor(ce){const Te=this._eventNameToPlugin.get(ce);if(Te)return Te;const Xe=this._plugins;for(let Ct=0;Ct<Xe.length;Ct++){const on=Xe[Ct];if(on.supports(ce))return this._eventNameToPlugin.set(ce,on),on}throw new Error(`No event manager plugin found for event ${ce}`)}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(st),z.LFG(z.R0b))},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class tt{constructor(ve){this._doc=ve}addGlobalEventListener(ve,ce,Te){const Xe=(0,b.q)().getGlobalEventTarget(this._doc,ve);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${ce}`);return this.addEventListener(Xe,ce,Te)}}let qe=(()=>{class fe{constructor(){this.usageCount=new Map}addStyles(ce){for(const Te of ce)1===this.changeUsageCount(Te,1)&&this.onStyleAdded(Te)}removeStyles(ce){for(const Te of ce)0===this.changeUsageCount(Te,-1)&&this.onStyleRemoved(Te)}onStyleRemoved(ce){}onStyleAdded(ce){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ce,Te){const Xe=this.usageCount;let Ct=Xe.get(ce)??0;return Ct+=Te,Ct>0?Xe.set(ce,Ct):Xe.delete(ce),Ct}ngOnDestroy(){for(const ce of this.getAllStyles())this.onStyleRemoved(ce);this.usageCount.clear()}}return fe.\u0275fac=function(ce){return new(ce||fe)},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),Ve=(()=>{class fe extends qe{constructor(ce){super(),this.doc=ce,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ce){for(const Te of this.hostNodes)this.addStyleToHost(Te,ce)}onStyleRemoved(ce){const Te=this.styleRef;Te.get(ce)?.forEach(Ct=>Ct.remove()),Te.delete(ce)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ce){this.hostNodes.add(ce);for(const Te of this.getAllStyles())this.addStyleToHost(ce,Te)}removeHost(ce){this.hostNodes.delete(ce)}addStyleToHost(ce,Te){const Xe=this.doc.createElement("style");Xe.textContent=Te,ce.appendChild(Xe);const Ct=this.styleRef.get(Te);Ct?Ct.push(Xe):this.styleRef.set(Te,[Xe])}resetHostNodes(){const ce=this.hostNodes;ce.clear(),ce.add(this.doc.head)}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(b.K0))},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ht=/%COMP%/g,Ee=new z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Mt(fe,ve){return ve.flat(100).map(ce=>ce.replace(ht,fe))}function mn(fe){return ve=>{if("__ngUnwrap__"===ve)return fe;!1===fe(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let tn=(()=>{class fe{constructor(ce,Te,Xe,Ct){this.eventManager=ce,this.sharedStylesHost=Te,this.appId=Xe,this.removeStylesOnCompDestory=Ct,this.rendererByCompId=new Map,this.defaultRenderer=new pi(ce)}createRenderer(ce,Te){if(!ce||!Te)return this.defaultRenderer;const Xe=this.getOrCreateRenderer(ce,Te);return Xe instanceof mt?Xe.applyToHost(ce):Xe instanceof It&&Xe.applyStyles(),Xe}getOrCreateRenderer(ce,Te){const Xe=this.rendererByCompId;let Ct=Xe.get(Te.id);if(!Ct){const on=this.eventManager,an=this.sharedStylesHost,Ar=this.removeStylesOnCompDestory;switch(Te.encapsulation){case z.ifc.Emulated:Ct=new mt(on,an,Te,this.appId,Ar);break;case z.ifc.ShadowDom:return new ot(on,an,ce,Te);default:Ct=new It(on,an,Te,Ar)}Ct.onDestroy=()=>Xe.delete(Te.id),Xe.set(Te.id,Ct)}return Ct}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(Je),z.LFG(Ve),z.LFG(z.AFp),z.LFG(Ee))},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class pi{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,ce){return ce?document.createElementNS(me[ce]||ce,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,ce){(ct(ve)?ve.content:ve).appendChild(ce)}insertBefore(ve,ce,Te){ve&&(ct(ve)?ve.content:ve).insertBefore(ce,Te)}removeChild(ve,ce){ve&&ve.removeChild(ce)}selectRootElement(ve,ce){let Te="string"==typeof ve?document.querySelector(ve):ve;if(!Te)throw new Error(`The selector "${ve}" did not match any elements`);return ce||(Te.textContent=""),Te}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,ce,Te,Xe){if(Xe){ce=Xe+":"+ce;const Ct=me[Xe];Ct?ve.setAttributeNS(Ct,ce,Te):ve.setAttribute(ce,Te)}else ve.setAttribute(ce,Te)}removeAttribute(ve,ce,Te){if(Te){const Xe=me[Te];Xe?ve.removeAttributeNS(Xe,ce):ve.removeAttribute(`${Te}:${ce}`)}else ve.removeAttribute(ce)}addClass(ve,ce){ve.classList.add(ce)}removeClass(ve,ce){ve.classList.remove(ce)}setStyle(ve,ce,Te,Xe){Xe&(z.JOm.DashCase|z.JOm.Important)?ve.style.setProperty(ce,Te,Xe&z.JOm.Important?"important":""):ve.style[ce]=Te}removeStyle(ve,ce,Te){Te&z.JOm.DashCase?ve.style.removeProperty(ce):ve.style[ce]=""}setProperty(ve,ce,Te){ve[ce]=Te}setValue(ve,ce){ve.nodeValue=ce}listen(ve,ce,Te){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,ce,mn(Te)):this.eventManager.addEventListener(ve,ce,mn(Te))}}function ct(fe){return"TEMPLATE"===fe.tagName&&void 0!==fe.content}class ot extends pi{constructor(ve,ce,Te,Xe){super(ve),this.sharedStylesHost=ce,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ct=Mt(Xe.id,Xe.styles);for(const on of Ct){const an=document.createElement("style");an.textContent=on,this.shadowRoot.appendChild(an)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,ce){return super.appendChild(this.nodeOrShadowRoot(ve),ce)}insertBefore(ve,ce,Te){return super.insertBefore(this.nodeOrShadowRoot(ve),ce,Te)}removeChild(ve,ce){return super.removeChild(this.nodeOrShadowRoot(ve),ce)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class It extends pi{constructor(ve,ce,Te,Xe,Ct=Te.id){super(ve),this.sharedStylesHost=ce,this.removeStylesOnCompDestory=Xe,this.rendererUsageCount=0,this.styles=Mt(Ct,Te.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class mt extends It{constructor(ve,ce,Te,Xe,Ct){const on=Xe+"-"+Te.id;super(ve,ce,Te,Ct,on),this.contentAttr=function Ht(fe){return"_ngcontent-%COMP%".replace(ht,fe)}(on),this.hostAttr=function Pt(fe){return"_nghost-%COMP%".replace(ht,fe)}(on)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,ce){const Te=super.createElement(ve,ce);return super.setAttribute(Te,this.contentAttr,""),Te}}let bt=(()=>{class fe extends tt{constructor(ce){super(ce)}supports(ce){return!0}addEventListener(ce,Te,Xe){return ce.addEventListener(Te,Xe,!1),()=>this.removeEventListener(ce,Te,Xe)}removeEventListener(ce,Te,Xe){return ce.removeEventListener(Te,Xe)}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(b.K0))},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const zt=["alt","control","meta","shift"],En={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wt={alt:fe=>fe.altKey,control:fe=>fe.ctrlKey,meta:fe=>fe.metaKey,shift:fe=>fe.shiftKey};let qt=(()=>{class fe extends tt{constructor(ce){super(ce)}supports(ce){return null!=fe.parseEventName(ce)}addEventListener(ce,Te,Xe){const Ct=fe.parseEventName(Te),on=fe.eventCallback(Ct.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.q)().onAndCancel(ce,Ct.domEventName,on))}static parseEventName(ce){const Te=ce.toLowerCase().split("."),Xe=Te.shift();if(0===Te.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Ct=fe._normalizeKey(Te.pop());let on="",an=Te.indexOf("code");if(an>-1&&(Te.splice(an,1),on="code."),zt.forEach(Dr=>{const ut=Te.indexOf(Dr);ut>-1&&(Te.splice(ut,1),on+=Dr+".")}),on+=Ct,0!=Te.length||0===Ct.length)return null;const Ar={};return Ar.domEventName=Xe,Ar.fullKey=on,Ar}static matchEventFullKeyCode(ce,Te){let Xe=En[ce.key]||ce.key,Ct="";return Te.indexOf("code.")>-1&&(Xe=ce.code,Ct="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),zt.forEach(on=>{on!==Xe&&(0,wt[on])(ce)&&(Ct+=on+".")}),Ct+=Xe,Ct===Te)}static eventCallback(ce,Te,Xe){return Ct=>{fe.matchEventFullKeyCode(Ct,ce)&&Xe.runGuarded(()=>Te(Ct))}}static _normalizeKey(ce){return"esc"===ce?"escape":ce}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(b.K0))},fe.\u0275prov=z.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const ke=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:b.bD},{provide:z.g9A,useValue:function er(){f.makeCurrent()},multi:!0},{provide:b.K0,useFactory:function ni(){return(0,z.RDi)(document),document},deps:[]}]),Ge=new z.OlP(""),Ue=[{provide:z.rWj,useClass:class Ne{addToWindow(ve){z.dqk.getAngularTestability=(Te,Xe=!0)=>{const Ct=ve.findTestabilityInTree(Te,Xe);if(null==Ct)throw new Error("Could not find testability for element.");return Ct},z.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(Te=>{const Xe=z.dqk.getAllAngularTestabilities();let Ct=Xe.length,on=!1;const an=function(Ar){on=on||Ar,Ct--,0==Ct&&Te(on)};Xe.forEach(function(Ar){Ar.whenStable(an)})})}findTestabilityInTree(ve,ce,Te){return null==ce?null:ve.getTestability(ce)??(Te?(0,b.q)().isShadowRoot(ce)?this.findTestabilityInTree(ve,ce.host,!0):this.findTestabilityInTree(ve,ce.parentElement,!0):null)}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],Ot=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function ar(){return new z.qLn},deps:[]},{provide:st,useClass:bt,multi:!0,deps:[b.K0,z.R0b,z.Lbi]},{provide:st,useClass:qt,multi:!0,deps:[b.K0]},{provide:tn,useClass:tn,deps:[Je,Ve,z.AFp,Ee]},{provide:z.FYo,useExisting:tn},{provide:qe,useExisting:Ve},{provide:Ve,useClass:Ve,deps:[b.K0]},{provide:Je,useClass:Je,deps:[st,z.R0b]},{provide:b.JF,useClass:rt,deps:[]},[]];let Qt=(()=>{class fe{constructor(ce){}static withServerTransition(ce){return{ngModule:fe,providers:[{provide:z.AFp,useValue:ce.appId},{provide:$e,useExisting:z.AFp},ge]}}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(Ge,12))},fe.\u0275mod=z.oAB({type:fe}),fe.\u0275inj=z.cJS({providers:[...Ot,...Ue],imports:[b.ez,z.hGG]}),fe})(),On=(()=>{class fe{constructor(ce){this._doc=ce}getTitle(){return this._doc.title}setTitle(ce){this._doc.title=ce||""}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(b.K0))},fe.\u0275prov=z.Yz7({token:fe,factory:function(ce){let Te=null;return Te=ce?new ce:function _n(){return new On((0,z.LFG)(b.K0))}(),Te},providedIn:"root"}),fe})();typeof window<"u"&&window;let ne=(()=>{class fe{}return fe.\u0275fac=function(ce){return new(ce||fe)},fe.\u0275prov=z.Yz7({token:fe,factory:function(ce){let Te=null;return Te=ce?new(ce||fe):z.LFG(ee),Te},providedIn:"root"}),fe})(),ee=(()=>{class fe extends ne{constructor(ce){super(),this._doc=ce}sanitize(ce,Te){if(null==Te)return null;switch(ce){case z.q3G.NONE:return Te;case z.q3G.HTML:return(0,z.qzn)(Te,"HTML")?(0,z.z3N)(Te):(0,z.EiD)(this._doc,String(Te)).toString();case z.q3G.STYLE:return(0,z.qzn)(Te,"Style")?(0,z.z3N)(Te):Te;case z.q3G.SCRIPT:if((0,z.qzn)(Te,"Script"))return(0,z.z3N)(Te);throw new Error("unsafe value used in a script context");case z.q3G.URL:return(0,z.qzn)(Te,"URL")?(0,z.z3N)(Te):(0,z.mCW)(String(Te));case z.q3G.RESOURCE_URL:if((0,z.qzn)(Te,"ResourceURL"))return(0,z.z3N)(Te);throw new Error(`unsafe value used in a resource URL context (see ${z.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ce} (see ${z.JZr})`)}}bypassSecurityTrustHtml(ce){return(0,z.JVY)(ce)}bypassSecurityTrustStyle(ce){return(0,z.L6k)(ce)}bypassSecurityTrustScript(ce){return(0,z.eBb)(ce)}bypassSecurityTrustUrl(ce){return(0,z.LAX)(ce)}bypassSecurityTrustResourceUrl(ce){return(0,z.pB0)(ce)}}return fe.\u0275fac=function(ce){return new(ce||fe)(z.LFG(b.K0))},fe.\u0275prov=z.Yz7({token:fe,factory:function(ce){let Te=null;return Te=ce?new ce:function oe(fe){return new ee(fe.get(b.K0))}(z.LFG(z.zs3)),Te},providedIn:"root"}),fe})()},1779:(Wt,He,G)=>{G.d(He,{F0:()=>Xr,rH:()=>Dn,Bz:()=>Pc,lC:()=>_o});var b=G(4650),z=G(8996),W=G(9646),f=G(1135),De=G(6805),Ie=G(9841),Pe=G(7272),de=G(9751),$e=G(8421);function _e(A){return new de.y(M=>{(0,$e.Xf)(A()).subscribe(M)})}var ge=G(9635),Ne=G(2843),rt=G(515),st=G(727),Je=G(4482),tt=G(5403);function qe(){return(0,Je.e)((A,M)=>{let T=null;A._refCount++;const k=(0,tt.x)(M,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(T=null);const H=A._connection,X=T;T=null,H&&(!X||H===X)&&H.unsubscribe(),M.unsubscribe()});A.subscribe(k),k.closed||(T=A.connect())})}class Ve extends de.y{constructor(M,T){super(),this.source=M,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Je.A)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,M?.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new st.w0;const T=this.getSubject();M.add(this.source.subscribe((0,tt.x)(T,void 0,()=>{this._teardown(),T.complete()},k=>{this._teardown(),T.error(k)},()=>this._teardown()))),M.closed&&(this._connection=null,M=st.w0.EMPTY)}return M}refCount(){return qe()(this)}}var me=G(7579),ht=G(6895),Me=G(4004),Ae=G(3900),Qe=G(5698),At=G(8675),Dt=G(9300),Ee=G(5577),Ht=G(590),Pt=G(4351),Mt=G(8505),mn=G(262),tn=G(5026);function pi(A){return A<=0?()=>rt.E:(0,Je.e)((M,T)=>{let k=[];M.subscribe((0,tt.x)(T,H=>{k.push(H),A<k.length&&k.shift()},()=>{for(const H of k)T.next(H);T.complete()},void 0,()=>{k=null}))})}var gt=G(8068),Ze=G(6590),ct=G(4671);function ot(A,M){const T=arguments.length>=2;return k=>k.pipe(A?(0,Dt.h)((H,X)=>A(H,X,k)):ct.y,pi(1),T?(0,Ze.d)(M):(0,gt.T)(()=>new De.K))}var mt=G(9718),bt=G(8746),zt=G(8189),En=G(1481);const wt="primary",qt=Symbol("RouteTitle");class hn{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T[0]:T}return null}getAll(M){if(this.has(M)){const T=this.params[M];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Jn(A){return new hn(A)}function gr(A,M,T){const k=T.path.split("/");if(k.length>A.length||"full"===T.pathMatch&&(M.hasChildren()||k.length<A.length))return null;const H={};for(let X=0;X<k.length;X++){const ae=k[X],We=A[X];if(ae.startsWith(":"))H[ae.substring(1)]=We;else if(ae!==We.path)return null}return{consumed:A.slice(0,k.length),posParams:H}}function Xn(A,M){const T=A?Object.keys(A):void 0,k=M?Object.keys(M):void 0;if(!T||!k||T.length!=k.length)return!1;let H;for(let X=0;X<T.length;X++)if(H=T[X],!er(A[H],M[H]))return!1;return!0}function er(A,M){if(Array.isArray(A)&&Array.isArray(M)){if(A.length!==M.length)return!1;const T=[...A].sort(),k=[...M].sort();return T.every((H,X)=>k[X]===H)}return A===M}function ar(A){return Array.prototype.concat.apply([],A)}function ni(A){return A.length>0?A[A.length-1]:null}function ke(A,M){for(const T in A)A.hasOwnProperty(T)&&M(A[T],T)}function Ge(A){return(0,b.CqO)(A)?A:(0,b.QGY)(A)?(0,z.D)(Promise.resolve(A)):(0,W.of)(A)}const Ue=!1,Ot={exact:function Mn(A,M,T){if(!Hn(A.segments,M.segments)||!fn(A.segments,M.segments,T)||A.numberOfChildren!==M.numberOfChildren)return!1;for(const k in M.children)if(!A.children[k]||!Mn(A.children[k],M.children[k],T))return!1;return!0},subset:On},Qt={exact:function Tn(A,M){return Xn(A,M)},subset:function _n(A,M){return Object.keys(M).length<=Object.keys(A).length&&Object.keys(M).every(T=>er(A[T],M[T]))},ignored:()=>!0};function Pn(A,M,T){return Ot[T.paths](A.root,M.root,T.matrixParams)&&Qt[T.queryParams](A.queryParams,M.queryParams)&&!("exact"===T.fragment&&A.fragment!==M.fragment)}function On(A,M,T){return rn(A,M,M.segments,T)}function rn(A,M,T,k){if(A.segments.length>T.length){const H=A.segments.slice(0,T.length);return!(!Hn(H,T)||M.hasChildren()||!fn(H,T,k))}if(A.segments.length===T.length){if(!Hn(A.segments,T)||!fn(A.segments,T,k))return!1;for(const H in M.children)if(!A.children[H]||!On(A.children[H],M.children[H],k))return!1;return!0}{const H=T.slice(0,A.segments.length),X=T.slice(A.segments.length);return!!(Hn(A.segments,H)&&fn(A.segments,H,k)&&A.children[wt])&&rn(A.children[wt],M,X,k)}}function fn(A,M,T){return M.every((k,H)=>Qt[T](A[H].parameters,k.parameters))}class or{constructor(M=new cn([],{}),T={},k=null){this.root=M,this.queryParams=T,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return nr.serialize(this)}}class cn{constructor(M,T){this.segments=M,this.children=T,this.parent=null,ke(T,(k,H)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return li(this)}}class hr{constructor(M,T){this.path=M,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Jn(this.parameters)),this._parameterMap}toString(){return Tr(this)}}function Hn(A,M){return A.length===M.length&&A.every((T,k)=>T.path===M[k].path)}let kn=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return new Si},providedIn:"root"}),A})();class Si{parse(M){const T=new ce(M);return new or(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(M){const T=`/${Bn(M.root,!0)}`,k=function ye(A){const M=Object.keys(A).map(T=>{const k=A[T];return Array.isArray(k)?k.map(H=>`${Sr(T)}=${Sr(H)}`).join("&"):`${Sr(T)}=${Sr(k)}`}).filter(T=>!!T);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${T}${k}${"string"==typeof M.fragment?`#${function ui(A){return encodeURI(A)}(M.fragment)}`:""}`}}const nr=new Si;function li(A){return A.segments.map(M=>Tr(M)).join("/")}function Bn(A,M){if(!A.hasChildren())return li(A);if(M){const T=A.children[wt]?Bn(A.children[wt],!1):"",k=[];return ke(A.children,(H,X)=>{X!==wt&&k.push(`${X}:${Bn(H,!1)}`)}),k.length>0?`${T}(${k.join("//")})`:T}{const T=function ri(A,M){let T=[];return ke(A.children,(k,H)=>{H===wt&&(T=T.concat(M(k,H)))}),ke(A.children,(k,H)=>{H!==wt&&(T=T.concat(M(k,H)))}),T}(A,(k,H)=>H===wt?[Bn(A.children[wt],!1)]:[`${H}:${Bn(k,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[wt]?`${li(A)}/${T[0]}`:`${li(A)}/(${T.join("//")})`}}function Br(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sr(A){return Br(A).replace(/%3B/gi,";")}function yr(A){return Br(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ci(A){return decodeURIComponent(A)}function Ai(A){return ci(A.replace(/\+/g,"%20"))}function Tr(A){return`${yr(A.path)}${function Se(A){return Object.keys(A).map(M=>`;${yr(M)}=${yr(A[M])}`).join("")}(A.parameters)}`}const ne=/^[^\/()?;=#]+/;function oe(A){const M=A.match(ne);return M?M[0]:""}const ee=/^[^=?&#]+/,fe=/^[^&#]+/;class ce{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(M.length>0||Object.keys(T).length>0)&&(k[wt]=new cn(M,T)),k}parseSegment(){const M=oe(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new b.vHH(4009,Ue);return this.capture(M),new hr(ci(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const T=oe(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const H=oe(this.remaining);H&&(k=H,this.capture(k))}M[ci(T)]=ci(k)}parseQueryParam(M){const T=function Re(A){const M=A.match(ee);return M?M[0]:""}(this.remaining);if(!T)return;this.capture(T);let k="";if(this.consumeOptional("=")){const ae=function ve(A){const M=A.match(fe);return M?M[0]:""}(this.remaining);ae&&(k=ae,this.capture(k))}const H=Ai(T),X=Ai(k);if(M.hasOwnProperty(H)){let ae=M[H];Array.isArray(ae)||(ae=[ae],M[H]=ae),ae.push(X)}else M[H]=X}parseParens(M){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=oe(this.remaining),H=this.remaining[k.length];if("/"!==H&&")"!==H&&";"!==H)throw new b.vHH(4010,Ue);let X;k.indexOf(":")>-1?(X=k.slice(0,k.indexOf(":")),this.capture(X),this.capture(":")):M&&(X=wt);const ae=this.parseChildren();T[X]=1===Object.keys(ae).length?ae[wt]:new cn([],ae),this.consumeOptional("//")}return T}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new b.vHH(4011,Ue)}}function Te(A){return A.segments.length>0?new cn([],{[wt]:A}):A}function Xe(A){const M={};for(const k of Object.keys(A.children)){const X=Xe(A.children[k]);(X.segments.length>0||X.hasChildren())&&(M[k]=X)}return function Ct(A){if(1===A.numberOfChildren&&A.children[wt]){const M=A.children[wt];return new cn(A.segments.concat(M.segments),M.children)}return A}(new cn(A.segments,M))}function on(A){return A instanceof or}const an=!1;function it(A,M,T,k,H){if(0===T.length)return bn(M.root,M.root,M.root,k,H);const X=function vr(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new wn(!0,0,A);let M=0,T=!1;const k=A.reduce((H,X,ae)=>{if("object"==typeof X&&null!=X){if(X.outlets){const We={};return ke(X.outlets,(xt,un)=>{We[un]="string"==typeof xt?xt.split("/"):xt}),[...H,{outlets:We}]}if(X.segmentPath)return[...H,X.segmentPath]}return"string"!=typeof X?[...H,X]:0===ae?(X.split("/").forEach((We,xt)=>{0==xt&&"."===We||(0==xt&&""===We?T=!0:".."===We?M++:""!=We&&H.push(We))}),H):[...H,X]},[]);return new wn(T,M,k)}(T);return X.toRoot()?bn(M.root,M.root,new cn([],{}),k,H):function ae(xt){const un=function Ri(A,M,T,k){if(A.isAbsolute)return new rr(M.root,!0,0);if(-1===k)return new rr(T,T===M.root,0);return function Co(A,M,T){let k=A,H=M,X=T;for(;X>H;){if(X-=H,k=k.parent,!k)throw new b.vHH(4005,an&&"Invalid number of '../'");H=k.segments.length}return new rr(k,!1,H-X)}(T,k+(Vt(A.commands[0])?0:1),A.numberOfDoubleDots)}(X,M,A.snapshot?._urlSegment,xt),nn=un.processChildren?Nr(un.segmentGroup,un.index,X.commands):Zs(un.segmentGroup,un.index,X.commands);return bn(M.root,un.segmentGroup,nn,k,H)}(A.snapshot?._lastPathIndex)}function Vt(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function pn(A){return"object"==typeof A&&null!=A&&A.outlets}function bn(A,M,T,k,H){let ae,X={};k&&ke(k,(xt,un)=>{X[un]=Array.isArray(xt)?xt.map(nn=>`${nn}`):`${xt}`}),ae=A===M?T:jn(A,M,T);const We=Te(Xe(ae));return new or(We,X,H)}function jn(A,M,T){const k={};return ke(A.children,(H,X)=>{k[X]=H===M?T:jn(H,M,T)}),new cn(A.segments,k)}class wn{constructor(M,T,k){if(this.isAbsolute=M,this.numberOfDoubleDots=T,this.commands=k,M&&k.length>0&&Vt(k[0]))throw new b.vHH(4003,an&&"Root segment cannot have matrix parameters");const H=k.find(pn);if(H&&H!==ni(k))throw new b.vHH(4004,an&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rr{constructor(M,T,k){this.segmentGroup=M,this.processChildren=T,this.index=k}}function Zs(A,M,T){if(A||(A=new cn([],{})),0===A.segments.length&&A.hasChildren())return Nr(A,M,T);const k=function Jt(A,M,T){let k=0,H=M;const X={match:!1,pathIndex:0,commandIndex:0};for(;H<A.segments.length;){if(k>=T.length)return X;const ae=A.segments[H],We=T[k];if(pn(We))break;const xt=`${We}`,un=k<T.length-1?T[k+1]:null;if(H>0&&void 0===xt)break;if(xt&&un&&"object"==typeof un&&void 0===un.outlets){if(!Ji(xt,un,ae))return X;k+=2}else{if(!Ji(xt,{},ae))return X;k++}H++}return{match:!0,pathIndex:H,commandIndex:k}}(A,M,T),H=T.slice(k.commandIndex);if(k.match&&k.pathIndex<A.segments.length){const X=new cn(A.segments.slice(0,k.pathIndex),{});return X.children[wt]=new cn(A.segments.slice(k.pathIndex),A.children),Nr(X,0,H)}return k.match&&0===H.length?new cn(A.segments,{}):k.match&&!A.hasChildren()?Zn(A,M,T):k.match?Nr(A,0,H):Zn(A,M,T)}function Nr(A,M,T){if(0===T.length)return new cn(A.segments,{});{const k=function ta(A){return pn(A[0])?A[0].outlets:{[wt]:A}}(T),H={};if(!k[wt]&&A.children[wt]&&1===A.numberOfChildren&&0===A.children[wt].segments.length){const X=Nr(A.children[wt],M,T);return new cn(A.segments,X.children)}return ke(k,(X,ae)=>{"string"==typeof X&&(X=[X]),null!==X&&(H[ae]=Zs(A.children[ae],M,X))}),ke(A.children,(X,ae)=>{void 0===k[ae]&&(H[ae]=X)}),new cn(A.segments,H)}}function Zn(A,M,T){const k=A.segments.slice(0,M);let H=0;for(;H<T.length;){const X=T[H];if(pn(X)){const xt=yi(X.outlets);return new cn(k,xt)}if(0===H&&Vt(T[0])){k.push(new hr(A.segments[M].path,Er(T[0]))),H++;continue}const ae=pn(X)?X.outlets[wt]:`${X}`,We=H<T.length-1?T[H+1]:null;ae&&We&&Vt(We)?(k.push(new hr(ae,Er(We))),H+=2):(k.push(new hr(ae,{})),H++)}return new cn(k,{})}function yi(A){const M={};return ke(A,(T,k)=>{"string"==typeof T&&(T=[T]),null!==T&&(M[k]=Zn(new cn([],{}),0,T))}),M}function Er(A){const M={};return ke(A,(T,k)=>M[k]=`${T}`),M}function Ji(A,M,T){return A==T.path&&Xn(M,T.parameters)}const di="imperative";class Ei{constructor(M,T){this.id=M,this.url=T}}class ur extends Ei{constructor(M,T,k="imperative",H=null){super(M,T),this.type=0,this.navigationTrigger=k,this.restoredState=H}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends Ei{constructor(M,T,k){super(M,T),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class us extends Ei{constructor(M,T,k,H){super(M,T),this.reason=k,this.code=H,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Un extends Ei{constructor(M,T,k,H){super(M,T),this.reason=k,this.code=H,this.type=16}}class cs extends Ei{constructor(M,T,k,H){super(M,T),this.error=k,this.target=H,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Cs extends Ei{constructor(M,T,k,H){super(M,T),this.urlAfterRedirects=k,this.state=H,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys extends Ei{constructor(M,T,k,H){super(M,T),this.urlAfterRedirects=k,this.state=H,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends Ei{constructor(M,T,k,H,X){super(M,T),this.urlAfterRedirects=k,this.state=H,this.shouldActivate=X,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Rr extends Ei{constructor(M,T,k,H){super(M,T),this.urlAfterRedirects=k,this.state=H,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends Ei{constructor(M,T,k,H){super(M,T),this.urlAfterRedirects=k,this.state=H,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs{constructor(M){this.route=M,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xi{constructor(M){this.route=M,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qs{constructor(M){this.snapshot=M,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(M){this.snapshot=M,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(M){this.snapshot=M,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(M){this.snapshot=M,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(M,T,k){this.routerEvent=M,this.position=T,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let nt=(()=>{class A{createUrlTree(T,k,H,X,ae,We){return it(T||k.root,H,X,ae,We)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),A})(),kt=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:function(M){return nt.\u0275fac(M)},providedIn:"root"}),A})();class Vn{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const T=this.pathFromRoot(M);return T.length>1?T[T.length-2]:null}children(M){const T=qn(M,this._root);return T?T.children.map(k=>k.value):[]}firstChild(M){const T=qn(M,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(M){const T=ir(M,this._root);return T.length<2?[]:T[T.length-2].children.map(H=>H.value).filter(H=>H!==M)}pathFromRoot(M){return ir(M,this._root).map(T=>T.value)}}function qn(A,M){if(A===M.value)return M;for(const T of M.children){const k=qn(A,T);if(k)return k}return null}function ir(A,M){if(A===M.value)return[M];for(const T of M.children){const k=ir(A,T);if(k.length)return k.unshift(M),k}return[]}class Yn{constructor(M,T){this.value=M,this.children=T}toString(){return`TreeNode(${this.value})`}}function es(A){const M={};return A&&A.children.forEach(T=>M[T.value.outlet]=T),M}class Xs extends Vn{constructor(M,T){super(M),this.snapshot=T,Vs(this,M)}toString(){return this.snapshot.toString()}}function Jr(A,M){const T=function go(A,M){const ae=new Go([],{},{},"",{},wt,M,null,A.root,-1,{});return new mo("",new Yn(ae,[]))}(A,M),k=new f.X([new hr("",{})]),H=new f.X({}),X=new f.X({}),ae=new f.X({}),We=new f.X(""),xt=new Ps(k,H,ae,We,X,wt,M,T.root);return xt.snapshot=T.root,new Xs(new Yn(xt,[]),T)}class Ps{constructor(M,T,k,H,X,ae,We,xt){this.url=M,this.params=T,this.queryParams=k,this.fragment=H,this.data=X,this.outlet=ae,this.component=We,this.title=this.data?.pipe((0,Me.U)(un=>un[qt]))??(0,W.of)(void 0),this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(M=>Jn(M)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(M=>Jn(M)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ma(A,M="emptyOnly"){const T=A.pathFromRoot;let k=0;if("always"!==M)for(k=T.length-1;k>=1;){const H=T[k],X=T[k-1];if(H.routeConfig&&""===H.routeConfig.path)k--;else{if(X.component)break;k--}}return function gs(A){return A.reduce((M,T)=>({params:{...M.params,...T.params},data:{...M.data,...T.data},resolve:{...T.data,...M.resolve,...T.routeConfig?.data,...T._resolvedData}}),{params:{},data:{},resolve:{}})}(T.slice(k))}class Go{get title(){return this.data?.[qt]}constructor(M,T,k,H,X,ae,We,xt,un,nn,br){this.url=M,this.params=T,this.queryParams=k,this.fragment=H,this.data=X,this.outlet=ae,this.component=We,this.routeConfig=xt,this._urlSegment=un,this._lastPathIndex=nn,this._resolve=br}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends Vn{constructor(M,T){super(T),this.url=M,Vs(this,T)}toString(){return na(this._root)}}function Vs(A,M){M.value._routerState=A,M.children.forEach(T=>Vs(A,T))}function na(A){const M=A.children.length>0?` { ${A.children.map(na).join(", ")} } `:"";return`${A.value}${M}`}function Ta(A){if(A.snapshot){const M=A.snapshot,T=A._futureSnapshot;A.snapshot=T,Xn(M.queryParams,T.queryParams)||A.queryParams.next(T.queryParams),M.fragment!==T.fragment&&A.fragment.next(T.fragment),Xn(M.params,T.params)||A.params.next(T.params),function Yr(A,M){if(A.length!==M.length)return!1;for(let T=0;T<A.length;++T)if(!Xn(A[T],M[T]))return!1;return!0}(M.url,T.url)||A.url.next(T.url),Xn(M.data,T.data)||A.data.next(T.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Ua(A,M){const T=Xn(A.params,M.params)&&function lr(A,M){return Hn(A,M)&&A.every((T,k)=>Xn(T.parameters,M[k].parameters))}(A.url,M.url);return T&&!(!A.parent!=!M.parent)&&(!A.parent||Ua(A.parent,M.parent))}function ra(A,M,T){if(T&&A.shouldReuseRoute(M.value,T.value.snapshot)){const k=T.value;k._futureSnapshot=M.value;const H=function sl(A,M,T){return M.children.map(k=>{for(const H of T.children)if(A.shouldReuseRoute(k.value,H.value.snapshot))return ra(A,k,H);return ra(A,k)})}(A,M,T);return new Yn(k,H)}{if(A.shouldAttach(M.value)){const X=A.retrieve(M.value);if(null!==X){const ae=X.route;return ae.value._futureSnapshot=M.value,ae.children=M.children.map(We=>ra(A,We)),ae}}const k=function ms(A){return new Ps(new f.X(A.url),new f.X(A.params),new f.X(A.queryParams),new f.X(A.fragment),new f.X(A.data),A.outlet,A.component,A)}(M.value),H=M.children.map(X=>ra(A,X));return new Yn(k,H)}}const ds="ngNavigationCancelingError";function Ca(A,M){const{redirectTo:T,navigationBehaviorOptions:k}=on(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,H=Gs(!1,0,M);return H.url=T,H.navigationBehaviorOptions=k,H}function Gs(A,M,T){const k=new Error("NavigationCancelingError: "+(A||""));return k[ds]=!0,k.cancellationCode=M,T&&(k.url=T),k}function Va(A){return hi(A)&&on(A.url)}function hi(A){return A&&A[ds]}class ks{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yi,this.attachRef=null}}let Yi=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(T,k){const H=this.getOrCreateContext(T);H.outlet=k,this.contexts.set(T,H)}onChildOutletDestroyed(T){const k=this.getContext(T);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let k=this.getContext(T);return k||(k=new ks,this.contexts.set(T,k)),k}getContext(T){return this.contexts.get(T)||null}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const _s=!1;let _o=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new b.vpe,this.deactivateEvents=new b.vpe,this.attachEvents=new b.vpe,this.detachEvents=new b.vpe,this.parentContexts=(0,b.f3M)(Yi),this.location=(0,b.f3M)(b.s_b),this.changeDetector=(0,b.f3M)(b.sBO),this.environmentInjector=(0,b.f3M)(b.lqb)}ngOnChanges(T){if(T.name){const{firstChange:k,previousValue:H}=T.name;if(k)return;this.isTrackedInParentContexts(H)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(H)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.vHH(4012,_s);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.vHH(4012,_s);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.vHH(4012,_s);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,k){this.activated=T,this._activatedRoute=k,this.location.insert(T.hostView),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,k){if(this.isActivated)throw new b.vHH(4013,_s);this._activatedRoute=T;const H=this.location,ae=T.snapshot.component,We=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ya(T,We,H.injector);if(k&&function Sa(A){return!!A.resolveComponentFactory}(k)){const un=k.resolveComponentFactory(ae);this.activated=H.createComponent(un,H.length,xt)}else this.activated=H.createComponent(ae,{index:H.length,injector:xt,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275dir=b.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.TTD]}),A})();class Ya{constructor(M,T,k){this.route=M,this.childContexts=T,this.parent=k}get(M,T){return M===Ps?this.route:M===Yi?this.childContexts:this.parent.get(M,T)}}let Ga=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275cmp=b.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[b.jDz],decls:1,vars:0,template:function(T,k){1&T&&b._UZ(0,"router-outlet")},dependencies:[_o],encapsulation:2}),A})();function yo(A,M){return A.providers&&!A._injector&&(A._injector=(0,b.MMx)(A.providers,M,`Route: ${A.path}`)),A._injector??M}function Fi(A){const M=A.children&&A.children.map(Fi),T=M?{...A,children:M}:{...A};return!T.component&&!T.loadComponent&&(M||T.loadChildren)&&T.outlet&&T.outlet!==wt&&(T.component=Ga),T}function $i(A){return A.outlet||wt}function jo(A,M){const T=A.filter(k=>$i(k)===M);return T.push(...A.filter(k=>$i(k)!==M)),T}function Li(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let M=A.parent;M;M=M.parent){const T=M.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class $o{constructor(M,T,k,H){this.routeReuseStrategy=M,this.futureState=T,this.currState=k,this.forwardEvent=H}activate(M){const T=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,k,M),Ta(this.futureState.root),this.activateChildRoutes(T,k,M)}deactivateChildRoutes(M,T,k){const H=es(T);M.children.forEach(X=>{const ae=X.value.outlet;this.deactivateRoutes(X,H[ae],k),delete H[ae]}),ke(H,(X,ae)=>{this.deactivateRouteAndItsChildren(X,k)})}deactivateRoutes(M,T,k){const H=M.value,X=T?T.value:null;if(H===X)if(H.component){const ae=k.getContext(H.outlet);ae&&this.deactivateChildRoutes(M,T,ae.children)}else this.deactivateChildRoutes(M,T,k);else X&&this.deactivateRouteAndItsChildren(T,k)}deactivateRouteAndItsChildren(M,T){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,T):this.deactivateRouteAndOutlet(M,T)}detachAndStoreRouteSubtree(M,T){const k=T.getContext(M.value.outlet),H=k&&M.value.component?k.children:T,X=es(M);for(const ae of Object.keys(X))this.deactivateRouteAndItsChildren(X[ae],H);if(k&&k.outlet){const ae=k.outlet.detach(),We=k.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:ae,route:M,contexts:We})}}deactivateRouteAndOutlet(M,T){const k=T.getContext(M.value.outlet),H=k&&M.value.component?k.children:T,X=es(M);for(const ae of Object.keys(X))this.deactivateRouteAndItsChildren(X[ae],H);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(M,T,k){const H=es(T);M.children.forEach(X=>{this.activateRoutes(X,H[X.value.outlet],k),this.forwardEvent(new Ss(X.value.snapshot))}),M.children.length&&this.forwardEvent(new ii(M.value.snapshot))}activateRoutes(M,T,k){const H=M.value,X=T?T.value:null;if(Ta(H),H===X)if(H.component){const ae=k.getOrCreateContext(H.outlet);this.activateChildRoutes(M,T,ae.children)}else this.activateChildRoutes(M,T,k);else if(H.component){const ae=k.getOrCreateContext(H.outlet);if(this.routeReuseStrategy.shouldAttach(H.snapshot)){const We=this.routeReuseStrategy.retrieve(H.snapshot);this.routeReuseStrategy.store(H.snapshot,null),ae.children.onOutletReAttached(We.contexts),ae.attachRef=We.componentRef,ae.route=We.route.value,ae.outlet&&ae.outlet.attach(We.componentRef,We.route.value),Ta(We.route.value),this.activateChildRoutes(M,null,ae.children)}else{const We=Li(H.snapshot),xt=We?.get(b._Vd)??null;ae.attachRef=null,ae.route=H,ae.resolver=xt,ae.injector=We,ae.outlet&&ae.outlet.activateWith(H,ae.injector),this.activateChildRoutes(M,null,ae.children)}}else this.activateChildRoutes(M,null,k)}}class Hi{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class Ii{constructor(M,T){this.component=M,this.route=T}}function _a(A,M,T){const k=A._root;return js(k,M?M._root:null,T,[k.value])}function Ho(A,M){const T=Symbol(),k=M.get(A,T);return k===T?"function"!=typeof A||(0,b.Z0I)(A)?M.get(A):A:k}function js(A,M,T,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const X=es(M);return A.children.forEach(ae=>{(function ya(A,M,T,k,H={canDeactivateChecks:[],canActivateChecks:[]}){const X=A.value,ae=M?M.value:null,We=T?T.getContext(A.value.outlet):null;if(ae&&X.routeConfig===ae.routeConfig){const xt=function zo(A,M,T){if("function"==typeof T)return T(A,M);switch(T){case"pathParamsChange":return!Hn(A.url,M.url);case"pathParamsOrQueryParamsChange":return!Hn(A.url,M.url)||!Xn(A.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ua(A,M)||!Xn(A.queryParams,M.queryParams);default:return!Ua(A,M)}}(ae,X,X.routeConfig.runGuardsAndResolvers);xt?H.canActivateChecks.push(new Hi(k)):(X.data=ae.data,X._resolvedData=ae._resolvedData),js(A,M,X.component?We?We.children:null:T,k,H),xt&&We&&We.outlet&&We.outlet.isActivated&&H.canDeactivateChecks.push(new Ii(We.outlet.component,ae))}else ae&&Gn(M,We,H),H.canActivateChecks.push(new Hi(k)),js(A,null,X.component?We?We.children:null:T,k,H)})(ae,X[ae.value.outlet],T,k.concat([ae.value]),H),delete X[ae.value.outlet]}),ke(X,(ae,We)=>Gn(ae,T.getContext(We),H)),H}function Gn(A,M,T){const k=es(A),H=A.value;ke(k,(X,ae)=>{Gn(X,H.component?M?M.children.getContext(ae):null:M,T)}),T.canDeactivateChecks.push(new Ii(H.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,H))}function to(A){return"function"==typeof A}function Ft(A){return A instanceof De.K||"EmptyError"===A?.name}const Wn=Symbol("INITIAL_VALUE");function cr(){return(0,Ae.w)(A=>(0,Ie.a)(A.map(M=>M.pipe((0,Qe.q)(1),(0,At.O)(Wn)))).pipe((0,Me.U)(M=>{for(const T of M)if(!0!==T){if(T===Wn)return Wn;if(!1===T||T instanceof or)return T}return!0}),(0,Dt.h)(M=>M!==Wn),(0,Qe.q)(1)))}function Ir(A){return(0,ge.z)((0,Mt.b)(M=>{if(on(M))throw Ca(0,M)}),(0,Me.U)(M=>!0===M))}const bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fs(A,M,T,k,H){const X=ws(A,M,T);return X.matched?function ts(A,M,T,k){const H=M.canMatch;if(!H||0===H.length)return(0,W.of)(!0);const X=H.map(ae=>{const We=Ho(ae,A);return Ge(function Oe(A){return A&&to(A.canMatch)}(We)?We.canMatch(M,T):A.runInContext(()=>We(M,T)))});return(0,W.of)(X).pipe(cr(),Ir())}(k=yo(M,k),M,T).pipe((0,Me.U)(ae=>!0===ae?X:{...bs})):(0,W.of)(X)}function ws(A,M,T){if(""===M.path)return"full"===M.pathMatch&&(A.hasChildren()||T.length>0)?{...bs}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const H=(M.matcher||gr)(T,A,M);if(!H)return{...bs};const X={};ke(H.posParams,(We,xt)=>{X[xt]=We.path});const ae=H.consumed.length>0?{...X,...H.consumed[H.consumed.length-1].parameters}:X;return{matched:!0,consumedSegments:H.consumed,remainingSegments:T.slice(H.consumed.length),parameters:ae,positionalParamSegments:H.posParams??{}}}function Mo(A,M,T,k){if(T.length>0&&function El(A,M,T){return T.some(k=>Aa(A,M,k)&&$i(k)!==wt)}(A,T,k)){const X=new cn(M,function Gl(A,M,T,k){const H={};H[wt]=k,k._sourceSegment=A,k._segmentIndexShift=M.length;for(const X of T)if(""===X.path&&$i(X)!==wt){const ae=new cn([],{});ae._sourceSegment=A,ae._segmentIndexShift=M.length,H[$i(X)]=ae}return H}(A,M,k,new cn(T,A.children)));return X._sourceSegment=A,X._segmentIndexShift=M.length,{segmentGroup:X,slicedSegments:[]}}if(0===T.length&&function ns(A,M,T){return T.some(k=>Aa(A,M,k))}(A,T,k)){const X=new cn(A.segments,function va(A,M,T,k,H){const X={};for(const ae of k)if(Aa(A,T,ae)&&!H[$i(ae)]){const We=new cn([],{});We._sourceSegment=A,We._segmentIndexShift=M.length,X[$i(ae)]=We}return{...H,...X}}(A,M,T,k,A.children));return X._sourceSegment=A,X._segmentIndexShift=M.length,{segmentGroup:X,slicedSegments:T}}const H=new cn(A.segments,A.children);return H._sourceSegment=A,H._segmentIndexShift=M.length,{segmentGroup:H,slicedSegments:T}}function Aa(A,M,T){return(!(A.hasChildren()||M.length>0)||"full"!==T.pathMatch)&&""===T.path}function Na(A,M,T,k){return!!($i(A)===k||k!==wt&&Aa(M,T,A))&&("**"===A.path||ws(M,A,T).matched)}function al(A,M,T){return 0===M.length&&!A.children[T]}const Ma=!1;class Oa{constructor(M){this.segmentGroup=M||null}}class Ra{constructor(M){this.urlTree=M}}function xa(A){return(0,Ne._)(new Oa(A))}function Oo(A){return(0,Ne._)(new Ra(A))}class Cl{constructor(M,T,k,H,X){this.injector=M,this.configLoader=T,this.urlSerializer=k,this.urlTree=H,this.config=X,this.allowRedirects=!0}apply(){const M=Mo(this.urlTree.root,[],[],this.config).segmentGroup,T=new cn(M.segments,M.children);return this.expandSegmentGroup(this.injector,this.config,T,wt).pipe((0,Me.U)(X=>this.createUrlTree(Xe(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,mn.K)(X=>{if(X instanceof Ra)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Oa?this.noMatchError(X):X}))}match(M){return this.expandSegmentGroup(this.injector,this.config,M.root,wt).pipe((0,Me.U)(H=>this.createUrlTree(Xe(H),M.queryParams,M.fragment))).pipe((0,mn.K)(H=>{throw H instanceof Oa?this.noMatchError(H):H}))}noMatchError(M){return new b.vHH(4002,Ma)}createUrlTree(M,T,k){const H=Te(M);return new or(H,T,k)}expandSegmentGroup(M,T,k,H){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(M,T,k).pipe((0,Me.U)(X=>new cn([],X))):this.expandSegment(M,k,T,k.segments,H,!0)}expandChildren(M,T,k){const H=[];for(const X of Object.keys(k.children))"primary"===X?H.unshift(X):H.push(X);return(0,z.D)(H).pipe((0,Pt.b)(X=>{const ae=k.children[X],We=jo(T,X);return this.expandSegmentGroup(M,We,ae,X).pipe((0,Me.U)(xt=>({segment:xt,outlet:X})))}),(0,tn.R)((X,ae)=>(X[ae.outlet]=ae.segment,X),{}),ot())}expandSegment(M,T,k,H,X,ae){return(0,z.D)(k).pipe((0,Pt.b)(We=>this.expandSegmentAgainstRoute(M,T,k,We,H,X,ae).pipe((0,mn.K)(un=>{if(un instanceof Oa)return(0,W.of)(null);throw un}))),(0,Ht.P)(We=>!!We),(0,mn.K)((We,xt)=>{if(Ft(We))return al(T,H,X)?(0,W.of)(new cn([],{})):xa(T);throw We}))}expandSegmentAgainstRoute(M,T,k,H,X,ae,We){return Na(H,T,X,ae)?void 0===H.redirectTo?this.matchSegmentAgainstRoute(M,T,H,X,ae):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(M,T,k,H,X,ae):xa(T):xa(T)}expandSegmentAgainstRouteUsingRedirect(M,T,k,H,X,ae){return"**"===H.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(M,k,H,ae):this.expandRegularSegmentAgainstRouteUsingRedirect(M,T,k,H,X,ae)}expandWildCardWithParamsAgainstRouteUsingRedirect(M,T,k,H){const X=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Oo(X):this.lineralizeSegments(k,X).pipe((0,Ee.z)(ae=>{const We=new cn(ae,{});return this.expandSegment(M,We,T,ae,H,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(M,T,k,H,X,ae){const{matched:We,consumedSegments:xt,remainingSegments:un,positionalParamSegments:nn}=ws(T,H,X);if(!We)return xa(T);const br=this.applyRedirectCommands(xt,H.redirectTo,nn);return H.redirectTo.startsWith("/")?Oo(br):this.lineralizeSegments(H,br).pipe((0,Ee.z)(Ki=>this.expandSegment(M,T,k,Ki.concat(un),ae,!1)))}matchSegmentAgainstRoute(M,T,k,H,X){return"**"===k.path?(M=yo(k,M),k.loadChildren?(k._loadedRoutes?(0,W.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(M,k)).pipe((0,Me.U)(We=>(k._loadedRoutes=We.routes,k._loadedInjector=We.injector,new cn(H,{})))):(0,W.of)(new cn(H,{}))):Fs(T,k,H,M).pipe((0,Ae.w)(({matched:ae,consumedSegments:We,remainingSegments:xt})=>ae?this.getChildConfig(M=k._injector??M,k,H).pipe((0,Ee.z)(nn=>{const br=nn.injector??M,Ki=nn.routes,{segmentGroup:Fa,slicedSegments:Mi}=Mo(T,We,xt,Ki),To=new cn(Fa.segments,Fa.children);if(0===Mi.length&&To.hasChildren())return this.expandChildren(br,Ki,To).pipe((0,Me.U)(Hl=>new cn(We,Hl)));if(0===Ki.length&&0===Mi.length)return(0,W.of)(new cn(We,{}));const qo=$i(k)===X;return this.expandSegment(br,To,Ki,Mi,qo?wt:X,!0).pipe((0,Me.U)(ao=>new cn(We.concat(ao.segments),ao.children)))})):xa(T)))}getChildConfig(M,T,k){return T.children?(0,W.of)({routes:T.children,injector:M}):T.loadChildren?void 0!==T._loadedRoutes?(0,W.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Bi(A,M,T,k){const H=M.canLoad;if(void 0===H||0===H.length)return(0,W.of)(!0);const X=H.map(ae=>{const We=Ho(ae,A);return Ge(function D(A){return A&&to(A.canLoad)}(We)?We.canLoad(M,T):A.runInContext(()=>We(M,T)))});return(0,W.of)(X).pipe(cr(),Ir())}(M,T,k).pipe((0,Ee.z)(H=>H?this.configLoader.loadChildren(M,T).pipe((0,Mt.b)(X=>{T._loadedRoutes=X.routes,T._loadedInjector=X.injector})):function Il(A){return(0,Ne._)(Gs(Ma,3))}())):(0,W.of)({routes:[],injector:M})}lineralizeSegments(M,T){let k=[],H=T.root;for(;;){if(k=k.concat(H.segments),0===H.numberOfChildren)return(0,W.of)(k);if(H.numberOfChildren>1||!H.children[wt])return M.redirectTo,(0,Ne._)(new b.vHH(4e3,Ma));H=H.children[wt]}}applyRedirectCommands(M,T,k){return this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),M,k)}applyRedirectCreateUrlTree(M,T,k,H){const X=this.createSegmentGroup(M,T.root,k,H);return new or(X,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(M,T){const k={};return ke(M,(H,X)=>{if("string"==typeof H&&H.startsWith(":")){const We=H.substring(1);k[X]=T[We]}else k[X]=H}),k}createSegmentGroup(M,T,k,H){const X=this.createSegments(M,T.segments,k,H);let ae={};return ke(T.children,(We,xt)=>{ae[xt]=this.createSegmentGroup(M,We,k,H)}),new cn(X,ae)}createSegments(M,T,k,H){return T.map(X=>X.path.startsWith(":")?this.findPosParam(M,X,H):this.findOrReturn(X,k))}findPosParam(M,T,k){const H=k[T.path.substring(1)];if(!H)throw new b.vHH(4001,Ma);return H}findOrReturn(M,T){let k=0;for(const H of T){if(H.path===M.path)return T.splice(k),H;k++}return M}}class Wo{}class Qa{constructor(M,T,k,H,X,ae,We){this.injector=M,this.rootComponentType=T,this.config=k,this.urlTree=H,this.url=X,this.paramsInheritanceStrategy=ae,this.urlSerializer=We}recognize(){const M=Mo(this.urlTree.root,[],[],this.config.filter(T=>void 0===T.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,M,wt).pipe((0,Me.U)(T=>{if(null===T)return null;const k=new Go([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),H=new Yn(k,T),X=new mo(this.url,H);return this.inheritParamsAndData(X._root),X}))}inheritParamsAndData(M){const T=M.value,k=ma(T,this.paramsInheritanceStrategy);T.params=Object.freeze(k.params),T.data=Object.freeze(k.data),M.children.forEach(H=>this.inheritParamsAndData(H))}processSegmentGroup(M,T,k,H){return 0===k.segments.length&&k.hasChildren()?this.processChildren(M,T,k):this.processSegment(M,T,k,k.segments,H)}processChildren(M,T,k){return(0,z.D)(Object.keys(k.children)).pipe((0,Pt.b)(H=>{const X=k.children[H],ae=jo(T,H);return this.processSegmentGroup(M,ae,X,H)}),(0,tn.R)((H,X)=>H&&X?(H.push(...X),H):null),function It(A,M=!1){return(0,Je.e)((T,k)=>{let H=0;T.subscribe((0,tt.x)(k,X=>{const ae=A(X,H++);(ae||M)&&k.next(X),!ae&&k.complete()}))})}(H=>null!==H),(0,Ze.d)(null),ot(),(0,Me.U)(H=>{if(null===H)return null;const X=xu(H);return function wo(A){A.sort((M,T)=>M.value.outlet===wt?-1:T.value.outlet===wt?1:M.value.outlet.localeCompare(T.value.outlet))}(X),X}))}processSegment(M,T,k,H,X){return(0,z.D)(T).pipe((0,Pt.b)(ae=>this.processSegmentAgainstRoute(ae._injector??M,ae,k,H,X)),(0,Ht.P)(ae=>!!ae),(0,mn.K)(ae=>{if(Ft(ae))return al(k,H,X)?(0,W.of)([]):(0,W.of)(null);throw ae}))}processSegmentAgainstRoute(M,T,k,H,X){if(T.redirectTo||!Na(T,k,H,X))return(0,W.of)(null);let ae;if("**"===T.path){const We=H.length>0?ni(H).parameters:{},xt=Sl(k)+H.length,un=new Go(H,We,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(T),$i(T),T.component??T._loadedComponent??null,T,Do(k),xt,U(T));ae=(0,W.of)({snapshot:un,consumedSegments:[],remainingSegments:[]})}else ae=Fs(k,T,H,M).pipe((0,Me.U)(({matched:We,consumedSegments:xt,remainingSegments:un,parameters:nn})=>{if(!We)return null;const br=Sl(k)+xt.length;return{snapshot:new Go(xt,nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K(T),$i(T),T.component??T._loadedComponent??null,T,Do(k),br,U(T)),consumedSegments:xt,remainingSegments:un}}));return ae.pipe((0,Ae.w)(We=>{if(null===We)return(0,W.of)(null);const{snapshot:xt,consumedSegments:un,remainingSegments:nn}=We;M=T._injector??M;const br=T._loadedInjector??M,Ki=function au(A){return A.children?A.children:A.loadChildren?A._loadedRoutes:[]}(T),{segmentGroup:Fa,slicedSegments:Mi}=Mo(k,un,nn,Ki.filter(qo=>void 0===qo.redirectTo));if(0===Mi.length&&Fa.hasChildren())return this.processChildren(br,Ki,Fa).pipe((0,Me.U)(qo=>null===qo?null:[new Yn(xt,qo)]));if(0===Ki.length&&0===Mi.length)return(0,W.of)([new Yn(xt,[])]);const To=$i(T)===X;return this.processSegment(br,Ki,Fa,Mi,To?wt:X).pipe((0,Me.U)(qo=>null===qo?null:[new Yn(xt,qo)]))}))}}function bi(A){const M=A.value.routeConfig;return M&&""===M.path&&void 0===M.redirectTo}function xu(A){const M=[],T=new Set;for(const k of A){if(!bi(k)){M.push(k);continue}const H=M.find(X=>k.value.routeConfig===X.value.routeConfig);void 0!==H?(H.children.push(...k.children),T.add(H)):M.push(k)}for(const k of T){const H=xu(k.children);M.push(new Yn(k.value,H))}return M.filter(k=>!T.has(k))}function Do(A){let M=A;for(;M._sourceSegment;)M=M._sourceSegment;return M}function Sl(A){let M=A,T=M._segmentIndexShift??0;for(;M._sourceSegment;)M=M._sourceSegment,T+=M._segmentIndexShift??0;return T-1}function K(A){return A.data||{}}function U(A){return A.resolve||{}}function Cr(A){return"string"==typeof A.title||null===A.title}function jr(A){return(0,Ae.w)(M=>{const T=A(M);return T?(0,z.D)(T).pipe((0,Me.U)(()=>M)):(0,W.of)(M)})}const fi=new b.OlP("ROUTES");let Wr=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.f3M)(b.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,W.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const k=Ge(T.loadComponent()).pipe((0,Me.U)(Kr),(0,Mt.b)(X=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=X}),(0,bt.x)(()=>{this.componentLoaders.delete(T)})),H=new Ve(k,()=>new me.x).pipe(qe());return this.componentLoaders.set(T,H),H}loadChildren(T,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,W.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const X=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,Me.U)(We=>{this.onLoadEndListener&&this.onLoadEndListener(k);let xt,un,nn=!1;Array.isArray(We)?un=We:(xt=We.create(T).injector,un=ar(xt.get(fi,[],b.XFs.Self|b.XFs.Optional)));return{routes:un.map(Fi),injector:xt}}),(0,bt.x)(()=>{this.childrenLoaders.delete(k)})),ae=new Ve(X,()=>new me.x).pipe(qe());return this.childrenLoaders.set(k,ae),ae}loadModuleFactoryOrRoutes(T){return Ge(T()).pipe((0,Me.U)(Kr),(0,Ee.z)(k=>k instanceof b.YKP||Array.isArray(k)?(0,W.of)(k):(0,z.D)(this.compiler.compileModuleAsync(k))))}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Kr(A){return function Qi(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let As=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new me.x,this.configLoader=(0,b.f3M)(Wr),this.environmentInjector=(0,b.f3M)(b.lqb),this.urlSerializer=(0,b.f3M)(kn),this.rootContexts=(0,b.f3M)(Yi),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=H=>this.events.next(new Xi(H)),this.configLoader.onLoadStartListener=H=>this.events.next(new xs(H))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:k})}setupNavigations(T){return this.transitions=new f.X({id:0,targetPageId:0,currentUrlTree:T.currentUrlTree,currentRawUrl:T.currentUrlTree,extractedUrl:T.urlHandlingStrategy.extract(T.currentUrlTree),urlAfterRedirects:T.urlHandlingStrategy.extract(T.currentUrlTree),rawUrl:T.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:di,restoredState:null,currentSnapshot:T.routerState.snapshot,targetSnapshot:null,currentRouterState:T.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Dt.h)(k=>0!==k.id),(0,Me.U)(k=>({...k,extractedUrl:T.urlHandlingStrategy.extract(k.rawUrl)})),(0,Ae.w)(k=>{let H=!1,X=!1;return(0,W.of)(k).pipe((0,Mt.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ae.w)(ae=>{const We=T.browserUrlTree.toString(),xt=!T.navigated||ae.extractedUrl.toString()!==We||We!==T.currentUrlTree.toString();if(!xt&&"reload"!==(ae.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const nn="";return this.events.next(new Un(ae.id,T.serializeUrl(k.rawUrl),nn,0)),T.rawUrlTree=ae.rawUrl,ae.resolve(null),rt.E}if(T.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return Ds(ae.source)&&(T.browserUrlTree=ae.extractedUrl),(0,W.of)(ae).pipe((0,Ae.w)(nn=>{const br=this.transitions?.getValue();return this.events.next(new ur(nn.id,this.urlSerializer.serialize(nn.extractedUrl),nn.source,nn.restoredState)),br!==this.transitions?.getValue()?rt.E:Promise.resolve(nn)}),function ll(A,M,T,k){return(0,Ae.w)(H=>function jl(A,M,T,k,H){return new Cl(A,M,T,k,H).apply()}(A,M,T,H.extractedUrl,k).pipe((0,Me.U)(X=>({...H,urlAfterRedirects:X}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,T.config),(0,Mt.b)(nn=>{this.currentNavigation={...this.currentNavigation,finalUrl:nn.urlAfterRedirects},k.urlAfterRedirects=nn.urlAfterRedirects}),function te(A,M,T,k,H){return(0,Ee.z)(X=>function ja(A,M,T,k,H,X,ae="emptyOnly"){return new Qa(A,M,T,k,H,ae,X).recognize().pipe((0,Ae.w)(We=>null===We?function Ui(A){return new de.y(M=>M.error(A))}(new Wo):(0,W.of)(We)))}(A,M,T,X.urlAfterRedirects,k.serialize(X.urlAfterRedirects),k,H).pipe((0,Me.U)(ae=>({...X,targetSnapshot:ae}))))}(this.environmentInjector,this.rootComponentType,T.config,this.urlSerializer,T.paramsInheritanceStrategy),(0,Mt.b)(nn=>{if(k.targetSnapshot=nn.targetSnapshot,"eager"===T.urlUpdateStrategy){if(!nn.extras.skipLocationChange){const Ki=T.urlHandlingStrategy.merge(nn.urlAfterRedirects,nn.rawUrl);T.setBrowserUrl(Ki,nn)}T.browserUrlTree=nn.urlAfterRedirects}const br=new Cs(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(br)}));if(xt&&T.urlHandlingStrategy.shouldProcessUrl(T.rawUrlTree)){const{id:nn,extractedUrl:br,source:Ki,restoredState:Fa,extras:Mi}=ae,To=new ur(nn,this.urlSerializer.serialize(br),Ki,Fa);this.events.next(To);const qo=Jr(br,this.rootComponentType).snapshot;return k={...ae,targetSnapshot:qo,urlAfterRedirects:br,extras:{...Mi,skipLocationChange:!1,replaceUrl:!1}},(0,W.of)(k)}{const nn="";return this.events.next(new Un(ae.id,T.serializeUrl(k.extractedUrl),nn,1)),T.rawUrlTree=ae.rawUrl,ae.resolve(null),rt.E}}),(0,Mt.b)(ae=>{const We=new Ys(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(We)}),(0,Me.U)(ae=>k={...ae,guards:_a(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),function mr(A,M){return(0,Ee.z)(T=>{const{targetSnapshot:k,currentSnapshot:H,guards:{canActivateChecks:X,canDeactivateChecks:ae}}=T;return 0===ae.length&&0===X.length?(0,W.of)({...T,guardsResult:!0}):function Ni(A,M,T,k){return(0,z.D)(A).pipe((0,Ee.z)(H=>function vs(A,M,T,k,H){const X=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,W.of)(!0);const ae=X.map(We=>{const xt=Li(M)??H,un=Ho(We,xt);return Ge(function le(A){return A&&to(A.canDeactivate)}(un)?un.canDeactivate(A,M,T,k):xt.runInContext(()=>un(A,M,T,k))).pipe((0,Ht.P)())});return(0,W.of)(ae).pipe(cr())}(H.component,H.route,T,M,k)),(0,Ht.P)(H=>!0!==H,!0))}(ae,k,H,A).pipe((0,Ee.z)(We=>We&&function E(A){return"boolean"==typeof A}(We)?function si(A,M,T,k){return(0,z.D)(M).pipe((0,Pt.b)(H=>(0,Pe.z)(function xi(A,M){return null!==A&&M&&M(new Qs(A)),(0,W.of)(!0)}(H.route.parent,k),function zr(A,M){return null!==A&&M&&M(new Qr(A)),(0,W.of)(!0)}(H.route,k),function No(A,M,T){const k=M[M.length-1],X=M.slice(0,M.length-1).reverse().map(ae=>function bo(A){const M=A.routeConfig?A.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:A,guards:M}:null}(ae)).filter(ae=>null!==ae).map(ae=>_e(()=>{const We=ae.guards.map(xt=>{const un=Li(ae.node)??T,nn=Ho(xt,un);return Ge(function V(A){return A&&to(A.canActivateChild)}(nn)?nn.canActivateChild(k,A):un.runInContext(()=>nn(k,A))).pipe((0,Ht.P)())});return(0,W.of)(We).pipe(cr())}));return(0,W.of)(X).pipe(cr())}(A,H.path,T),function zi(A,M,T){const k=M.routeConfig?M.routeConfig.canActivate:null;if(!k||0===k.length)return(0,W.of)(!0);const H=k.map(X=>_e(()=>{const ae=Li(M)??T,We=Ho(X,ae);return Ge(function I(A){return A&&to(A.canActivate)}(We)?We.canActivate(M,A):ae.runInContext(()=>We(M,A))).pipe((0,Ht.P)())}));return(0,W.of)(H).pipe(cr())}(A,H.route,T))),(0,Ht.P)(H=>!0!==H,!0))}(k,X,A,M):(0,W.of)(We)),(0,Me.U)(We=>({...T,guardsResult:We})))})}(this.environmentInjector,ae=>this.events.next(ae)),(0,Mt.b)(ae=>{if(k.guardsResult=ae.guardsResult,on(ae.guardsResult))throw Ca(0,ae.guardsResult);const We=new ji(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(We)}),(0,Dt.h)(ae=>!!ae.guardsResult||(T.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),jr(ae=>{if(ae.guards.canActivateChecks.length)return(0,W.of)(ae).pipe((0,Mt.b)(We=>{const xt=new Rr(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(xt)}),(0,Ae.w)(We=>{let xt=!1;return(0,W.of)(We).pipe(function we(A,M){return(0,Ee.z)(T=>{const{targetSnapshot:k,guards:{canActivateChecks:H}}=T;if(!H.length)return(0,W.of)(T);let X=0;return(0,z.D)(H).pipe((0,Pt.b)(ae=>function ft(A,M,T,k){const H=A.routeConfig,X=A._resolve;return void 0!==H?.title&&!Cr(H)&&(X[qt]=H.title),function Et(A,M,T,k){const H=function Sn(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===H.length)return(0,W.of)({});const X={};return(0,z.D)(H).pipe((0,Ee.z)(ae=>function gi(A,M,T,k){const H=Li(M)??k,X=Ho(A,H);return Ge(X.resolve?X.resolve(M,T):H.runInContext(()=>X(M,T)))}(A[ae],M,T,k).pipe((0,Ht.P)(),(0,Mt.b)(We=>{X[ae]=We}))),pi(1),(0,mt.h)(X),(0,mn.K)(ae=>Ft(ae)?rt.E:(0,Ne._)(ae)))}(X,A,M,k).pipe((0,Me.U)(ae=>(A._resolvedData=ae,A.data=ma(A,T).resolve,H&&Cr(H)&&(A.data[qt]=H.title),null)))}(ae.route,k,A,M)),(0,Mt.b)(()=>X++),pi(1),(0,Ee.z)(ae=>X===H.length?(0,W.of)(T):rt.E))})}(T.paramsInheritanceStrategy,this.environmentInjector),(0,Mt.b)({next:()=>xt=!0,complete:()=>{xt||(T.restoreHistory(We),this.cancelNavigationTransition(We,"",2))}}))}),(0,Mt.b)(We=>{const xt=new po(We.id,this.urlSerializer.serialize(We.extractedUrl),this.urlSerializer.serialize(We.urlAfterRedirects),We.targetSnapshot);this.events.next(xt)}))}),jr(ae=>{const We=xt=>{const un=[];xt.routeConfig?.loadComponent&&!xt.routeConfig._loadedComponent&&un.push(this.configLoader.loadComponent(xt.routeConfig).pipe((0,Mt.b)(nn=>{xt.component=nn}),(0,Me.U)(()=>{})));for(const nn of xt.children)un.push(...We(nn));return un};return(0,Ie.a)(We(ae.targetSnapshot.root)).pipe((0,Ze.d)(),(0,Qe.q)(1))}),jr(()=>this.afterPreactivation()),(0,Me.U)(ae=>{const We=function Ia(A,M,T){const k=ra(A,M._root,T?T._root:void 0);return new Xs(k,M)}(T.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return k={...ae,targetRouterState:We}}),(0,Mt.b)(ae=>{T.currentUrlTree=ae.urlAfterRedirects,T.rawUrlTree=T.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),T.routerState=ae.targetRouterState,"deferred"===T.urlUpdateStrategy&&(ae.extras.skipLocationChange||T.setBrowserUrl(T.rawUrlTree,ae),T.browserUrlTree=ae.urlAfterRedirects)}),((A,M,T)=>(0,Me.U)(k=>(new $o(M,k.targetRouterState,k.currentRouterState,T).activate(A),k)))(this.rootContexts,T.routeReuseStrategy,ae=>this.events.next(ae)),(0,Qe.q)(1),(0,Mt.b)({next:ae=>{H=!0,this.lastSuccessfulNavigation=this.currentNavigation,T.navigated=!0,this.events.next(new Gi(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(T.currentUrlTree))),T.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{H=!0}}),(0,bt.x)(()=>{H||X||this.cancelNavigationTransition(k,"",1),this.currentNavigation?.id===k.id&&(this.currentNavigation=null)}),(0,mn.K)(ae=>{if(X=!0,hi(ae)){Va(ae)||(T.navigated=!0,T.restoreHistory(k,!0));const We=new us(k.id,this.urlSerializer.serialize(k.extractedUrl),ae.message,ae.cancellationCode);if(this.events.next(We),Va(ae)){const xt=T.urlHandlingStrategy.merge(ae.url,T.rawUrlTree),un={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===T.urlUpdateStrategy||Ds(k.source)};T.scheduleNavigation(xt,di,null,un,{resolve:k.resolve,reject:k.reject,promise:k.promise})}else k.resolve(!1)}else{T.restoreHistory(k,!0);const We=new cs(k.id,this.urlSerializer.serialize(k.extractedUrl),ae,k.targetSnapshot??void 0);this.events.next(We);try{k.resolve(T.errorHandler(ae))}catch(xt){k.reject(xt)}}return rt.E}))}))}cancelNavigationTransition(T,k,H){const X=new us(T.id,this.urlSerializer.serialize(T.extractedUrl),k,H);this.events.next(X),T.resolve(!1)}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ds(A){return A!==di}let Ls=(()=>{class A{buildTitle(T){let k,H=T.root;for(;void 0!==H;)k=this.getResolvedTitleForRoute(H)??k,H=H.children.find(X=>X.outlet===wt);return k}getResolvedTitleForRoute(T){return T.data[qt]}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(io)},providedIn:"root"}),A})(),io=(()=>{class A extends Ls{constructor(T){super(),this.title=T}updateTitle(T){const k=this.buildTitle(T);void 0!==k&&this.title.setTitle(k)}}return A.\u0275fac=function(T){return new(T||A)(b.LFG(En.Dx))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Ko=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(Ro)},providedIn:"root"}),A})();class Pu{shouldDetach(M){return!1}store(M,T){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,T){return M.routeConfig===T.routeConfig}}let Ro=(()=>{class A extends Pu{}return A.\u0275fac=function(){let M;return function(k){return(M||(M=b.n5z(A)))(k||A)}}(),A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const rs=new b.OlP("",{providedIn:"root",factory:()=>({})});let Xa=(()=>{class A{}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:function(){return(0,b.f3M)(Pa)},providedIn:"root"}),A})(),Pa=(()=>{class A{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,k){return T}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function _d(A){throw A}function $t(A,M,T){return M.parse("/")}const fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xr=(()=>{class A{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.f3M)(b.c2e),this.isNgZoneEnabled=!1,this.options=(0,b.f3M)(rs,{optional:!0})||{},this.errorHandler=this.options.errorHandler||_d,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$t,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.f3M)(Xa),this.routeReuseStrategy=(0,b.f3M)(Ko),this.urlCreationStrategy=(0,b.f3M)(kt),this.titleStrategy=(0,b.f3M)(Ls),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ar((0,b.f3M)(fi,{optional:!0})??[]),this.navigationTransitions=(0,b.f3M)(As),this.urlSerializer=(0,b.f3M)(kn),this.location=(0,b.f3M)(ht.Ye),this.isNgZoneEnabled=(0,b.f3M)(b.R0b)instanceof b.R0b&&b.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(T=>{this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId??0},T=>{this.console.warn(`Unhandled Navigation Error: ${T}`)})}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const T=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),di,T)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const k="popstate"===T.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(T.url,k,T.state)},0)}))}navigateToSyncWithBrowser(T,k,H){const X={replaceUrl:!0},ae=H?.navigationId?H:null;if(H){const xt={...H};delete xt.navigationId,delete xt.\u0275routerPageId,0!==Object.keys(xt).length&&(X.state=xt)}const We=this.parseUrl(T);this.scheduleNavigation(We,k,ae,X)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(T){this.config=T.map(Fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,k={}){const{relativeTo:H,queryParams:X,fragment:ae,queryParamsHandling:We,preserveFragment:xt}=k,un=xt?this.currentUrlTree.fragment:ae;let nn=null;switch(We){case"merge":nn={...this.currentUrlTree.queryParams,...X};break;case"preserve":nn=this.currentUrlTree.queryParams;break;default:nn=X||null}return null!==nn&&(nn=this.removeEmptyProps(nn)),this.urlCreationStrategy.createUrlTree(H,this.routerState,this.currentUrlTree,T,nn,un??null)}navigateByUrl(T,k={skipLocationChange:!1}){const H=on(T)?T:this.parseUrl(T),X=this.urlHandlingStrategy.merge(H,this.rawUrlTree);return this.scheduleNavigation(X,di,null,k)}navigate(T,k={skipLocationChange:!1}){return function gn(A){for(let M=0;M<A.length;M++){const T=A[M];if(null==T)throw new b.vHH(4008,false)}}(T),this.navigateByUrl(this.createUrlTree(T,k),k)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let k;try{k=this.urlSerializer.parse(T)}catch(H){k=this.malformedUriErrorHandler(H,this.urlSerializer,T)}return k}isActive(T,k){let H;if(H=!0===k?{...fr}:!1===k?{...sa}:k,on(T))return Pn(this.currentUrlTree,T,H);const X=this.parseUrl(T);return Pn(this.currentUrlTree,X,H)}removeEmptyProps(T){return Object.keys(T).reduce((k,H)=>{const X=T[H];return null!=X&&(k[H]=X),k},{})}scheduleNavigation(T,k,H,X,ae){if(this.disposed)return Promise.resolve(!1);let We,xt,un,nn;return ae?(We=ae.resolve,xt=ae.reject,un=ae.promise):un=new Promise((br,Ki)=>{We=br,xt=Ki}),nn="computed"===this.canceledNavigationResolution?H&&H.\u0275routerPageId?H.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:nn,source:k,restoredState:H,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:X,resolve:We,reject:xt,promise:un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),un.catch(br=>Promise.reject(br))}setBrowserUrl(T,k){const H=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(H)||k.extras.replaceUrl){const ae={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(H,"",ae)}else{const X={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.go(H,"",X)}}restoreHistory(T,k=!1){if("computed"===this.canceledNavigationResolution){const X=this.currentPageId-(this.browserPageId??this.currentPageId);0!==X?this.location.historyGo(X):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===X&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,k){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:k}:{navigationId:T}}}return A.\u0275fac=function(T){return new(T||A)},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Dn=(()=>{class A{constructor(T,k,H,X,ae,We){this.router=T,this.route=k,this.tabIndexAttribute=H,this.renderer=X,this.el=ae,this.locationStrategy=We,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new me.x;const xt=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===xt||"area"===xt,this.isAnchorElement?this.subscription=T.events.subscribe(un=>{un instanceof Gi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(T){this._preserveFragment=(0,b.D6c)(T)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(T){this._skipLocationChange=(0,b.D6c)(T)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(T){this._replaceUrl=(0,b.D6c)(T)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,k,H,X,ae){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||k||H||X||ae||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const T=null===this.href?null:(0,b.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",T)}applyAttributeValue(T,k){const H=this.renderer,X=this.el.nativeElement;null!==k?H.setAttribute(X,T,k):H.removeAttribute(X,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return A.\u0275fac=function(T){return new(T||A)(b.Y36(Xr),b.Y36(Ps),b.$8M("tabindex"),b.Y36(b.Qsj),b.Y36(b.SBq),b.Y36(ht.S$))},A.\u0275dir=b.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,k){1&T&&b.NdJ("click",function(X){return k.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&T&&b.uIk("target",k.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[b.TTD]}),A})();class _t{}let ul=(()=>{class A{constructor(T,k,H,X,ae){this.router=T,this.injector=H,this.preloadingStrategy=X,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,Dt.h)(T=>T instanceof Gi),(0,Pt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,k){const H=[];for(const X of k){X.providers&&!X._injector&&(X._injector=(0,b.MMx)(X.providers,T,`Route: ${X.path}`));const ae=X._injector??T,We=X._loadedInjector??ae;(X.loadChildren&&!X._loadedRoutes&&void 0===X.canLoad||X.loadComponent&&!X._loadedComponent)&&H.push(this.preloadConfig(ae,X)),(X.children||X._loadedRoutes)&&H.push(this.processRoutes(We,X.children??X._loadedRoutes))}return(0,z.D)(H).pipe((0,zt.J)())}preloadConfig(T,k){return this.preloadingStrategy.preload(k,()=>{let H;H=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(T,k):(0,W.of)(null);const X=H.pipe((0,Ee.z)(ae=>null===ae?(0,W.of)(void 0):(k._loadedRoutes=ae.routes,k._loadedInjector=ae.injector,this.processRoutes(ae.injector??T,ae.routes))));if(k.loadComponent&&!k._loadedComponent){const ae=this.loader.loadComponent(k);return(0,z.D)([X,ae]).pipe((0,zt.J)())}return X})}}return A.\u0275fac=function(T){return new(T||A)(b.LFG(Xr),b.LFG(b.Sil),b.LFG(b.lqb),b.LFG(_t),b.LFG(Wr))},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();const Wi=new b.OlP("");let lu=(()=>{class A{constructor(T,k,H,X,ae={}){this.urlSerializer=T,this.transitions=k,this.viewportScroller=H,this.zone=X,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Gi&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Js&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Js(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return A.\u0275fac=function(T){b.$Z()},A.\u0275prov=b.Yz7({token:A,factory:A.\u0275fac}),A})();var Es=(()=>((Es=Es||{})[Es.COMPLETE=0]="COMPLETE",Es[Es.FAILED=1]="FAILED",Es[Es.REDIRECTING=2]="REDIRECTING",Es))();const oa=!1;function xo(A,M){return{\u0275kind:A,\u0275providers:M}}const cu=new b.OlP("",{providedIn:"root",factory:()=>!1});function ka(){const A=(0,b.f3M)(b.zs3);return M=>{const T=A.get(b.z2F);if(M!==T.components[0])return;const k=A.get(Xr),H=A.get(Pi);1===A.get(Rn)&&k.initialNavigation(),A.get(is,null,b.XFs.Optional)?.setUpPreloading(),A.get(Wi,null,b.XFs.Optional)?.init(),k.resetRootComponentType(T.componentTypes[0]),H.closed||(H.next(),H.complete(),H.unsubscribe())}}const Pi=new b.OlP(oa?"bootstrap done indicator":"",{factory:()=>new me.x}),Rn=new b.OlP(oa?"initial navigation":"",{providedIn:"root",factory:()=>1});function yd(){let A=[];return A=oa?[{provide:b.Xts,multi:!0,useFactory:()=>{const M=(0,b.f3M)(Xr);return()=>M.events.subscribe(T=>{console.group?.(`Router Event: ${T.constructor.name}`),console.log(function je(A){if(!("type"in A))return`Unknown Router Event: ${A.constructor.name}`;switch(A.type){case 14:return`ActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${A.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${A.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state}, shouldActivate: ${A.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 2:return`NavigationCancel(id: ${A.id}, url: '${A.url}')`;case 16:return`NavigationSkipped(id: ${A.id}, url: '${A.url}')`;case 1:return`NavigationEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${A.id}, url: '${A.url}', error: ${A.error})`;case 0:return`NavigationStart(id: ${A.id}, url: '${A.url}')`;case 6:return`ResolveEnd(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 5:return`ResolveStart(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 10:return`RouteConfigLoadEnd(path: ${A.route.path})`;case 9:return`RouteConfigLoadStart(path: ${A.route.path})`;case 4:return`RoutesRecognized(id: ${A.id}, url: '${A.url}', urlAfterRedirects: '${A.urlAfterRedirects}', state: ${A.state})`;case 15:return`Scroll(anchor: '${A.anchor}', position: '${A.position?`${A.position[0]}, ${A.position[1]}`:null}')`}}(T)),console.log(T),console.groupEnd?.()})}}]:[],xo(1,A)}const is=new b.OlP(oa?"router preloader":"");function Gt(A){return xo(0,[{provide:is,useExisting:ul},{provide:_t,useExisting:A}])}const Nl=!1,xc=new b.OlP(Nl?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),hu=[ht.Ye,{provide:kn,useClass:Si},Xr,Yi,{provide:Ps,useFactory:function uu(A){return A.routerState.root},deps:[Xr]},Wr,Nl?{provide:cu,useValue:!0}:[]];function el(){return new b.PXZ("Router",Xr)}let Pc=(()=>{class A{constructor(T){}static forRoot(T,k){return{ngModule:A,providers:[hu,Nl&&k?.enableTracing?yd().\u0275providers:[],{provide:fi,multi:!0,useValue:T},{provide:xc,useFactory:ss,deps:[[Xr,new b.FiY,new b.tp0]]},{provide:rs,useValue:k||{}},k?.useHash?{provide:ht.S$,useClass:ht.Do}:{provide:ht.S$,useClass:ht.b0},{provide:Wi,useFactory:()=>{const A=(0,b.f3M)(ht.EM),M=(0,b.f3M)(b.R0b),T=(0,b.f3M)(rs),k=(0,b.f3M)(As),H=(0,b.f3M)(kn);return T.scrollOffset&&A.setOffset(T.scrollOffset),new lu(H,k,A,M,T)}},k?.preloadingStrategy?Gt(k.preloadingStrategy).\u0275providers:[],{provide:b.PXZ,multi:!0,useFactory:el},k?.initialNavigation?Eo(k):[],[{provide:$s,useFactory:ka},{provide:b.tb,multi:!0,useExisting:$s}]]}}static forChild(T){return{ngModule:A,providers:[{provide:fi,multi:!0,useValue:T}]}}}return A.\u0275fac=function(T){return new(T||A)(b.LFG(xc,8))},A.\u0275mod=b.oAB({type:A}),A.\u0275inj=b.cJS({imports:[Ga]}),A})();function ss(A){if(Nl&&A)throw new b.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Eo(A){return["disabled"===A.initialNavigation?xo(3,[{provide:b.ip1,multi:!0,useFactory:()=>{const M=(0,b.f3M)(Xr);return()=>{M.setUpLocationChangeListener()}}},{provide:Rn,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?xo(2,[{provide:Rn,useValue:0},{provide:b.ip1,multi:!0,deps:[b.zs3],useFactory:M=>{const T=M.get(ht.V_,Promise.resolve());return()=>T.then(()=>new Promise(k=>{const H=M.get(Xr),X=M.get(Pi);(function $l(A,M){A.events.pipe((0,Dt.h)(T=>T instanceof Gi||T instanceof us||T instanceof cs||T instanceof Un),(0,Me.U)(T=>T instanceof Gi||T instanceof Un?Es.COMPLETE:T instanceof us&&(0===T.code||1===T.code)?Es.REDIRECTING:Es.FAILED),(0,Dt.h)(T=>T!==Es.REDIRECTING),(0,Qe.q)(1)).subscribe(()=>{M()})})(H,()=>{k(!0)}),M.get(As).afterPreactivation=()=>(k(!0),X.closed?(0,W.of)(void 0):X),H.initialNavigation()}))}}]).\u0275providers:[]]}const $s=new b.OlP(Nl?"Router Initializer":"")},3942:(Wt,He,G)=>{G.d(He,{Z:()=>Je});var b=G(2090),z=G(4859),W=G(6881),f=G(1877);class De{constructor(qe,Ve){this._delegate=qe,this.firebase=Ve,(0,W._addComponent)(qe,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(qe,Ve=W._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(qe);return!ht.isInitialized()&&"EXPLICIT"===(null===(me=ht.getComponent())||void 0===me?void 0:me.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Ve})}_removeServiceInstance(qe,Ve=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Ve)}_addComponent(qe){(0,W._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,W._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new b.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function $e(){const tt=function de(tt){const qe={},Ve={__esModule:!0,initializeApp:function Me(Dt,Ee={}){const Ht=W.initializeApp(Dt,Ee);if((0,b.r3)(qe,Ht.name))return qe[Ht.name];const Pt=new tt(Ht,Ve);return qe[Ht.name]=Pt,Pt},app:ht,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Dt){const Ee=Dt.name,Ht=Ee.replace("-compat","");if(W._registerComponent(Dt)&&"PUBLIC"===Dt.type){const Pt=(Mt=ht())=>{if("function"!=typeof Mt[Ht])throw Pe.create("invalid-app-argument",{appName:Ee});return Mt[Ht]()};void 0!==Dt.serviceProps&&(0,b.ZB)(Pt,Dt.serviceProps),Ve[Ht]=Pt,tt.prototype[Ht]=function(...Mt){return this._getService.bind(this,Ee).apply(this,Dt.multipleInstances?Mt:[])}}return"PUBLIC"===Dt.type?Ve[Ht]:null},removeApp:function me(Dt){delete qe[Dt]},useAsService:function At(Dt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:W}};function ht(Dt){if(!(0,b.r3)(qe,Dt=Dt||W._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:Dt});return qe[Dt]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ae(){return Object.keys(qe).map(Dt=>qe[Dt])}}),ht.App=tt,Ve}(De);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function qe(Ve){(0,b.ZB)(tt,Ve)},createSubscribe:b.ne,ErrorFactory:b.LL,deepExtend:b.ZB}),tt}(),ge=new f.Yd("@firebase/app-compat");if((0,b.jU)()&&void 0!==self.firebase){ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=_e;!function st(tt){(0,W.registerVersion)("@firebase/app-compat","0.2.11",tt)}()},6881:(Wt,He,G)=>{G.r(He),G.d(He,{FirebaseError:()=>f.ZR,SDK_VERSION:()=>Si,_DEFAULT_ENTRY_NAME:()=>Tn,_addComponent:()=>rn,_addOrOverwriteComponent:()=>fn,_apps:()=>_n,_clearComponents:()=>lr,_components:()=>On,_getProvider:()=>cn,_registerComponent:()=>or,_removeServiceInstance:()=>hr,deleteApp:()=>Br,getApp:()=>li,getApps:()=>Bn,initializeApp:()=>nr,onLog:()=>yr,registerVersion:()=>ui,setLogLevel:()=>ci});var b=G(5861),z=G(4859),W=G(1877),f=G(2090);const De=(ut,it)=>it.some(Vt=>ut instanceof Vt);let Ie,Pe;const _e=new WeakMap,ge=new WeakMap,Ne=new WeakMap,rt=new WeakMap,st=new WeakMap;let qe={get(ut,it,Vt){if(ut instanceof IDBTransaction){if("done"===it)return ge.get(ut);if("objectStoreNames"===it)return ut.objectStoreNames||Ne.get(ut);if("store"===it)return Vt.objectStoreNames[1]?void 0:Vt.objectStore(Vt.objectStoreNames[0])}return Me(ut[it])},set:(ut,it,Vt)=>(ut[it]=Vt,!0),has:(ut,it)=>ut instanceof IDBTransaction&&("done"===it||"store"===it)||it in ut};function ht(ut){return"function"==typeof ut?function me(ut){return ut!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ut)?function(...it){return ut.apply(Ae(this),it),Me(_e.get(this))}:function(...it){return Me(ut.apply(Ae(this),it))}:function(it,...Vt){const pn=ut.call(Ae(this),it,...Vt);return Ne.set(pn,it.sort?it.sort():[it]),Me(pn)}}(ut):(ut instanceof IDBTransaction&&function tt(ut){if(ge.has(ut))return;const it=new Promise((Vt,pn)=>{const bn=()=>{ut.removeEventListener("complete",jn),ut.removeEventListener("error",wn),ut.removeEventListener("abort",wn)},jn=()=>{Vt(),bn()},wn=()=>{pn(ut.error||new DOMException("AbortError","AbortError")),bn()};ut.addEventListener("complete",jn),ut.addEventListener("error",wn),ut.addEventListener("abort",wn)});ge.set(ut,it)}(ut),De(ut,function de(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ut,qe):ut)}function Me(ut){if(ut instanceof IDBRequest)return function Je(ut){const it=new Promise((Vt,pn)=>{const bn=()=>{ut.removeEventListener("success",jn),ut.removeEventListener("error",wn)},jn=()=>{Vt(Me(ut.result)),bn()},wn=()=>{pn(ut.error),bn()};ut.addEventListener("success",jn),ut.addEventListener("error",wn)});return it.then(Vt=>{Vt instanceof IDBCursor&&_e.set(Vt,ut)}).catch(()=>{}),st.set(it,ut),it}(ut);if(rt.has(ut))return rt.get(ut);const it=ht(ut);return it!==ut&&(rt.set(ut,it),st.set(it,ut)),it}const Ae=ut=>st.get(ut),Dt=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ht=new Map;function Pt(ut,it){if(!(ut instanceof IDBDatabase)||it in ut||"string"!=typeof it)return;if(Ht.get(it))return Ht.get(it);const Vt=it.replace(/FromIndex$/,""),pn=it!==Vt,bn=Ee.includes(Vt);if(!(Vt in(pn?IDBIndex:IDBObjectStore).prototype)||!bn&&!Dt.includes(Vt))return;const jn=function(){var wn=(0,b.Z)(function*(vr,...rr){const _i=this.transaction(vr,bn?"readwrite":"readonly");let Ri=_i.store;return pn&&(Ri=Ri.index(rr.shift())),(yield Promise.all([Ri[Vt](...rr),bn&&_i.done]))[0]});return function(rr){return wn.apply(this,arguments)}}();return Ht.set(it,jn),jn}!function Ve(ut){qe=ut(qe)}(ut=>({...ut,get:(it,Vt,pn)=>Pt(it,Vt)||ut.get(it,Vt,pn),has:(it,Vt)=>!!Pt(it,Vt)||ut.has(it,Vt)}));class Mt{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function mn(ut){return"VERSION"===ut.getComponent()?.type}(Vt)){const pn=Vt.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(Vt=>Vt).join(" ")}}const tn="@firebase/app",gt=new W.Yd("@firebase/app"),Tn="[DEFAULT]",Mn={[tn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,On=new Map;function rn(ut,it){try{ut.container.addComponent(it)}catch(Vt){gt.debug(`Component ${it.name} failed to register with FirebaseApp ${ut.name}`,Vt)}}function fn(ut,it){ut.container.addOrOverwriteComponent(it)}function or(ut){const it=ut.name;if(On.has(it))return gt.debug(`There were multiple attempts to register component ${it}.`),!1;On.set(it,ut);for(const Vt of _n.values())rn(Vt,ut);return!0}function cn(ut,it){const Vt=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),ut.container.getProvider(it)}function hr(ut,it,Vt=Tn){cn(ut,it).clearInstance(Vt)}function lr(){On.clear()}const ri=new f.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kn{constructor(it,Vt,pn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const Si="9.22.1";function nr(ut,it={}){let Vt=ut;"object"!=typeof it&&(it={name:it});const pn=Object.assign({name:Tn,automaticDataCollectionEnabled:!1},it),bn=pn.name;if("string"!=typeof bn||!bn)throw ri.create("bad-app-name",{appName:String(bn)});if(Vt||(Vt=(0,f.aH)()),!Vt)throw ri.create("no-options");const jn=_n.get(bn);if(jn){if((0,f.vZ)(Vt,jn.options)&&(0,f.vZ)(pn,jn.config))return jn;throw ri.create("duplicate-app",{appName:bn})}const wn=new z.H0(bn);for(const rr of On.values())wn.addComponent(rr);const vr=new kn(Vt,pn,wn);return _n.set(bn,vr),vr}function li(ut=Tn){const it=_n.get(ut);if(!it&&ut===Tn&&(0,f.aH)())return nr();if(!it)throw ri.create("no-app",{appName:ut});return it}function Bn(){return Array.from(_n.values())}function Br(ut){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,b.Z)(function*(ut){const it=ut.name;_n.has(it)&&(_n.delete(it),yield Promise.all(ut.container.getProviders().map(Vt=>Vt.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function ui(ut,it,Vt){var pn;let bn=null!==(pn=Mn[ut])&&void 0!==pn?pn:ut;Vt&&(bn+=`-${Vt}`);const jn=bn.match(/\s|\//),wn=it.match(/\s|\//);if(jn||wn){const vr=[`Unable to register library "${bn}" with version "${it}":`];return jn&&vr.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),jn&&wn&&vr.push("and"),wn&&vr.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void gt.warn(vr.join(" "))}or(new z.wA(`${bn}-version`,()=>({library:bn,version:it}),"VERSION"))}function yr(ut,it){if(null!==ut&&"function"!=typeof ut)throw ri.create("invalid-log-argument");(0,W.Am)(ut,it)}function ci(ut){(0,W.Ub)(ut)}const Ai="firebase-heartbeat-database",Tr=1,Se="firebase-heartbeat-store";let ye=null;function ne(){return ye||(ye=function Qe(ut,it,{blocked:Vt,upgrade:pn,blocking:bn,terminated:jn}={}){const wn=indexedDB.open(ut,it),vr=Me(wn);return pn&&wn.addEventListener("upgradeneeded",rr=>{pn(Me(wn.result),rr.oldVersion,rr.newVersion,Me(wn.transaction),rr)}),Vt&&wn.addEventListener("blocked",rr=>Vt(rr.oldVersion,rr.newVersion,rr)),vr.then(rr=>{jn&&rr.addEventListener("close",()=>jn()),bn&&rr.addEventListener("versionchange",_i=>bn(_i.oldVersion,_i.newVersion,_i))}).catch(()=>{}),vr}(Ai,Tr,{upgrade:(ut,it)=>{0===it&&ut.createObjectStore(Se)}}).catch(ut=>{throw ri.create("idb-open",{originalErrorMessage:ut.message})})),ye}function ee(){return(ee=(0,b.Z)(function*(ut){try{return yield(yield ne()).transaction(Se).objectStore(Se).get(ve(ut))}catch(it){if(it instanceof f.ZR)gt.warn(it.message);else{const Vt=ri.create("idb-get",{originalErrorMessage:it?.message});gt.warn(Vt.message)}}})).apply(this,arguments)}function Re(ut,it){return fe.apply(this,arguments)}function fe(){return(fe=(0,b.Z)(function*(ut,it){try{const pn=(yield ne()).transaction(Se,"readwrite");yield pn.objectStore(Se).put(it,ve(ut)),yield pn.done}catch(Vt){if(Vt instanceof f.ZR)gt.warn(Vt.message);else{const pn=ri.create("idb-set",{originalErrorMessage:Vt?.message});gt.warn(pn.message)}}})).apply(this,arguments)}function ve(ut){return`${ut.name}!${ut.options.appId}`}class Xe{constructor(it){this.container=it,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new an(Vt),this._heartbeatsCachePromise=this._storage.read().then(pn=>(this._heartbeatsCache=pn,pn))}triggerHeartbeat(){var it=this;return(0,b.Z)(function*(){const pn=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=Ct();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==bn&&!it._heartbeatsCache.heartbeats.some(jn=>jn.date===bn))return it._heartbeatsCache.heartbeats.push({date:bn,agent:pn}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(jn=>{const wn=new Date(jn.date).valueOf();return Date.now()-wn<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,b.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const Vt=Ct(),{heartbeatsToSend:pn,unsentEntries:bn}=function on(ut,it=1024){const Vt=[];let pn=ut.slice();for(const bn of ut){const jn=Vt.find(wn=>wn.agent===bn.agent);if(jn){if(jn.dates.push(bn.date),Ar(Vt)>it){jn.dates.pop();break}}else if(Vt.push({agent:bn.agent,dates:[bn.date]}),Ar(Vt)>it){Vt.pop();break}pn=pn.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:pn}}(it._heartbeatsCache.heartbeats),jn=(0,f.L)(JSON.stringify({version:2,heartbeats:pn}));return it._heartbeatsCache.lastSentHeartbeatDate=Vt,bn.length>0?(it._heartbeatsCache.heartbeats=bn,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),jn})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class an{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,b.Z)(function*(){return!!(0,f.hl)()&&(0,f.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,b.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function oe(ut){return ee.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var Vt=this;return(0,b.Z)(function*(){var pn;if(yield Vt._canUseIndexedDBPromise){const jn=yield Vt.read();return Re(Vt.app,{lastSentHeartbeatDate:null!==(pn=it.lastSentHeartbeatDate)&&void 0!==pn?pn:jn.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var Vt=this;return(0,b.Z)(function*(){var pn;if(yield Vt._canUseIndexedDBPromise){const jn=yield Vt.read();return Re(Vt.app,{lastSentHeartbeatDate:null!==(pn=it.lastSentHeartbeatDate)&&void 0!==pn?pn:jn.lastSentHeartbeatDate,heartbeats:[...jn.heartbeats,...it.heartbeats]})}})()}}function Ar(ut){return(0,f.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function Dr(ut){or(new z.wA("platform-logger",it=>new Mt(it),"PRIVATE")),or(new z.wA("heartbeat",it=>new Xe(it),"PRIVATE")),ui(tn,"0.9.11",ut),ui(tn,"0.9.11","esm2017"),ui("fire-js","")}("")},4859:(Wt,He,G)=>{G.d(He,{H0:()=>de,wA:()=>W});var b=G(5861),z=G(2090);class W{constructor(_e,ge,Ne){this.name=_e,this.instanceFactory=ge,this.type=Ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const f="[DEFAULT]";class De{constructor(_e,ge){this.name=_e,this.container=ge,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const ge=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(ge)){const Ne=new z.BH;if(this.instancesDeferred.set(ge,Ne),this.isInitialized(ge)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:ge});rt&&Ne.resolve(rt)}catch{}}return this.instancesDeferred.get(ge).promise}getImmediate(_e){var ge;const Ne=this.normalizeInstanceIdentifier(_e?.identifier),rt=null!==(ge=_e?.optional)&&void 0!==ge&&ge;if(!this.isInitialized(Ne)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ne})}catch(st){if(rt)return null;throw st}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function Pe($e){return"EAGER"===$e.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:f})}catch{}for(const[ge,Ne]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(ge);try{const st=this.getOrInitializeService({instanceIdentifier:rt});Ne.resolve(st)}catch{}}}}clearInstance(_e=f){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,b.Z)(function*(){const ge=Array.from(_e.instances.values());yield Promise.all([...ge.filter(Ne=>"INTERNAL"in Ne).map(Ne=>Ne.INTERNAL.delete()),...ge.filter(Ne=>"_delete"in Ne).map(Ne=>Ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=f){return this.instances.has(_e)}getOptions(_e=f){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:ge={}}=_e,Ne=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ne))throw Error(`${this.name}(${Ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:Ne,options:ge});for(const[st,Je]of this.instancesDeferred.entries())Ne===this.normalizeInstanceIdentifier(st)&&Je.resolve(rt);return rt}onInit(_e,ge){var Ne;const rt=this.normalizeInstanceIdentifier(ge),st=null!==(Ne=this.onInitCallbacks.get(rt))&&void 0!==Ne?Ne:new Set;st.add(_e),this.onInitCallbacks.set(rt,st);const Je=this.instances.get(rt);return Je&&_e(Je,rt),()=>{st.delete(_e)}}invokeOnInitCallbacks(_e,ge){const Ne=this.onInitCallbacks.get(ge);if(Ne)for(const rt of Ne)try{rt(_e,ge)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:ge={}}){let Ne=this.instances.get(_e);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:($e=_e,$e===f?void 0:$e),options:ge}),this.instances.set(_e,Ne),this.instancesOptions.set(_e,ge),this.invokeOnInitCallbacks(Ne,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Ne)}catch{}var $e;return Ne||null}normalizeInstanceIdentifier(_e=f){return this.component?this.component.multipleInstances?_e:f:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const ge=this.getProvider(_e.name);if(ge.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);ge.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const ge=new De(_e,this);return this.providers.set(_e,ge),ge}getProviders(){return Array.from(this.providers.values())}}},1877:(Wt,He,G)=>{G.d(He,{Am:()=>$e,Ub:()=>de,Yd:()=>Pe,in:()=>z});const b=[];var z=(()=>{return(_e=z||(z={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",z;var _e})();const W={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},f=z.INFO,De={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},Ie=(_e,ge,...Ne)=>{if(ge<_e.logLevel)return;const rt=(new Date).toISOString(),st=De[ge];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${ge})`);console[st](`[${rt}]  ${_e.name}:`,...Ne)};class Pe{constructor(ge){this.name=ge,this._logLevel=f,this._logHandler=Ie,this._userLogHandler=null,b.push(this)}get logLevel(){return this._logLevel}set logLevel(ge){if(!(ge in z))throw new TypeError(`Invalid value "${ge}" assigned to \`logLevel\``);this._logLevel=ge}setLogLevel(ge){this._logLevel="string"==typeof ge?W[ge]:ge}get logHandler(){return this._logHandler}set logHandler(ge){if("function"!=typeof ge)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ge}get userLogHandler(){return this._userLogHandler}set userLogHandler(ge){this._userLogHandler=ge}debug(...ge){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...ge),this._logHandler(this,z.DEBUG,...ge)}log(...ge){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...ge),this._logHandler(this,z.VERBOSE,...ge)}info(...ge){this._userLogHandler&&this._userLogHandler(this,z.INFO,...ge),this._logHandler(this,z.INFO,...ge)}warn(...ge){this._userLogHandler&&this._userLogHandler(this,z.WARN,...ge),this._logHandler(this,z.WARN,...ge)}error(...ge){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...ge),this._logHandler(this,z.ERROR,...ge)}}function de(_e){b.forEach(ge=>{ge.setLogLevel(_e)})}function $e(_e,ge){for(const Ne of b){let rt=null;ge&&ge.level&&(rt=W[ge.level]),Ne.userLogHandler=null===_e?null:(st,Je,...tt)=>{const qe=tt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Je>=(rt??st.logLevel)&&_e({level:z[Je].toLowerCase(),message:qe,args:tt,type:st.name})}}}},259:(Wt,He,G)=>{G.d(He,{C6:()=>b.getApps,Mq:()=>b.getApp});var b=G(6881);(0,b.registerVersion)("firebase","9.22.1","app")},9260:(Wt,He,G)=>{G.d(He,{Z:()=>b.Z});var b=G(3942);b.Z.registerVersion("firebase","9.22.1","app-compat")},9568:(Wt,He,G)=>{G.r(He);var b=G(5861),z=G(3942),W=G(1389),f=G(2090),Pe=(G(6881),G(1877),G(4859));function de(){return window}const $e=2e3;function ge(){return ge=(0,b.Z)(function*(ne,oe,ee){var Re;const{BuildInfo:fe}=de();(0,W.as)(oe.sessionId,"AuthEvent did not contain a session ID");const ve=yield function Ve(ne){return me.apply(this,arguments)}(oe.sessionId),ce={};return(0,W.at)()?ce.ibi=fe.packageName:(0,W.au)()?ce.apn=fe.packageName:(0,W.av)(ne,"operation-not-supported-in-this-environment"),fe.displayName&&(ce.appDisplayName=fe.displayName),ce.sessionId=ve,(0,W.aw)(ne,ee,oe.type,void 0,null!==(Re=oe.eventId)&&void 0!==Re?Re:void 0,ce)}),ge.apply(this,arguments)}function rt(){return(rt=(0,b.Z)(function*(ne){const{BuildInfo:oe}=de(),ee={};(0,W.at)()?ee.iosBundleId=oe.packageName:(0,W.au)()?ee.androidPackageName=oe.packageName:(0,W.av)(ne,"operation-not-supported-in-this-environment"),yield(0,W.ax)(ne,ee)})).apply(this,arguments)}function tt(){return(tt=(0,b.Z)(function*(ne,oe,ee){const{cordova:Re}=de();let fe=()=>{};try{yield new Promise((ve,ce)=>{let Te=null;function Xe(){var an;ve();const Ar=null===(an=Re.plugins.browsertab)||void 0===an?void 0:an.close;"function"==typeof Ar&&Ar(),"function"==typeof ee?.close&&ee.close()}function Ct(){Te||(Te=window.setTimeout(()=>{ce((0,W.az)(ne,"redirect-cancelled-by-user"))},$e))}function on(){"visible"===document?.visibilityState&&Ct()}oe.addPassiveListener(Xe),document.addEventListener("resume",Ct,!1),(0,W.au)()&&document.addEventListener("visibilitychange",on,!1),fe=()=>{oe.removePassiveListener(Xe),document.removeEventListener("resume",Ct,!1),document.removeEventListener("visibilitychange",on,!1),Te&&window.clearTimeout(Te)}})}finally{fe()}})).apply(this,arguments)}function me(){return(me=(0,b.Z)(function*(ne){const oe=function ht(ne){if((0,W.as)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ne);const oe=new ArrayBuffer(ne.length),ee=new Uint8Array(oe);for(let Re=0;Re<ne.length;Re++)ee[Re]=ne.charCodeAt(Re);return ee}(ne),ee=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(ee)).map(fe=>fe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Me=20;class Ae extends W.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,b.Z)(function*(){yield oe.initPromise})()}}function Dt(ne){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,b.Z)(function*(ne){const oe=yield Mt()._get(mn(ne));return oe&&(yield Mt()._remove(mn(ne))),oe})).apply(this,arguments)}function Pt(){const ne=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<Me;ee++){const Re=Math.floor(Math.random()*oe.length);ne.push(oe.charAt(Re))}return ne.join("")}function Mt(){return(0,W.aC)(W.b)}function mn(ne){return(0,W.aD)("authEvent",ne.config.apiKey,ne.name)}function gt(ne){if(!ne?.includes("?"))return{};const[oe,...ee]=ne.split("?");return(0,f.zd)(ee.join("?"))}const ot=class ct{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(oe){var ee=this;return(0,b.Z)(function*(){const Re=oe._key();let fe=ee.eventManagers.get(Re);return fe||(fe=new Ae(oe),ee.eventManagers.set(Re,fe),ee.attachCallbackListeners(oe,fe)),fe})()}_openPopup(oe){(0,W.av)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,ee,Re,fe){var ve=this;return(0,b.Z)(function*(){!function qe(ne){var oe,ee,Re,fe,ve,ce,Te,Xe,Ct,on;const an=de();(0,W.aA)("function"==typeof(null===(oe=an?.universalLinks)||void 0===oe?void 0:oe.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aA)(typeof(null===(ee=an?.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aA)("function"==typeof(null===(ve=null===(fe=null===(Re=an?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===ve?void 0:ve.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Xe=null===(Te=null===(ce=an?.cordova)||void 0===ce?void 0:ce.plugins)||void 0===Te?void 0:Te.browsertab)||void 0===Xe?void 0:Xe.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(on=null===(Ct=an?.cordova)||void 0===Ct?void 0:Ct.InAppBrowser)||void 0===on?void 0:on.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const ce=yield ve._initialize(oe);yield ce.initialized(),ce.resetRedirect(),(0,W.aG)(),yield ve._originValidation(oe);const Te=function Qe(ne,oe,ee=null){return{type:oe,eventId:ee,urlResponse:null,sessionId:Pt(),postBody:null,tenantId:ne.tenantId,error:(0,W.az)(ne,"no-auth-event")}}(oe,Re,fe);yield function At(ne,oe){return Mt()._set(mn(ne),oe)}(oe,Te);const Xe=yield function _e(ne,oe,ee){return ge.apply(this,arguments)}(oe,Te,ee),Ct=yield function st(ne){const{cordova:oe}=de();return new Promise(ee=>{oe.plugins.browsertab.isAvailable(Re=>{let fe=null;Re?oe.plugins.browsertab.openUrl(ne):fe=oe.InAppBrowser.open(ne,(0,W.ay)()?"_blank":"_system","location=yes"),ee(fe)})})}(Xe);return function Je(ne,oe,ee){return tt.apply(this,arguments)}(oe,ce,Ct)})()}_isIframeWebStorageSupported(oe,ee){throw new Error("Method not implemented.")}_originValidation(oe){const ee=oe._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function Ne(ne){return rt.apply(this,arguments)}(oe)),this.originValidationPromises[ee]}attachCallbackListeners(oe,ee){const{universalLinks:Re,handleOpenURL:fe,BuildInfo:ve}=de(),ce=setTimeout((0,b.Z)(function*(){yield Dt(oe),ee.onEvent(It())}),500),Te=function(){var on=(0,b.Z)(function*(an){clearTimeout(ce);const Ar=yield Dt(oe);let Dr=null;Ar&&an?.url&&(Dr=function Ht(ne,oe){var ee,Re;const fe=function pi(ne){const oe=gt(ne),ee=oe.link?decodeURIComponent(oe.link):void 0,Re=gt(ee).link,fe=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return gt(fe).link||fe||Re||ee||ne}(oe);if(fe.includes("/__/auth/callback")){const ve=gt(fe),ce=ve.firebaseError?function tn(ne){try{return JSON.parse(ne)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,Te=null===(Re=null===(ee=ce?.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Re?void 0:Re[1],Xe=Te?(0,W.az)(Te):null;return Xe?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:Xe,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:fe,postBody:null}}return null}(Ar,an.url)),ee.onEvent(Dr||It())});return function(Ar){return on.apply(this,arguments)}}();typeof Re<"u"&&"function"==typeof Re.subscribe&&Re.subscribe(null,Te);const Xe=fe,Ct=`${ve.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var on=(0,b.Z)(function*(an){if(an.toLowerCase().startsWith(Ct)&&Te({url:an}),"function"==typeof Xe)try{Xe(an)}catch(Ar){console.error(Ar)}});return function(an){return on.apply(this,arguments)}}()}};function It(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.az)("no-auth-event")}}const En=1e3;function wt(){var ne;return(null===(ne=self?.location)||void 0===ne?void 0:ne.protocol)||null}function hn(ne=(0,f.z$)()){return!("file:"!==wt()&&"ionic:"!==wt()&&"capacitor:"!==wt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function er(){try{const ne=self.localStorage,oe=W.aL();if(ne)return ne.setItem(oe,"1"),ne.removeItem(oe),!function Xn(ne=(0,f.z$)()){return function gr(){return(0,f.w1)()&&11===document?.documentMode}()||function Yr(ne=(0,f.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,f.hl)()}catch{return ar()&&(0,f.hl)()}return!1}function ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ni(){return(function qt(){return"http:"===wt()||"https:"===wt()}()||(0,f.ru)()||hn())&&!function Jn(){return(0,f.b$)()||(0,f.UG)()}()&&er()&&!ar()}function Ye(){return hn()&&typeof document<"u"}function Ge(){return(Ge=(0,b.Z)(function*(){return!!Ye()&&new Promise(ne=>{const oe=setTimeout(()=>{ne(!1)},En);document.addEventListener("deviceready",()=>{clearTimeout(oe),ne(!0)})})})).apply(this,arguments)}const Ot={LOCAL:"local",NONE:"none",SESSION:"session"},Qt=W.aA,Pn="persistence";function Mn(ne){return _n.apply(this,arguments)}function _n(){return(_n=(0,b.Z)(function*(ne){yield ne._initializationPromise;const oe=rn(),ee=W.aD(Pn,ne.config.apiKey,ne.name);oe&&oe.setItem(ee,ne._getPersistence())})).apply(this,arguments)}function rn(){var ne;try{return(null===(ne=function Ue(){return typeof window<"u"?window:null}())||void 0===ne?void 0:ne.sessionStorage)||null}catch{return null}}const fn=W.aA;class or{constructor(){this.browserResolver=W.aC(W.k),this.cordovaResolver=W.aC(ot),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(oe){var ee=this;return(0,b.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,ee,Re,fe){var ve=this;return(0,b.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(oe,ee,Re,fe)})()}_openRedirect(oe,ee,Re,fe){var ve=this;return(0,b.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(oe,ee,Re,fe)})()}_isIframeWebStorageSupported(oe,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,ee)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return Ye()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,b.Z)(function*(){if(oe.underlyingResolver)return;const ee=yield function ke(){return Ge.apply(this,arguments)}();oe.underlyingResolver=ee?oe.cordovaResolver:oe.browserResolver})()}}function cn(ne){return ne.unwrap()}function lr(ne){return ri(ne)}function ri(ne){const{_tokenResponse:oe}=ne instanceof f.ZR?ne.customData:ne;if(!oe)return null;if(!(ne instanceof f.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return W.P.credentialFromResult(ne);const ee=oe.providerId;if(!ee||ee===W.p.PASSWORD)return null;let Re;switch(ee){case W.p.GOOGLE:Re=W.V;break;case W.p.FACEBOOK:Re=W.U;break;case W.p.GITHUB:Re=W.W;break;case W.p.TWITTER:Re=W.Z;break;default:const{oauthIdToken:fe,oauthAccessToken:ve,oauthTokenSecret:ce,pendingToken:Te,nonce:Xe}=oe;return ve||ce||fe||Te?Te?ee.startsWith("saml.")?W.aO._create(ee,Te):W.L._fromParams({providerId:ee,signInMethod:ee,pendingToken:Te,idToken:fe,accessToken:ve}):new W.X(ee).credential({idToken:fe,accessToken:ve,rawNonce:Xe}):null}return ne instanceof f.ZR?Re.credentialFromError(ne):Re.credentialFromResult(ne)}function kn(ne,oe){return oe.catch(ee=>{throw ee instanceof f.ZR&&function Hn(ne,oe){var ee;const Re=null===(ee=oe.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===oe?.code)oe.resolver=new li(ne,W.aq(ne,oe));else if(Re){const fe=ri(oe),ve=oe;fe&&(ve.credential=fe,ve.tenantId=Re.tenantId||void 0,ve.email=Re.email||void 0,ve.phoneNumber=Re.phoneNumber||void 0)}}(ne,ee),ee}).then(ee=>{const fe=ee.user;return{operationType:ee.operationType,credential:lr(ee),additionalUserInfo:W.ao(ee),user:Bn.getOrCreate(fe)}})}function Si(ne,oe){return nr.apply(this,arguments)}function nr(){return(nr=(0,b.Z)(function*(ne,oe){const ee=yield oe;return{verificationId:ee.verificationId,confirm:Re=>kn(ne,ee.confirm(Re))}})).apply(this,arguments)}class li{constructor(oe,ee){this.resolver=ee,this.auth=function hr(ne){return ne.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return kn(cn(this.auth),this.resolver.resolveSignIn(oe))}}class Bn{constructor(oe){this._delegate=oe,this.multiFactor=W.ar(oe)}static getOrCreate(oe){return Bn.USER_MAP.has(oe)||Bn.USER_MAP.set(oe,new Bn(oe)),Bn.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var ee=this;return(0,b.Z)(function*(){return kn(ee.auth,W.a0(ee._delegate,oe))})()}linkWithPhoneNumber(oe,ee){var Re=this;return(0,b.Z)(function*(){return Si(Re.auth,W.l(Re._delegate,oe,ee))})()}linkWithPopup(oe){var ee=this;return(0,b.Z)(function*(){return kn(ee.auth,W.d(ee._delegate,oe,or))})()}linkWithRedirect(oe){var ee=this;return(0,b.Z)(function*(){return yield Mn(W.aH(ee.auth)),W.g(ee._delegate,oe,or)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var ee=this;return(0,b.Z)(function*(){return kn(ee.auth,W.a1(ee._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,ee){return Si(this.auth,W.r(this._delegate,oe,ee))}reauthenticateWithPopup(oe){return kn(this.auth,W.e(this._delegate,oe,or))}reauthenticateWithRedirect(oe){var ee=this;return(0,b.Z)(function*(){return yield Mn(W.aH(ee.auth)),W.h(ee._delegate,oe,or)})()}sendEmailVerification(oe){return W.ae(this._delegate,oe)}unlink(oe){var ee=this;return(0,b.Z)(function*(){return yield W.an(ee._delegate,oe),ee})()}updateEmail(oe){return W.aj(this._delegate,oe)}updatePassword(oe){return W.ak(this._delegate,oe)}updatePhoneNumber(oe){return W.u(this._delegate,oe)}updateProfile(oe){return W.ai(this._delegate,oe)}verifyBeforeUpdateEmail(oe,ee){return W.af(this._delegate,oe,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const Br=W.aA;let Sr=(()=>{class ne{constructor(ee,Re){if(this.app=ee,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:fe}=ee.options;Br(fe,"invalid-api-key",{appName:ee.name}),Br(fe,"invalid-api-key",{appName:ee.name});const ve=typeof window<"u"?or:void 0;this._delegate=Re.initialize({options:{persistence:yr(fe,ee.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(W.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Re){W.I(this._delegate,ee,Re)}applyActionCode(ee){return W.a5(this._delegate,ee)}checkActionCode(ee){return W.a6(this._delegate,ee)}confirmPasswordReset(ee,Re){return W.a4(this._delegate,ee,Re)}createUserWithEmailAndPassword(ee,Re){var fe=this;return(0,b.Z)(function*(){return kn(fe._delegate,W.a8(fe._delegate,ee,Re))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return W.ad(this._delegate,ee)}isSignInWithEmailLink(ee){return W.ab(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,b.Z)(function*(){Br(ni(),ee._delegate,"operation-not-supported-in-this-environment");const Re=yield W.j(ee._delegate,or);return Re?kn(ee._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function mt(ne,oe){(0,W.aH)(ne)._logFramework(oe)}(this._delegate,ee)}onAuthStateChanged(ee,Re,fe){const{next:ve,error:ce,complete:Te}=ui(ee,Re,fe);return this._delegate.onAuthStateChanged(ve,ce,Te)}onIdTokenChanged(ee,Re,fe){const{next:ve,error:ce,complete:Te}=ui(ee,Re,fe);return this._delegate.onIdTokenChanged(ve,ce,Te)}sendSignInLinkToEmail(ee,Re){return W.aa(this._delegate,ee,Re)}sendPasswordResetEmail(ee,Re){return W.a3(this._delegate,ee,Re||void 0)}setPersistence(ee){var Re=this;return(0,b.Z)(function*(){let fe;switch(function Tn(ne,oe){Qt(Object.values(Ot).includes(oe),ne,"invalid-persistence-type"),(0,f.b$)()?Qt(oe!==Ot.SESSION,ne,"unsupported-persistence-type"):(0,f.UG)()?Qt(oe===Ot.NONE,ne,"unsupported-persistence-type"):ar()?Qt(oe===Ot.NONE||oe===Ot.LOCAL&&(0,f.hl)(),ne,"unsupported-persistence-type"):Qt(oe===Ot.NONE||er(),ne,"unsupported-persistence-type")}(Re._delegate,ee),ee){case Ot.SESSION:fe=W.a;break;case Ot.LOCAL:fe=(yield W.aC(W.i)._isAvailable())?W.i:W.b;break;case Ot.NONE:fe=W.N;break;default:return W.av("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(fe)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return kn(this._delegate,W._(this._delegate))}signInWithCredential(ee){return kn(this._delegate,W.$(this._delegate,ee))}signInWithCustomToken(ee){return kn(this._delegate,W.a2(this._delegate,ee))}signInWithEmailAndPassword(ee,Re){return kn(this._delegate,W.a9(this._delegate,ee,Re))}signInWithEmailLink(ee,Re){return kn(this._delegate,W.ac(this._delegate,ee,Re))}signInWithPhoneNumber(ee,Re){return Si(this._delegate,W.s(this._delegate,ee,Re))}signInWithPopup(ee){var Re=this;return(0,b.Z)(function*(){return Br(ni(),Re._delegate,"operation-not-supported-in-this-environment"),kn(Re._delegate,W.c(Re._delegate,ee,or))})()}signInWithRedirect(ee){var Re=this;return(0,b.Z)(function*(){return Br(ni(),Re._delegate,"operation-not-supported-in-this-environment"),yield Mn(Re._delegate),W.f(Re._delegate,ee,or)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return W.a7(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=Ot,ne})();function ui(ne,oe,ee){let Re=ne;"function"!=typeof ne&&({next:Re,error:oe,complete:ee}=ne);const fe=Re;return{next:ce=>fe(ce&&Bn.getOrCreate(ce)),error:oe,complete:ee}}function yr(ne,oe){const ee=function On(ne,oe){const ee=rn();if(!ee)return[];const Re=W.aD(Pn,ne,oe);switch(ee.getItem(Re)){case Ot.NONE:return[W.N];case Ot.LOCAL:return[W.i,W.a];case Ot.SESSION:return[W.a];default:return[]}}(ne,oe);if(typeof self<"u"&&!ee.includes(W.i)&&ee.push(W.i),typeof window<"u")for(const Re of[W.b,W.a])ee.includes(Re)||ee.push(Re);return ee.includes(W.N)||ee.push(W.N),ee}class ci{constructor(){this.providerId="phone",this._delegate=new W.P(cn(z.Z.auth()))}static credential(oe,ee){return W.P.credential(oe,ee)}verifyPhoneNumber(oe,ee){return this._delegate.verifyPhoneNumber(oe,ee)}unwrap(){return this._delegate}}ci.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,ci.PROVIDER_ID=W.P.PROVIDER_ID;const Ai=W.aA;class Tr{constructor(oe,ee,Re=z.Z.app()){var fe;Ai(null===(fe=Re.options)||void 0===fe?void 0:fe.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new W.R(oe,ee,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(ne){ne.INTERNAL.registerComponent(new Pe.wA("auth-compat",oe=>{const ee=oe.getProvider("app-compat").getImmediate(),Re=oe.getProvider("auth");return new Sr(ee,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.Q,FacebookAuthProvider:W.U,GithubAuthProvider:W.W,GoogleAuthProvider:W.V,OAuthProvider:W.X,SAMLAuthProvider:W.Y,PhoneAuthProvider:ci,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:Tr,TwitterAuthProvider:W.Z,Auth:Sr,AuthCredential:W.J,Error:f.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.4.2")}(z.Z)},5861:(Wt,He,G)=>{function b(W,f,De,Ie,Pe,de,$e){try{var _e=W[de]($e),ge=_e.value}catch(Ne){return void De(Ne)}_e.done?f(ge):Promise.resolve(ge).then(Ie,Pe)}function z(W){return function(){var f=this,De=arguments;return new Promise(function(Ie,Pe){var de=W.apply(f,De);function $e(ge){b(de,Ie,Pe,$e,_e,"next",ge)}function _e(ge){b(de,Ie,Pe,$e,_e,"throw",ge)}$e(void 0)})}}G.d(He,{Z:()=>z})},7582:(Wt,He,G)=>{function f(gt,Ze){var ct={};for(var ot in gt)Object.prototype.hasOwnProperty.call(gt,ot)&&Ze.indexOf(ot)<0&&(ct[ot]=gt[ot]);if(null!=gt&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(ot=Object.getOwnPropertySymbols(gt);It<ot.length;It++)Ze.indexOf(ot[It])<0&&Object.prototype.propertyIsEnumerable.call(gt,ot[It])&&(ct[ot[It]]=gt[ot[It]])}return ct}function Ne(gt,Ze,ct,ot){return new(ct||(ct=Promise))(function(mt,bt){function zt(qt){try{wt(ot.next(qt))}catch(hn){bt(hn)}}function En(qt){try{wt(ot.throw(qt))}catch(hn){bt(hn)}}function wt(qt){qt.done?mt(qt.value):function It(mt){return mt instanceof ct?mt:new ct(function(bt){bt(mt)})}(qt.value).then(zt,En)}wt((ot=ot.apply(gt,Ze||[])).next())})}function Me(gt){return this instanceof Me?(this.v=gt,this):new Me(gt)}function Ae(gt,Ze,ct){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,ot=ct.apply(gt,Ze||[]),mt=[];return It={},bt("next"),bt("throw"),bt("return"),It[Symbol.asyncIterator]=function(){return this},It;function bt(Jn){ot[Jn]&&(It[Jn]=function(gr){return new Promise(function(Yr,Xn){mt.push([Jn,gr,Yr,Xn])>1||zt(Jn,gr)})})}function zt(Jn,gr){try{!function En(Jn){Jn.value instanceof Me?Promise.resolve(Jn.value.v).then(wt,qt):hn(mt[0][2],Jn)}(ot[Jn](gr))}catch(Yr){hn(mt[0][3],Yr)}}function wt(Jn){zt("next",Jn)}function qt(Jn){zt("throw",Jn)}function hn(Jn,gr){Jn(gr),mt.shift(),mt.length&&zt(mt[0][0],mt[0][1])}}function At(gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct,Ze=gt[Symbol.asyncIterator];return Ze?Ze.call(gt):(gt=function tt(gt){var Ze="function"==typeof Symbol&&Symbol.iterator,ct=Ze&&gt[Ze],ot=0;if(ct)return ct.call(gt);if(gt&&"number"==typeof gt.length)return{next:function(){return gt&&ot>=gt.length&&(gt=void 0),{value:gt&&gt[ot++],done:!gt}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(gt),ct={},ot("next"),ot("throw"),ot("return"),ct[Symbol.asyncIterator]=function(){return this},ct);function ot(mt){ct[mt]=gt[mt]&&function(bt){return new Promise(function(zt,En){!function It(mt,bt,zt,En){Promise.resolve(En).then(function(wt){mt({value:wt,done:zt})},bt)}(zt,En,(bt=gt[mt](bt)).done,bt.value)})}}}G.d(He,{FC:()=>Ae,KL:()=>At,_T:()=>f,mG:()=>Ne,qq:()=>Me})}},Wt=>{var He=b=>Wt(Wt.s=b);He(1321),He(2040)}]);